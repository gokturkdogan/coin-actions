(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function su(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ge={},mr=[],Tn=()=>{},G1=()=>!1,Va=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ru=t=>t.startsWith("onUpdate:"),Ot=Object.assign,iu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Q1=Object.prototype.hasOwnProperty,ze=(t,e)=>Q1.call(t,e),Se=Array.isArray,_r=t=>Ma(t)==="[object Map]",Qp=t=>Ma(t)==="[object Set]",Pe=t=>typeof t=="function",ct=t=>typeof t=="string",bs=t=>typeof t=="symbol",Ze=t=>t!==null&&typeof t=="object",Yp=t=>(Ze(t)||Pe(t))&&Pe(t.then)&&Pe(t.catch),Jp=Object.prototype.toString,Ma=t=>Jp.call(t),Y1=t=>Ma(t).slice(8,-1),Xp=t=>Ma(t)==="[object Object]",ou=t=>ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ti=su(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fa=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},J1=/-(\w)/g,nn=Fa(t=>t.replace(J1,(e,n)=>n?n.toUpperCase():"")),X1=/\B([A-Z])/g,Ws=Fa(t=>t.replace(X1,"-$1").toLowerCase()),$a=Fa(t=>t.charAt(0).toUpperCase()+t.slice(1)),xc=Fa(t=>t?`on${$a(t)}`:""),us=(t,e)=>!Object.is(t,e),Uo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Zp=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},ll=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let hd;const Ua=()=>hd||(hd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function au(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ct(s)?nv(s):au(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(ct(t)||Ze(t))return t}const Z1=/;(?![^(]*\))/g,ev=/:([^]+)/,tv=/\/\*[^]*?\*\//g;function nv(t){const e={};return t.replace(tv,"").split(Z1).forEach(n=>{if(n){const s=n.split(ev);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function se(t){let e="";if(ct(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const s=se(t[n]);s&&(e+=s+" ")}else if(Ze(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const sv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rv=su(sv);function em(t){return!!t||t===""}const tm=t=>!!(t&&t.__v_isRef===!0),le=t=>ct(t)?t:t==null?"":Se(t)||Ze(t)&&(t.toString===Jp||!Pe(t.toString))?tm(t)?le(t.value):JSON.stringify(t,nm,2):String(t),nm=(t,e)=>tm(e)?nm(t,e.value):_r(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Lc(s,i)+" =>"]=r,n),{})}:Qp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Lc(n))}:bs(e)?Lc(e):Ze(e)&&!Se(e)&&!Xp(e)?String(e):e,Lc=(t,e="")=>{var n;return bs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mt;class sm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mt,!e&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Mt;try{return Mt=this,e()}finally{Mt=n}}}on(){++this._on===1&&(this.prevScope=Mt,Mt=this)}off(){this._on>0&&--this._on===0&&(Mt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function iv(t){return new sm(t)}function ov(){return Mt}let Ye;const Vc=new WeakSet;class rm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mt&&Mt.active&&Mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vc.has(this)&&(Vc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||om(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dd(this),am(this);const e=Ye,n=cn;Ye=this,cn=!0;try{return this.fn()}finally{cm(this),Ye=e,cn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)uu(e);this.deps=this.depsTail=void 0,dd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ul(this)&&this.run()}get dirty(){return ul(this)}}let im=0,Ei,wi;function om(t,e=!1){if(t.flags|=8,e){t.next=wi,wi=t;return}t.next=Ei,Ei=t}function cu(){im++}function lu(){if(--im>0)return;if(wi){let e=wi;for(wi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ei;){let e=Ei;for(Ei=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function am(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cm(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),uu(s),av(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function ul(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(lm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function lm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===xi)||(t.globalVersion=xi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ul(t))))return;t.flags|=2;const e=t.dep,n=Ye,s=cn;Ye=t,cn=!0;try{am(t);const r=t.fn(t._value);(e.version===0||us(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ye=n,cn=s,cm(t),t.flags&=-3}}function uu(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)uu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function av(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let cn=!0;const um=[];function Bn(){um.push(cn),cn=!1}function jn(){const t=um.pop();cn=t===void 0?!0:t}function dd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ye;Ye=void 0;try{e()}finally{Ye=n}}}let xi=0;class cv{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ye||!cn||Ye===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ye)n=this.activeLink=new cv(Ye,this),Ye.deps?(n.prevDep=Ye.depsTail,Ye.depsTail.nextDep=n,Ye.depsTail=n):Ye.deps=Ye.depsTail=n,hm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ye.depsTail,n.nextDep=void 0,Ye.depsTail.nextDep=n,Ye.depsTail=n,Ye.deps===n&&(Ye.deps=s)}return n}trigger(e){this.version++,xi++,this.notify(e)}notify(e){cu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{lu()}}}function hm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)hm(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const hl=new WeakMap,Ms=Symbol(""),dl=Symbol(""),Li=Symbol("");function At(t,e,n){if(cn&&Ye){let s=hl.get(t);s||hl.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new hu),r.map=s,r.key=n),r.track()}}function xn(t,e,n,s,r,i){const o=hl.get(t);if(!o){xi++;return}const c=l=>{l&&l.trigger()};if(cu(),e==="clear")o.forEach(c);else{const l=Se(t),u=l&&ou(n);if(l&&n==="length"){const h=Number(s);o.forEach((d,m)=>{(m==="length"||m===Li||!bs(m)&&m>=h)&&c(d)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),u&&c(o.get(Li)),e){case"add":l?u&&c(o.get("length")):(c(o.get(Ms)),_r(t)&&c(o.get(dl)));break;case"delete":l||(c(o.get(Ms)),_r(t)&&c(o.get(dl)));break;case"set":_r(t)&&c(o.get(Ms));break}}lu()}function rr(t){const e=qe(t);return e===t?e:(At(e,"iterate",Li),en(t)?e:e.map(gt))}function Ba(t){return At(t=qe(t),"iterate",Li),t}const lv={__proto__:null,[Symbol.iterator](){return Mc(this,Symbol.iterator,gt)},concat(...t){return rr(this).concat(...t.map(e=>Se(e)?rr(e):e))},entries(){return Mc(this,"entries",t=>(t[1]=gt(t[1]),t))},every(t,e){return On(this,"every",t,e,void 0,arguments)},filter(t,e){return On(this,"filter",t,e,n=>n.map(gt),arguments)},find(t,e){return On(this,"find",t,e,gt,arguments)},findIndex(t,e){return On(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return On(this,"findLast",t,e,gt,arguments)},findLastIndex(t,e){return On(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return On(this,"forEach",t,e,void 0,arguments)},includes(...t){return Fc(this,"includes",t)},indexOf(...t){return Fc(this,"indexOf",t)},join(t){return rr(this).join(t)},lastIndexOf(...t){return Fc(this,"lastIndexOf",t)},map(t,e){return On(this,"map",t,e,void 0,arguments)},pop(){return ui(this,"pop")},push(...t){return ui(this,"push",t)},reduce(t,...e){return fd(this,"reduce",t,e)},reduceRight(t,...e){return fd(this,"reduceRight",t,e)},shift(){return ui(this,"shift")},some(t,e){return On(this,"some",t,e,void 0,arguments)},splice(...t){return ui(this,"splice",t)},toReversed(){return rr(this).toReversed()},toSorted(t){return rr(this).toSorted(t)},toSpliced(...t){return rr(this).toSpliced(...t)},unshift(...t){return ui(this,"unshift",t)},values(){return Mc(this,"values",gt)}};function Mc(t,e,n){const s=Ba(t),r=s[e]();return s!==t&&!en(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const uv=Array.prototype;function On(t,e,n,s,r,i){const o=Ba(t),c=o!==t&&!en(t),l=o[e];if(l!==uv[e]){const d=l.apply(t,i);return c?gt(d):d}let u=n;o!==t&&(c?u=function(d,m){return n.call(this,gt(d),m,t)}:n.length>2&&(u=function(d,m){return n.call(this,d,m,t)}));const h=l.call(o,u,s);return c&&r?r(h):h}function fd(t,e,n,s){const r=Ba(t);let i=n;return r!==t&&(en(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,gt(c),l,t)}),r[e](i,...s)}function Fc(t,e,n){const s=qe(t);At(s,"iterate",Li);const r=s[e](...n);return(r===-1||r===!1)&&pu(n[0])?(n[0]=qe(n[0]),s[e](...n)):r}function ui(t,e,n=[]){Bn(),cu();const s=qe(t)[e].apply(t,n);return lu(),jn(),s}const hv=su("__proto__,__v_isRef,__isVue"),dm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bs));function dv(t){bs(t)||(t=String(t));const e=qe(this);return At(e,"has",t),e.hasOwnProperty(t)}class fm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?wv:gm:i?_m:mm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Se(e);if(!r){let l;if(o&&(l=lv[n]))return l;if(n==="hasOwnProperty")return dv}const c=Reflect.get(e,n,kt(e)?e:s);return(bs(n)?dm.has(n):hv(n))||(r||At(e,"get",n),i)?c:kt(c)?o&&ou(n)?c:c.value:Ze(c)?r?vm(c):Xi(c):c}}class pm extends fm{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=_s(i);if(!en(s)&&!_s(s)&&(i=qe(i),s=qe(s)),!Se(e)&&kt(i)&&!kt(s))return l?!1:(i.value=s,!0)}const o=Se(e)&&ou(n)?Number(n)<e.length:ze(e,n),c=Reflect.set(e,n,s,kt(e)?e:r);return e===qe(r)&&(o?us(s,i)&&xn(e,"set",n,s):xn(e,"add",n,s)),c}deleteProperty(e,n){const s=ze(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&xn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!bs(n)||!dm.has(n))&&At(e,"has",n),s}ownKeys(e){return At(e,"iterate",Se(e)?"length":Ms),Reflect.ownKeys(e)}}class fv extends fm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const pv=new pm,mv=new fv,_v=new pm(!0);const fl=t=>t,Oo=t=>Reflect.getPrototypeOf(t);function gv(t,e,n){return function(...s){const r=this.__v_raw,i=qe(r),o=_r(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...s),h=n?fl:e?ra:gt;return!e&&At(i,"iterate",l?dl:Ms),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:c?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function Do(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function yv(t,e){const n={get(r){const i=this.__v_raw,o=qe(i),c=qe(r);t||(us(r,c)&&At(o,"get",r),At(o,"get",c));const{has:l}=Oo(o),u=e?fl:t?ra:gt;if(l.call(o,r))return u(i.get(r));if(l.call(o,c))return u(i.get(c));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&At(qe(r),"iterate",Ms),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=qe(i),c=qe(r);return t||(us(r,c)&&At(o,"has",r),At(o,"has",c)),r===c?i.has(r):i.has(r)||i.has(c)},forEach(r,i){const o=this,c=o.__v_raw,l=qe(c),u=e?fl:t?ra:gt;return!t&&At(l,"iterate",Ms),c.forEach((h,d)=>r.call(i,u(h),u(d),o))}};return Ot(n,t?{add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear")}:{add(r){!e&&!en(r)&&!_s(r)&&(r=qe(r));const i=qe(this);return Oo(i).has.call(i,r)||(i.add(r),xn(i,"add",r,r)),this},set(r,i){!e&&!en(i)&&!_s(i)&&(i=qe(i));const o=qe(this),{has:c,get:l}=Oo(o);let u=c.call(o,r);u||(r=qe(r),u=c.call(o,r));const h=l.call(o,r);return o.set(r,i),u?us(i,h)&&xn(o,"set",r,i):xn(o,"add",r,i),this},delete(r){const i=qe(this),{has:o,get:c}=Oo(i);let l=o.call(i,r);l||(r=qe(r),l=o.call(i,r)),c&&c.call(i,r);const u=i.delete(r);return l&&xn(i,"delete",r,void 0),u},clear(){const r=qe(this),i=r.size!==0,o=r.clear();return i&&xn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=gv(r,t,e)}),n}function du(t,e){const n=yv(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ze(n,r)&&r in s?n:s,r,i)}const vv={get:du(!1,!1)},Tv={get:du(!1,!0)},Ev={get:du(!0,!1)};const mm=new WeakMap,_m=new WeakMap,gm=new WeakMap,wv=new WeakMap;function Iv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bv(t){return t.__v_skip||!Object.isExtensible(t)?0:Iv(Y1(t))}function Xi(t){return _s(t)?t:fu(t,!1,pv,vv,mm)}function ym(t){return fu(t,!1,_v,Tv,_m)}function vm(t){return fu(t,!0,mv,Ev,gm)}function fu(t,e,n,s,r){if(!Ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=bv(t);if(i===0)return t;const o=r.get(t);if(o)return o;const c=new Proxy(t,i===2?s:n);return r.set(t,c),c}function gr(t){return _s(t)?gr(t.__v_raw):!!(t&&t.__v_isReactive)}function _s(t){return!!(t&&t.__v_isReadonly)}function en(t){return!!(t&&t.__v_isShallow)}function pu(t){return t?!!t.__v_raw:!1}function qe(t){const e=t&&t.__v_raw;return e?qe(e):t}function Sv(t){return!ze(t,"__v_skip")&&Object.isExtensible(t)&&Zp(t,"__v_skip",!0),t}const gt=t=>Ze(t)?Xi(t):t,ra=t=>Ze(t)?vm(t):t;function kt(t){return t?t.__v_isRef===!0:!1}function Av(t){return Tm(t,!1)}function Cv(t){return Tm(t,!0)}function Tm(t,e){return kt(t)?t:new Rv(t,e)}class Rv{constructor(e,n){this.dep=new hu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:qe(e),this._value=n?e:gt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||en(e)||_s(e);e=s?e:qe(e),us(e,n)&&(this._rawValue=e,this._value=s?e:gt(e),this.dep.trigger())}}function yr(t){return kt(t)?t.value:t}const Pv={get:(t,e,n)=>e==="__v_raw"?t:yr(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return kt(r)&&!kt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Em(t){return gr(t)?t:new Proxy(t,Pv)}class kv{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new hu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ye!==this)return om(this,!0),!0}get value(){const e=this.dep.track();return lm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ov(t,e,n=!1){let s,r;return Pe(t)?s=t:(s=t.get,r=t.set),new kv(s,r,n)}const No={},ia=new WeakMap;let Ds;function Dv(t,e=!1,n=Ds){if(n){let s=ia.get(n);s||ia.set(n,s=[]),s.push(t)}}function Nv(t,e,n=Ge){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:c,call:l}=n,u=z=>r?z:en(z)||r===!1||r===0?Ln(z,1):Ln(z);let h,d,m,g,b=!1,R=!1;if(kt(t)?(d=()=>t.value,b=en(t)):gr(t)?(d=()=>u(t),b=!0):Se(t)?(R=!0,b=t.some(z=>gr(z)||en(z)),d=()=>t.map(z=>{if(kt(z))return z.value;if(gr(z))return u(z);if(Pe(z))return l?l(z,2):z()})):Pe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(m){Bn();try{m()}finally{jn()}}const z=Ds;Ds=h;try{return l?l(t,3,[g]):t(g)}finally{Ds=z}}:d=Tn,e&&r){const z=d,he=r===!0?1/0:r;d=()=>Ln(z(),he)}const P=ov(),F=()=>{h.stop(),P&&P.active&&iu(P.effects,h)};if(i&&e){const z=e;e=(...he)=>{z(...he),F()}}let L=R?new Array(t.length).fill(No):No;const $=z=>{if(!(!(h.flags&1)||!h.dirty&&!z))if(e){const he=h.run();if(r||b||(R?he.some((fe,C)=>us(fe,L[C])):us(he,L))){m&&m();const fe=Ds;Ds=h;try{const C=[he,L===No?void 0:R&&L[0]===No?[]:L,g];L=he,l?l(e,3,C):e(...C)}finally{Ds=fe}}}else h.run()};return c&&c($),h=new rm(d),h.scheduler=o?()=>o($,!1):$,g=z=>Dv(z,!1,h),m=h.onStop=()=>{const z=ia.get(h);if(z){if(l)l(z,4);else for(const he of z)he();ia.delete(h)}},e?s?$(!0):L=h.run():o?o($.bind(null,!0),!0):h.run(),F.pause=h.pause.bind(h),F.resume=h.resume.bind(h),F.stop=F,F}function Ln(t,e=1/0,n){if(e<=0||!Ze(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,kt(t))Ln(t.value,e,n);else if(Se(t))for(let s=0;s<t.length;s++)Ln(t[s],e,n);else if(Qp(t)||_r(t))t.forEach(s=>{Ln(s,e,n)});else if(Xp(t)){for(const s in t)Ln(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ln(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zi(t,e,n,s){try{return s?t(...s):t()}catch(r){ja(r,e,n)}}function Sn(t,e,n,s){if(Pe(t)){const r=Zi(t,e,n,s);return r&&Yp(r)&&r.catch(i=>{ja(i,e,n)}),r}if(Se(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Sn(t[i],e,n,s));return r}}function ja(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ge;if(e){let c=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const h=c.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}c=c.parent}if(i){Bn(),Zi(i,null,10,[t,l,u]),jn();return}}xv(t,n,r,s,o)}function xv(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Lt=[];let gn=-1;const vr=[];let ns=null,ar=0;const wm=Promise.resolve();let oa=null;function Im(t){const e=oa||wm;return t?e.then(this?t.bind(this):t):e}function Lv(t){let e=gn+1,n=Lt.length;for(;e<n;){const s=e+n>>>1,r=Lt[s],i=Vi(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function mu(t){if(!(t.flags&1)){const e=Vi(t),n=Lt[Lt.length-1];!n||!(t.flags&2)&&e>=Vi(n)?Lt.push(t):Lt.splice(Lv(e),0,t),t.flags|=1,bm()}}function bm(){oa||(oa=wm.then(Am))}function Vv(t){Se(t)?vr.push(...t):ns&&t.id===-1?ns.splice(ar+1,0,t):t.flags&1||(vr.push(t),t.flags|=1),bm()}function pd(t,e,n=gn+1){for(;n<Lt.length;n++){const s=Lt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Lt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Sm(t){if(vr.length){const e=[...new Set(vr)].sort((n,s)=>Vi(n)-Vi(s));if(vr.length=0,ns){ns.push(...e);return}for(ns=e,ar=0;ar<ns.length;ar++){const n=ns[ar];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ns=null,ar=0}}const Vi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Am(t){try{for(gn=0;gn<Lt.length;gn++){const e=Lt[gn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Zi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;gn<Lt.length;gn++){const e=Lt[gn];e&&(e.flags&=-2)}gn=-1,Lt.length=0,Sm(),oa=null,(Lt.length||vr.length)&&Am()}}let Wt=null,Cm=null;function aa(t){const e=Wt;return Wt=t,Cm=t&&t.type.__scopeId||null,e}function $t(t,e=Wt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&bd(-1);const i=aa(e);let o;try{o=t(...r)}finally{aa(i),s._d&&bd(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ln(t,e){if(Wt===null)return t;const n=Wa(Wt),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,c,l=Ge]=e[r];i&&(Pe(i)&&(i={mounted:i,updated:i}),i.deep&&Ln(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function ks(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const c=r[o];i&&(c.oldValue=i[o].value);let l=c.dir[s];l&&(Bn(),Sn(l,n,8,[t.el,c,t,e]),jn())}}const Mv=Symbol("_vte"),Fv=t=>t.__isTeleport;function _u(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_u(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Rm(t,e){return Pe(t)?Ot({name:t.name},e,{setup:t}):t}function Pm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ca(t,e,n,s,r=!1){if(Se(t)){t.forEach((b,R)=>ca(b,e&&(Se(e)?e[R]:e),n,s,r));return}if(Ii(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ca(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Wa(s.component):s.el,o=r?null:i,{i:c,r:l}=t,u=e&&e.r,h=c.refs===Ge?c.refs={}:c.refs,d=c.setupState,m=qe(d),g=d===Ge?()=>!1:b=>ze(m,b);if(u!=null&&u!==l&&(ct(u)?(h[u]=null,g(u)&&(d[u]=null)):kt(u)&&(u.value=null)),Pe(l))Zi(l,c,12,[o,h]);else{const b=ct(l),R=kt(l);if(b||R){const P=()=>{if(t.f){const F=b?g(l)?d[l]:h[l]:l.value;r?Se(F)&&iu(F,i):Se(F)?F.includes(i)||F.push(i):b?(h[l]=[i],g(l)&&(d[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else b?(h[l]=o,g(l)&&(d[l]=o)):R&&(l.value=o,t.k&&(h[t.k]=o))};o?(P.id=-1,zt(P,n)):P()}}}Ua().requestIdleCallback;Ua().cancelIdleCallback;const Ii=t=>!!t.type.__asyncLoader,km=t=>t.type.__isKeepAlive;function $v(t,e){Om(t,"a",e)}function Uv(t,e){Om(t,"da",e)}function Om(t,e,n=Rt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ha(e,s,n),n){let r=n.parent;for(;r&&r.parent;)km(r.parent.vnode)&&Bv(s,e,n,r),r=r.parent}}function Bv(t,e,n,s){const r=Ha(e,t,s,!0);Dm(()=>{iu(s[e],r)},n)}function Ha(t,e,n=Rt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Bn();const c=eo(n),l=Sn(e,n,t,o);return c(),jn(),l});return s?r.unshift(i):r.push(i),i}}const Kn=t=>(e,n=Rt)=>{(!Fi||t==="sp")&&Ha(t,(...s)=>e(...s),n)},jv=Kn("bm"),Hv=Kn("m"),qv=Kn("bu"),zv=Kn("u"),Wv=Kn("bum"),Dm=Kn("um"),Kv=Kn("sp"),Gv=Kn("rtg"),Qv=Kn("rtc");function Yv(t,e=Rt){Ha("ec",t,e)}const Jv="components";function ne(t,e){return Zv(Jv,t,!0,e)||t}const Xv=Symbol.for("v-ndc");function Zv(t,e,n=!0,s=!1){const r=Wt||Rt;if(r){const i=r.type;{const c=U0(i,!1);if(c&&(c===e||c===nn(e)||c===$a(nn(e))))return i}const o=md(r[t]||i[t],e)||md(r.appContext[t],e);return!o&&s?i:o}}function md(t,e){return t&&(t[e]||t[nn(e)]||t[$a(nn(e))])}function sn(t,e,n,s){let r;const i=n,o=Se(t);if(o||ct(t)){const c=o&&gr(t);let l=!1,u=!1;c&&(l=!en(t),u=_s(t),t=Ba(t)),r=new Array(t.length);for(let h=0,d=t.length;h<d;h++)r[h]=e(l?u?ra(gt(t[h])):gt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let c=0;c<t;c++)r[c]=e(c+1,c,void 0,i)}else if(Ze(t))if(t[Symbol.iterator])r=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);r=new Array(c.length);for(let l=0,u=c.length;l<u;l++){const h=c[l];r[l]=e(t[h],h,l,i)}}else r=[];return r}const pl=t=>t?Xm(t)?Wa(t):pl(t.parent):null,bi=Ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>pl(t.parent),$root:t=>pl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xm(t),$forceUpdate:t=>t.f||(t.f=()=>{mu(t.update)}),$nextTick:t=>t.n||(t.n=Im.bind(t.proxy)),$watch:t=>T0.bind(t)}),$c=(t,e)=>t!==Ge&&!t.__isScriptSetup&&ze(t,e),e0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:c,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if($c(s,e))return o[e]=1,s[e];if(r!==Ge&&ze(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&ze(u,e))return o[e]=3,i[e];if(n!==Ge&&ze(n,e))return o[e]=4,n[e];ml&&(o[e]=0)}}const h=bi[e];let d,m;if(h)return e==="$attrs"&&At(t.attrs,"get",""),h(t);if((d=c.__cssModules)&&(d=d[e]))return d;if(n!==Ge&&ze(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,ze(m,e))return m[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return $c(r,e)?(r[e]=n,!0):s!==Ge&&ze(s,e)?(s[e]=n,!0):ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let c;return!!n[o]||t!==Ge&&ze(t,o)||$c(e,o)||(c=i[0])&&ze(c,o)||ze(s,o)||ze(bi,o)||ze(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _d(t){return Se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ml=!0;function t0(t){const e=xm(t),n=t.proxy,s=t.ctx;ml=!1,e.beforeCreate&&gd(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:c,provide:l,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:g,updated:b,activated:R,deactivated:P,beforeDestroy:F,beforeUnmount:L,destroyed:$,unmounted:z,render:he,renderTracked:fe,renderTriggered:C,errorCaptured:v,serverPrefetch:w,expose:S,inheritAttrs:A,components:k,directives:I,filters:de}=e;if(u&&n0(u,s,null),o)for(const Q in o){const q=o[Q];Pe(q)&&(s[Q]=q.bind(n))}if(r){const Q=r.call(n,n);Ze(Q)&&(t.data=Xi(Q))}if(ml=!0,i)for(const Q in i){const q=i[Q],me=Pe(q)?q.bind(n,n):Pe(q.get)?q.get.bind(n,n):Tn,ge=!Pe(q)&&Pe(q.set)?q.set.bind(n):Tn,xe=Jt({get:me,set:ge});Object.defineProperty(s,Q,{enumerable:!0,configurable:!0,get:()=>xe.value,set:Ae=>xe.value=Ae})}if(c)for(const Q in c)Nm(c[Q],s,n,Q);if(l){const Q=Pe(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(q=>{Bo(q,Q[q])})}h&&gd(h,t,"c");function G(Q,q){Se(q)?q.forEach(me=>Q(me.bind(n))):q&&Q(q.bind(n))}if(G(jv,d),G(Hv,m),G(qv,g),G(zv,b),G($v,R),G(Uv,P),G(Yv,v),G(Qv,fe),G(Gv,C),G(Wv,L),G(Dm,z),G(Kv,w),Se(S))if(S.length){const Q=t.exposed||(t.exposed={});S.forEach(q=>{Object.defineProperty(Q,q,{get:()=>n[q],set:me=>n[q]=me})})}else t.exposed||(t.exposed={});he&&t.render===Tn&&(t.render=he),A!=null&&(t.inheritAttrs=A),k&&(t.components=k),I&&(t.directives=I),w&&Pm(t)}function n0(t,e,n=Tn){Se(t)&&(t=_l(t));for(const s in t){const r=t[s];let i;Ze(r)?"default"in r?i=Fn(r.from||s,r.default,!0):i=Fn(r.from||s):i=Fn(r),kt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function gd(t,e,n){Sn(Se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Nm(t,e,n,s){let r=s.includes(".")?Km(n,s):()=>n[s];if(ct(t)){const i=e[t];Pe(i)&&Er(r,i)}else if(Pe(t))Er(r,t.bind(n));else if(Ze(t))if(Se(t))t.forEach(i=>Nm(i,e,n,s));else{const i=Pe(t.handler)?t.handler.bind(n):e[t.handler];Pe(i)&&Er(r,i,t)}}function xm(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>la(l,u,o,!0)),la(l,e,o)),Ze(e)&&i.set(e,l),l}function la(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&la(t,i,n,!0),r&&r.forEach(o=>la(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const c=s0[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const s0={data:yd,props:vd,emits:vd,methods:pi,computed:pi,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:pi,directives:pi,watch:i0,provide:yd,inject:r0};function yd(t,e){return e?t?function(){return Ot(Pe(t)?t.call(this,this):t,Pe(e)?e.call(this,this):e)}:e:t}function r0(t,e){return pi(_l(t),_l(e))}function _l(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function xt(t,e){return t?[...new Set([].concat(t,e))]:e}function pi(t,e){return t?Ot(Object.create(null),t,e):e}function vd(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:Ot(Object.create(null),_d(t),_d(e??{})):e}function i0(t,e){if(!t)return e;if(!e)return t;const n=Ot(Object.create(null),t);for(const s in e)n[s]=xt(t[s],e[s]);return n}function Lm(){return{app:null,config:{isNativeTag:G1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let o0=0;function a0(t,e){return function(s,r=null){Pe(s)||(s=Ot({},s)),r!=null&&!Ze(r)&&(r=null);const i=Lm(),o=new WeakSet,c=[];let l=!1;const u=i.app={_uid:o0++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:j0,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&Pe(h.install)?(o.add(h),h.install(u,...d)):Pe(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,m){if(!l){const g=u._ceVNode||X(s,r);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(g,h,m),l=!0,u._container=h,h.__vue_app__=u,Wa(g.component)}},onUnmount(h){c.push(h)},unmount(){l&&(Sn(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=Tr;Tr=u;try{return h()}finally{Tr=d}}};return u}}let Tr=null;function Bo(t,e){if(Rt){let n=Rt.provides;const s=Rt.parent&&Rt.parent.provides;s===n&&(n=Rt.provides=Object.create(s)),n[t]=e}}function Fn(t,e,n=!1){const s=Rt||Wt;if(s||Tr){let r=Tr?Tr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Pe(e)?e.call(s&&s.proxy):e}}const Vm={},Mm=()=>Object.create(Vm),Fm=t=>Object.getPrototypeOf(t)===Vm;function c0(t,e,n,s=!1){const r={},i=Mm();t.propsDefaults=Object.create(null),$m(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:ym(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function l0(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,c=qe(r),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(qa(t.emitsOptions,m))continue;const g=e[m];if(l)if(ze(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const b=nn(m);r[b]=gl(l,c,b,g,t,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{$m(t,e,r,i)&&(u=!0);let h;for(const d in c)(!e||!ze(e,d)&&((h=Ws(d))===d||!ze(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(r[d]=gl(l,c,d,void 0,t,!0)):delete r[d]);if(i!==c)for(const d in i)(!e||!ze(e,d))&&(delete i[d],u=!0)}u&&xn(t.attrs,"set","")}function $m(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(Ti(l))continue;const u=e[l];let h;r&&ze(r,h=nn(l))?!i||!i.includes(h)?n[h]=u:(c||(c={}))[h]=u:qa(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=qe(n),u=c||Ge;for(let h=0;h<i.length;h++){const d=i[h];n[d]=gl(r,l,d,u[d],t,!ze(u,d))}}return o}function gl(t,e,n,s,r,i){const o=t[n];if(o!=null){const c=ze(o,"default");if(c&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Pe(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const h=eo(r);s=u[n]=l.call(null,e),h()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!c?s=!1:o[1]&&(s===""||s===Ws(n))&&(s=!0))}return s}const u0=new WeakMap;function Um(t,e,n=!1){const s=n?u0:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},c=[];let l=!1;if(!Pe(t)){const h=d=>{l=!0;const[m,g]=Um(d,e,!0);Ot(o,m),g&&c.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Ze(t)&&s.set(t,mr),mr;if(Se(i))for(let h=0;h<i.length;h++){const d=nn(i[h]);Td(d)&&(o[d]=Ge)}else if(i)for(const h in i){const d=nn(h);if(Td(d)){const m=i[h],g=o[d]=Se(m)||Pe(m)?{type:m}:Ot({},m),b=g.type;let R=!1,P=!0;if(Se(b))for(let F=0;F<b.length;++F){const L=b[F],$=Pe(L)&&L.name;if($==="Boolean"){R=!0;break}else $==="String"&&(P=!1)}else R=Pe(b)&&b.name==="Boolean";g[0]=R,g[1]=P,(R||ze(g,"default"))&&c.push(d)}}const u=[o,c];return Ze(t)&&s.set(t,u),u}function Td(t){return t[0]!=="$"&&!Ti(t)}const gu=t=>t[0]==="_"||t==="$stable",yu=t=>Se(t)?t.map(vn):[vn(t)],h0=(t,e,n)=>{if(e._n)return e;const s=$t((...r)=>yu(e(...r)),n);return s._c=!1,s},Bm=(t,e,n)=>{const s=t._ctx;for(const r in t){if(gu(r))continue;const i=t[r];if(Pe(i))e[r]=h0(r,i,s);else if(i!=null){const o=yu(i);e[r]=()=>o}}},jm=(t,e)=>{const n=yu(e);t.slots.default=()=>n},Hm=(t,e,n)=>{for(const s in e)(n||!gu(s))&&(t[s]=e[s])},d0=(t,e,n)=>{const s=t.slots=Mm();if(t.vnode.shapeFlag&32){const r=e._;r?(Hm(s,e,n),n&&Zp(s,"_",r,!0)):Bm(e,s)}else e&&jm(t,e)},f0=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ge;if(s.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:Hm(r,e,n):(i=!e.$stable,Bm(e,r)),o=e}else e&&(jm(t,e),o={default:1});if(i)for(const c in r)!gu(c)&&o[c]==null&&delete r[c]},zt=C0;function p0(t){return m0(t)}function m0(t,e){const n=Ua();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:c,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:g=Tn,insertStaticContent:b}=t,R=(T,E,O,U=null,H=null,B=null,ae=void 0,ee=null,J=!!E.dynamicChildren)=>{if(T===E)return;T&&!hi(T,E)&&(U=V(T),Ae(T,H,B,!0),T=null),E.patchFlag===-2&&(J=!1,E.dynamicChildren=null);const{type:W,ref:_e,shapeFlag:oe}=E;switch(W){case za:P(T,E,O,U);break;case gs:F(T,E,O,U);break;case jo:T==null&&L(E,O,U,ae);break;case ot:k(T,E,O,U,H,B,ae,ee,J);break;default:oe&1?he(T,E,O,U,H,B,ae,ee,J):oe&6?I(T,E,O,U,H,B,ae,ee,J):(oe&64||oe&128)&&W.process(T,E,O,U,H,B,ae,ee,J,ie)}_e!=null&&H&&ca(_e,T&&T.ref,B,E||T,!E)},P=(T,E,O,U)=>{if(T==null)s(E.el=c(E.children),O,U);else{const H=E.el=T.el;E.children!==T.children&&u(H,E.children)}},F=(T,E,O,U)=>{T==null?s(E.el=l(E.children||""),O,U):E.el=T.el},L=(T,E,O,U)=>{[T.el,T.anchor]=b(T.children,E,O,U,T.el,T.anchor)},$=({el:T,anchor:E},O,U)=>{let H;for(;T&&T!==E;)H=m(T),s(T,O,U),T=H;s(E,O,U)},z=({el:T,anchor:E})=>{let O;for(;T&&T!==E;)O=m(T),r(T),T=O;r(E)},he=(T,E,O,U,H,B,ae,ee,J)=>{E.type==="svg"?ae="svg":E.type==="math"&&(ae="mathml"),T==null?fe(E,O,U,H,B,ae,ee,J):w(T,E,H,B,ae,ee,J)},fe=(T,E,O,U,H,B,ae,ee)=>{let J,W;const{props:_e,shapeFlag:oe,transition:pe,dirs:Ie}=T;if(J=T.el=o(T.type,B,_e&&_e.is,_e),oe&8?h(J,T.children):oe&16&&v(T.children,J,null,U,H,Uc(T,B),ae,ee),Ie&&ks(T,null,U,"created"),C(J,T,T.scopeId,ae,U),_e){for(const Oe in _e)Oe!=="value"&&!Ti(Oe)&&i(J,Oe,null,_e[Oe],B,U);"value"in _e&&i(J,"value",null,_e.value,B),(W=_e.onVnodeBeforeMount)&&mn(W,U,T)}Ie&&ks(T,null,U,"beforeMount");const ve=_0(H,pe);ve&&pe.beforeEnter(J),s(J,E,O),((W=_e&&_e.onVnodeMounted)||ve||Ie)&&zt(()=>{W&&mn(W,U,T),ve&&pe.enter(J),Ie&&ks(T,null,U,"mounted")},H)},C=(T,E,O,U,H)=>{if(O&&g(T,O),U)for(let B=0;B<U.length;B++)g(T,U[B]);if(H){let B=H.subTree;if(E===B||Qm(B.type)&&(B.ssContent===E||B.ssFallback===E)){const ae=H.vnode;C(T,ae,ae.scopeId,ae.slotScopeIds,H.parent)}}},v=(T,E,O,U,H,B,ae,ee,J=0)=>{for(let W=J;W<T.length;W++){const _e=T[W]=ee?ss(T[W]):vn(T[W]);R(null,_e,E,O,U,H,B,ae,ee)}},w=(T,E,O,U,H,B,ae)=>{const ee=E.el=T.el;let{patchFlag:J,dynamicChildren:W,dirs:_e}=E;J|=T.patchFlag&16;const oe=T.props||Ge,pe=E.props||Ge;let Ie;if(O&&Os(O,!1),(Ie=pe.onVnodeBeforeUpdate)&&mn(Ie,O,E,T),_e&&ks(E,T,O,"beforeUpdate"),O&&Os(O,!0),(oe.innerHTML&&pe.innerHTML==null||oe.textContent&&pe.textContent==null)&&h(ee,""),W?S(T.dynamicChildren,W,ee,O,U,Uc(E,H),B):ae||q(T,E,ee,null,O,U,Uc(E,H),B,!1),J>0){if(J&16)A(ee,oe,pe,O,H);else if(J&2&&oe.class!==pe.class&&i(ee,"class",null,pe.class,H),J&4&&i(ee,"style",oe.style,pe.style,H),J&8){const ve=E.dynamicProps;for(let Oe=0;Oe<ve.length;Oe++){const Ue=ve[Oe],Tt=oe[Ue],ft=pe[Ue];(ft!==Tt||Ue==="value")&&i(ee,Ue,Tt,ft,H,O)}}J&1&&T.children!==E.children&&h(ee,E.children)}else!ae&&W==null&&A(ee,oe,pe,O,H);((Ie=pe.onVnodeUpdated)||_e)&&zt(()=>{Ie&&mn(Ie,O,E,T),_e&&ks(E,T,O,"updated")},U)},S=(T,E,O,U,H,B,ae)=>{for(let ee=0;ee<E.length;ee++){const J=T[ee],W=E[ee],_e=J.el&&(J.type===ot||!hi(J,W)||J.shapeFlag&198)?d(J.el):O;R(J,W,_e,null,U,H,B,ae,!0)}},A=(T,E,O,U,H)=>{if(E!==O){if(E!==Ge)for(const B in E)!Ti(B)&&!(B in O)&&i(T,B,E[B],null,H,U);for(const B in O){if(Ti(B))continue;const ae=O[B],ee=E[B];ae!==ee&&B!=="value"&&i(T,B,ee,ae,H,U)}"value"in O&&i(T,"value",E.value,O.value,H)}},k=(T,E,O,U,H,B,ae,ee,J)=>{const W=E.el=T?T.el:c(""),_e=E.anchor=T?T.anchor:c("");let{patchFlag:oe,dynamicChildren:pe,slotScopeIds:Ie}=E;Ie&&(ee=ee?ee.concat(Ie):Ie),T==null?(s(W,O,U),s(_e,O,U),v(E.children||[],O,_e,H,B,ae,ee,J)):oe>0&&oe&64&&pe&&T.dynamicChildren?(S(T.dynamicChildren,pe,O,H,B,ae,ee),(E.key!=null||H&&E===H.subTree)&&qm(T,E,!0)):q(T,E,O,_e,H,B,ae,ee,J)},I=(T,E,O,U,H,B,ae,ee,J)=>{E.slotScopeIds=ee,T==null?E.shapeFlag&512?H.ctx.activate(E,O,U,ae,J):de(E,O,U,H,B,ae,J):re(T,E,J)},de=(T,E,O,U,H,B,ae)=>{const ee=T.component=L0(T,U,H);if(km(T)&&(ee.ctx.renderer=ie),V0(ee,!1,ae),ee.asyncDep){if(H&&H.registerDep(ee,G,ae),!T.el){const J=ee.subTree=X(gs);F(null,J,E,O)}}else G(ee,T,E,O,H,B,ae)},re=(T,E,O)=>{const U=E.component=T.component;if(S0(T,E,O))if(U.asyncDep&&!U.asyncResolved){Q(U,E,O);return}else U.next=E,U.update();else E.el=T.el,U.vnode=E},G=(T,E,O,U,H,B,ae)=>{const ee=()=>{if(T.isMounted){let{next:oe,bu:pe,u:Ie,parent:ve,vnode:Oe}=T;{const Et=zm(T);if(Et){oe&&(oe.el=Oe.el,Q(T,oe,ae)),Et.asyncDep.then(()=>{T.isUnmounted||ee()});return}}let Ue=oe,Tt;Os(T,!1),oe?(oe.el=Oe.el,Q(T,oe,ae)):oe=Oe,pe&&Uo(pe),(Tt=oe.props&&oe.props.onVnodeBeforeUpdate)&&mn(Tt,ve,oe,Oe),Os(T,!0);const ft=wd(T),Qt=T.subTree;T.subTree=ft,R(Qt,ft,d(Qt.el),V(Qt),T,H,B),oe.el=ft.el,Ue===null&&A0(T,ft.el),Ie&&zt(Ie,H),(Tt=oe.props&&oe.props.onVnodeUpdated)&&zt(()=>mn(Tt,ve,oe,Oe),H)}else{let oe;const{el:pe,props:Ie}=E,{bm:ve,m:Oe,parent:Ue,root:Tt,type:ft}=T,Qt=Ii(E);Os(T,!1),ve&&Uo(ve),!Qt&&(oe=Ie&&Ie.onVnodeBeforeMount)&&mn(oe,Ue,E),Os(T,!0);{Tt.ce&&Tt.ce._injectChildStyle(ft);const Et=T.subTree=wd(T);R(null,Et,O,U,T,H,B),E.el=Et.el}if(Oe&&zt(Oe,H),!Qt&&(oe=Ie&&Ie.onVnodeMounted)){const Et=E;zt(()=>mn(oe,Ue,Et),H)}(E.shapeFlag&256||Ue&&Ii(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&T.a&&zt(T.a,H),T.isMounted=!0,E=O=U=null}};T.scope.on();const J=T.effect=new rm(ee);T.scope.off();const W=T.update=J.run.bind(J),_e=T.job=J.runIfDirty.bind(J);_e.i=T,_e.id=T.uid,J.scheduler=()=>mu(_e),Os(T,!0),W()},Q=(T,E,O)=>{E.component=T;const U=T.vnode.props;T.vnode=E,T.next=null,l0(T,E.props,U,O),f0(T,E.children,O),Bn(),pd(T),jn()},q=(T,E,O,U,H,B,ae,ee,J=!1)=>{const W=T&&T.children,_e=T?T.shapeFlag:0,oe=E.children,{patchFlag:pe,shapeFlag:Ie}=E;if(pe>0){if(pe&128){ge(W,oe,O,U,H,B,ae,ee,J);return}else if(pe&256){me(W,oe,O,U,H,B,ae,ee,J);return}}Ie&8?(_e&16&&rt(W,H,B),oe!==W&&h(O,oe)):_e&16?Ie&16?ge(W,oe,O,U,H,B,ae,ee,J):rt(W,H,B,!0):(_e&8&&h(O,""),Ie&16&&v(oe,O,U,H,B,ae,ee,J))},me=(T,E,O,U,H,B,ae,ee,J)=>{T=T||mr,E=E||mr;const W=T.length,_e=E.length,oe=Math.min(W,_e);let pe;for(pe=0;pe<oe;pe++){const Ie=E[pe]=J?ss(E[pe]):vn(E[pe]);R(T[pe],Ie,O,null,H,B,ae,ee,J)}W>_e?rt(T,H,B,!0,!1,oe):v(E,O,U,H,B,ae,ee,J,oe)},ge=(T,E,O,U,H,B,ae,ee,J)=>{let W=0;const _e=E.length;let oe=T.length-1,pe=_e-1;for(;W<=oe&&W<=pe;){const Ie=T[W],ve=E[W]=J?ss(E[W]):vn(E[W]);if(hi(Ie,ve))R(Ie,ve,O,null,H,B,ae,ee,J);else break;W++}for(;W<=oe&&W<=pe;){const Ie=T[oe],ve=E[pe]=J?ss(E[pe]):vn(E[pe]);if(hi(Ie,ve))R(Ie,ve,O,null,H,B,ae,ee,J);else break;oe--,pe--}if(W>oe){if(W<=pe){const Ie=pe+1,ve=Ie<_e?E[Ie].el:U;for(;W<=pe;)R(null,E[W]=J?ss(E[W]):vn(E[W]),O,ve,H,B,ae,ee,J),W++}}else if(W>pe)for(;W<=oe;)Ae(T[W],H,B,!0),W++;else{const Ie=W,ve=W,Oe=new Map;for(W=ve;W<=pe;W++){const pt=E[W]=J?ss(E[W]):vn(E[W]);pt.key!=null&&Oe.set(pt.key,W)}let Ue,Tt=0;const ft=pe-ve+1;let Qt=!1,Et=0;const Yn=new Array(ft);for(W=0;W<ft;W++)Yn[W]=0;for(W=Ie;W<=oe;W++){const pt=T[W];if(Tt>=ft){Ae(pt,H,B,!0);continue}let Yt;if(pt.key!=null)Yt=Oe.get(pt.key);else for(Ue=ve;Ue<=pe;Ue++)if(Yn[Ue-ve]===0&&hi(pt,E[Ue])){Yt=Ue;break}Yt===void 0?Ae(pt,H,B,!0):(Yn[Yt-ve]=W+1,Yt>=Et?Et=Yt:Qt=!0,R(pt,E[Yt],O,null,H,B,ae,ee,J),Tt++)}const Jr=Qt?g0(Yn):mr;for(Ue=Jr.length-1,W=ft-1;W>=0;W--){const pt=ve+W,Yt=E[pt],mo=pt+1<_e?E[pt+1].el:U;Yn[W]===0?R(null,Yt,O,mo,H,B,ae,ee,J):Qt&&(Ue<0||W!==Jr[Ue]?xe(Yt,O,mo,2):Ue--)}}},xe=(T,E,O,U,H=null)=>{const{el:B,type:ae,transition:ee,children:J,shapeFlag:W}=T;if(W&6){xe(T.component.subTree,E,O,U);return}if(W&128){T.suspense.move(E,O,U);return}if(W&64){ae.move(T,E,O,ie);return}if(ae===ot){s(B,E,O);for(let oe=0;oe<J.length;oe++)xe(J[oe],E,O,U);s(T.anchor,E,O);return}if(ae===jo){$(T,E,O);return}if(U!==2&&W&1&&ee)if(U===0)ee.beforeEnter(B),s(B,E,O),zt(()=>ee.enter(B),H);else{const{leave:oe,delayLeave:pe,afterLeave:Ie}=ee,ve=()=>{T.ctx.isUnmounted?r(B):s(B,E,O)},Oe=()=>{oe(B,()=>{ve(),Ie&&Ie()})};pe?pe(B,ve,Oe):Oe()}else s(B,E,O)},Ae=(T,E,O,U=!1,H=!1)=>{const{type:B,props:ae,ref:ee,children:J,dynamicChildren:W,shapeFlag:_e,patchFlag:oe,dirs:pe,cacheIndex:Ie}=T;if(oe===-2&&(H=!1),ee!=null&&(Bn(),ca(ee,null,O,T,!0),jn()),Ie!=null&&(E.renderCache[Ie]=void 0),_e&256){E.ctx.deactivate(T);return}const ve=_e&1&&pe,Oe=!Ii(T);let Ue;if(Oe&&(Ue=ae&&ae.onVnodeBeforeUnmount)&&mn(Ue,E,T),_e&6)et(T.component,O,U);else{if(_e&128){T.suspense.unmount(O,U);return}ve&&ks(T,null,E,"beforeUnmount"),_e&64?T.type.remove(T,E,O,ie,U):W&&!W.hasOnce&&(B!==ot||oe>0&&oe&64)?rt(W,E,O,!1,!0):(B===ot&&oe&384||!H&&_e&16)&&rt(J,E,O),U&&ke(T)}(Oe&&(Ue=ae&&ae.onVnodeUnmounted)||ve)&&zt(()=>{Ue&&mn(Ue,E,T),ve&&ks(T,null,E,"unmounted")},O)},ke=T=>{const{type:E,el:O,anchor:U,transition:H}=T;if(E===ot){Je(O,U);return}if(E===jo){z(T);return}const B=()=>{r(O),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(T.shapeFlag&1&&H&&!H.persisted){const{leave:ae,delayLeave:ee}=H,J=()=>ae(O,B);ee?ee(T.el,B,J):J()}else B()},Je=(T,E)=>{let O;for(;T!==E;)O=m(T),r(T),T=O;r(E)},et=(T,E,O)=>{const{bum:U,scope:H,job:B,subTree:ae,um:ee,m:J,a:W,parent:_e,slots:{__:oe}}=T;Ed(J),Ed(W),U&&Uo(U),_e&&Se(oe)&&oe.forEach(pe=>{_e.renderCache[pe]=void 0}),H.stop(),B&&(B.flags|=8,Ae(ae,T,E,O)),ee&&zt(ee,E),zt(()=>{T.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},rt=(T,E,O,U=!1,H=!1,B=0)=>{for(let ae=B;ae<T.length;ae++)Ae(T[ae],E,O,U,H)},V=T=>{if(T.shapeFlag&6)return V(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const E=m(T.anchor||T.el),O=E&&E[Mv];return O?m(O):E};let ce=!1;const Z=(T,E,O)=>{T==null?E._vnode&&Ae(E._vnode,null,null,!0):R(E._vnode||null,T,E,null,null,null,O),E._vnode=T,ce||(ce=!0,pd(),Sm(),ce=!1)},ie={p:R,um:Ae,m:xe,r:ke,mt:de,mc:v,pc:q,pbc:S,n:V,o:t};return{render:Z,hydrate:void 0,createApp:a0(Z)}}function Uc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Os({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function _0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qm(t,e,n=!1){const s=t.children,r=e.children;if(Se(s)&&Se(r))for(let i=0;i<s.length;i++){const o=s[i];let c=r[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[i]=ss(r[i]),c.el=o.el),!n&&c.patchFlag!==-2&&qm(o,c)),c.type===za&&(c.el=o.el),c.type===gs&&!c.el&&(c.el=o.el)}}function g0(t){const e=t.slice(),n=[0];let s,r,i,o,c;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<u?i=c+1:o=c;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function zm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:zm(e)}function Ed(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const y0=Symbol.for("v-scx"),v0=()=>Fn(y0);function Er(t,e,n){return Wm(t,e,n)}function Wm(t,e,n=Ge){const{immediate:s,deep:r,flush:i,once:o}=n,c=Ot({},n),l=e&&s||!e&&i!=="post";let u;if(Fi){if(i==="sync"){const g=v0();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Tn,g.resume=Tn,g.pause=Tn,g}}const h=Rt;c.call=(g,b,R)=>Sn(g,h,b,R);let d=!1;i==="post"?c.scheduler=g=>{zt(g,h&&h.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(g,b)=>{b?g():mu(g)}),c.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const m=Nv(t,e,c);return Fi&&(u?u.push(m):l&&m()),m}function T0(t,e,n){const s=this.proxy,r=ct(t)?t.includes(".")?Km(s,t):()=>s[t]:t.bind(s,s);let i;Pe(e)?i=e:(i=e.handler,n=e);const o=eo(this),c=Wm(r,i.bind(s),n);return o(),c}function Km(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const E0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${nn(e)}Modifiers`]||t[`${Ws(e)}Modifiers`];function w0(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ge;let r=n;const i=e.startsWith("update:"),o=i&&E0(s,e.slice(7));o&&(o.trim&&(r=n.map(h=>ct(h)?h.trim():h)),o.number&&(r=n.map(ll)));let c,l=s[c=xc(e)]||s[c=xc(nn(e))];!l&&i&&(l=s[c=xc(Ws(e))]),l&&Sn(l,t,6,r);const u=s[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Sn(u,t,6,r)}}function Gm(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},c=!1;if(!Pe(t)){const l=u=>{const h=Gm(u,e,!0);h&&(c=!0,Ot(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Ze(t)&&s.set(t,null),null):(Se(i)?i.forEach(l=>o[l]=null):Ot(o,i),Ze(t)&&s.set(t,o),o)}function qa(t,e){return!t||!Va(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,Ws(e))||ze(t,e))}function wd(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:c,emit:l,render:u,renderCache:h,props:d,data:m,setupState:g,ctx:b,inheritAttrs:R}=t,P=aa(t);let F,L;try{if(n.shapeFlag&4){const z=r||s,he=z;F=vn(u.call(he,z,h,d,g,m,b)),L=c}else{const z=e;F=vn(z.length>1?z(d,{attrs:c,slots:o,emit:l}):z(d,null)),L=e.props?c:I0(c)}}catch(z){Si.length=0,ja(z,t,1),F=X(gs)}let $=F;if(L&&R!==!1){const z=Object.keys(L),{shapeFlag:he}=$;z.length&&he&7&&(i&&z.some(ru)&&(L=b0(L,i)),$=Ar($,L,!1,!0))}return n.dirs&&($=Ar($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&_u($,n.transition),F=$,aa(P),F}const I0=t=>{let e;for(const n in t)(n==="class"||n==="style"||Va(n))&&((e||(e={}))[n]=t[n]);return e},b0=(t,e)=>{const n={};for(const s in t)(!ru(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function S0(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:c,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Id(s,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(o[m]!==s[m]&&!qa(u,m))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:s===o?!1:s?o?Id(s,o,u):!0:!!o;return!1}function Id(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!qa(n,i))return!0}return!1}function A0({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Qm=t=>t.__isSuspense;function C0(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):Vv(t)}const ot=Symbol.for("v-fgt"),za=Symbol.for("v-txt"),gs=Symbol.for("v-cmt"),jo=Symbol.for("v-stc"),Si=[];let Kt=null;function M(t=!1){Si.push(Kt=t?null:[])}function R0(){Si.pop(),Kt=Si[Si.length-1]||null}let Mi=1;function bd(t,e=!1){Mi+=t,t<0&&Kt&&e&&(Kt.hasOnce=!0)}function Ym(t){return t.dynamicChildren=Mi>0?Kt||mr:null,R0(),Mi>0&&Kt&&Kt.push(t),t}function Y(t,e,n,s,r,i){return Ym(_(t,e,n,s,r,i,!0))}function $e(t,e,n,s,r){return Ym(X(t,e,n,s,r,!0))}function ua(t){return t?t.__v_isVNode===!0:!1}function hi(t,e){return t.type===e.type&&t.key===e.key}const Jm=({key:t})=>t??null,Ho=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ct(t)||kt(t)||Pe(t)?{i:Wt,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,s=0,r=null,i=t===ot?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Jm(e),ref:e&&Ho(e),scopeId:Cm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Wt};return c?(vu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ct(n)?8:16),Mi>0&&!o&&Kt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Kt.push(l),l}const X=P0;function P0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Xv)&&(t=gs),ua(t)){const c=Ar(t,e,!0);return n&&vu(c,n),Mi>0&&!i&&Kt&&(c.shapeFlag&6?Kt[Kt.indexOf(t)]=c:Kt.push(c)),c.patchFlag=-2,c}if(B0(t)&&(t=t.__vccOpts),e){e=k0(e);let{class:c,style:l}=e;c&&!ct(c)&&(e.class=se(c)),Ze(l)&&(pu(l)&&!Se(l)&&(l=Ot({},l)),e.style=au(l))}const o=ct(t)?1:Qm(t)?128:Fv(t)?64:Ze(t)?4:Pe(t)?2:0;return _(t,e,n,s,r,o,i,!0)}function k0(t){return t?pu(t)||Fm(t)?Ot({},t):t:null}function Ar(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:c,transition:l}=t,u=e?D0(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Jm(u),ref:e&&e.ref?n&&i?Se(i)?i.concat(Ho(e)):[i,Ho(e)]:Ho(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ar(t.ssContent),ssFallback:t.ssFallback&&Ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&_u(h,l.clone(h)),h}function Ve(t=" ",e=0){return X(za,null,t,e)}function O0(t,e){const n=X(jo,null,t);return n.staticCount=e,n}function Gt(t="",e=!1){return e?(M(),$e(gs,null,t)):X(gs,null,t)}function vn(t){return t==null||typeof t=="boolean"?X(gs):Se(t)?X(ot,null,t.slice()):ua(t)?ss(t):X(za,null,String(t))}function ss(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ar(t)}function vu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),vu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Fm(e)?e._ctx=Wt:r===3&&Wt&&(Wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pe(e)?(e={default:e,_ctx:Wt},n=32):(e=String(e),s&64?(n=16,e=[Ve(e)]):n=8);t.children=e,t.shapeFlag|=n}function D0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=se([e.class,s.class]));else if(r==="style")e.style=au([e.style,s.style]);else if(Va(r)){const i=e[r],o=s[r];o&&i!==o&&!(Se(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function mn(t,e,n,s=null){Sn(t,e,7,[n,s])}const N0=Lm();let x0=0;function L0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||N0,i={uid:x0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Um(s,r),emitsOptions:Gm(s,r),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:s.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=w0.bind(null,i),t.ce&&t.ce(i),i}let Rt=null,ha,yl;{const t=Ua(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};ha=e("__VUE_INSTANCE_SETTERS__",n=>Rt=n),yl=e("__VUE_SSR_SETTERS__",n=>Fi=n)}const eo=t=>{const e=Rt;return ha(t),t.scope.on(),()=>{t.scope.off(),ha(e)}},Sd=()=>{Rt&&Rt.scope.off(),ha(null)};function Xm(t){return t.vnode.shapeFlag&4}let Fi=!1;function V0(t,e=!1,n=!1){e&&yl(e);const{props:s,children:r}=t.vnode,i=Xm(t);c0(t,s,i,e),d0(t,r,n||e);const o=i?M0(t,e):void 0;return e&&yl(!1),o}function M0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,e0);const{setup:s}=n;if(s){Bn();const r=t.setupContext=s.length>1?$0(t):null,i=eo(t),o=Zi(s,t,0,[t.props,r]),c=Yp(o);if(jn(),i(),(c||t.sp)&&!Ii(t)&&Pm(t),c){if(o.then(Sd,Sd),e)return o.then(l=>{Ad(t,l)}).catch(l=>{ja(l,t,0)});t.asyncDep=o}else Ad(t,o)}else Zm(t)}function Ad(t,e,n){Pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ze(e)&&(t.setupState=Em(e)),Zm(t)}function Zm(t,e,n){const s=t.type;t.render||(t.render=s.render||Tn);{const r=eo(t);Bn();try{t0(t)}finally{jn(),r()}}}const F0={get(t,e){return At(t,"get",""),t[e]}};function $0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,F0),slots:t.slots,emit:t.emit,expose:e}}function Wa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Em(Sv(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in bi)return bi[n](t)},has(e,n){return n in e||n in bi}})):t.proxy}function U0(t,e=!0){return Pe(t)?t.displayName||t.name:t.name||e&&t.__name}function B0(t){return Pe(t)&&"__vccOpts"in t}const Jt=(t,e)=>Ov(t,e,Fi);function e_(t,e,n){const s=arguments.length;return s===2?Ze(e)&&!Se(e)?ua(e)?X(t,null,[e]):X(t,e):X(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ua(n)&&(n=[n]),X(t,e,n))}const j0="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vl;const Cd=typeof window<"u"&&window.trustedTypes;if(Cd)try{vl=Cd.createPolicy("vue",{createHTML:t=>t})}catch{}const t_=vl?t=>vl.createHTML(t):t=>t,H0="http://www.w3.org/2000/svg",q0="http://www.w3.org/1998/Math/MathML",Nn=typeof document<"u"?document:null,Rd=Nn&&Nn.createElement("template"),z0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Nn.createElementNS(H0,t):e==="mathml"?Nn.createElementNS(q0,t):n?Nn.createElement(t,{is:n}):Nn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Nn.createTextNode(t),createComment:t=>Nn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Rd.innerHTML=t_(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const c=Rd.content;if(s==="svg"||s==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},W0=Symbol("_vtc");function K0(t,e,n){const s=t[W0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Pd=Symbol("_vod"),G0=Symbol("_vsh"),Q0=Symbol(""),Y0=/(^|;)\s*display\s*:/;function J0(t,e,n){const s=t.style,r=ct(n);let i=!1;if(n&&!r){if(e)if(ct(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&qo(s,c,"")}else for(const o in e)n[o]==null&&qo(s,o,"");for(const o in n)o==="display"&&(i=!0),qo(s,o,n[o])}else if(r){if(e!==n){const o=s[Q0];o&&(n+=";"+o),s.cssText=n,i=Y0.test(n)}}else e&&t.removeAttribute("style");Pd in t&&(t[Pd]=i?s.display:"",t[G0]&&(s.display="none"))}const kd=/\s*!important$/;function qo(t,e,n){if(Se(n))n.forEach(s=>qo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=X0(t,e);kd.test(n)?t.setProperty(Ws(s),n.replace(kd,""),"important"):t[s]=n}}const Od=["Webkit","Moz","ms"],Bc={};function X0(t,e){const n=Bc[e];if(n)return n;let s=nn(e);if(s!=="filter"&&s in t)return Bc[e]=s;s=$a(s);for(let r=0;r<Od.length;r++){const i=Od[r]+s;if(i in t)return Bc[e]=i}return e}const Dd="http://www.w3.org/1999/xlink";function Nd(t,e,n,s,r,i=rv(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Dd,e.slice(6,e.length)):t.setAttributeNS(Dd,e,n):n==null||i&&!em(n)?t.removeAttribute(e):t.setAttribute(e,i?"":bs(n)?String(n):n)}function xd(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?t_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=em(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function cr(t,e,n,s){t.addEventListener(e,n,s)}function Z0(t,e,n,s){t.removeEventListener(e,n,s)}const Ld=Symbol("_vei");function eT(t,e,n,s,r=null){const i=t[Ld]||(t[Ld]={}),o=i[e];if(s&&o)o.value=s;else{const[c,l]=tT(e);if(s){const u=i[e]=rT(s,r);cr(t,c,u,l)}else o&&(Z0(t,c,o,l),i[e]=void 0)}}const Vd=/(?:Once|Passive|Capture)$/;function tT(t){let e;if(Vd.test(t)){e={};let s;for(;s=t.match(Vd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ws(t.slice(2)),e]}let jc=0;const nT=Promise.resolve(),sT=()=>jc||(nT.then(()=>jc=0),jc=Date.now());function rT(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Sn(iT(s,n.value),e,5,[s])};return n.value=t,n.attached=sT(),n}function iT(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Md=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,oT=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?K0(t,s,o):e==="style"?J0(t,n,s):Va(e)?ru(e)||eT(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):aT(t,e,s,o))?(xd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Nd(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ct(s))?xd(t,nn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Nd(t,e,s,o))};function aT(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Md(e)&&Pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Md(e)&&ct(n)?!1:e in t}const Fd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?n=>Uo(e,n):e};function cT(t){t.target.composing=!0}function $d(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Hc=Symbol("_assign"),un={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Hc]=Fd(r);const i=s||r.props&&r.props.type==="number";cr(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),i&&(c=ll(c)),t[Hc](c)}),n&&cr(t,"change",()=>{t.value=t.value.trim()}),e||(cr(t,"compositionstart",cT),cr(t,"compositionend",$d),cr(t,"change",$d))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Hc]=Fd(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?ll(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},lT=Ot({patchProp:oT},z0);let Ud;function uT(){return Ud||(Ud=p0(lT))}const hT=(...t)=>{const e=uT().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=fT(s);if(!r)return;const i=e._component;!Pe(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,dT(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function dT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function fT(t){return ct(t)?document.querySelector(t):t}const ye=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},pT={name:"userIcon"},mT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function _T(t,e,n,s,r,i){return M(),Y("svg",mT,e[0]||(e[0]=[_("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"},null,-1)]))}const n_=ye(pT,[["render",_T],["__scopeId","data-v-d315c4cd"]]),gT={name:"userIcon"},yT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function vT(t,e,n,s,r,i){return M(),Y("svg",yT,e[0]||(e[0]=[_("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"},null,-1)]))}const TT=ye(gT,[["render",vT],["__scopeId","data-v-c69d5753"]]),ET={name:"userIcon"},wT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function IT(t,e,n,s,r,i){return M(),Y("svg",wT,e[0]||(e[0]=[_("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},null,-1)]))}const bT=ye(ET,[["render",IT],["__scopeId","data-v-2c932969"]]),ST={name:"notify",components:{WarningIcon:n_,ErrorIcon:TT,SuccessIcon:bT},computed:{notify(){return this.$store.getters["notify/getNotify"]},notifyClass(){return this.notify.type?"-"+this.notify.type:""}}},AT={class:"notify__text"};function CT(t,e,n,s,r,i){const o=ne("WarningIcon"),c=ne("ErrorIcon"),l=ne("SuccessIcon");return i.notify.isShow?(M(),Y("div",{key:0,class:se(["notify",i.notifyClass])},[i.notify.type==="warning"?(M(),$e(o,{key:0})):Gt("",!0),i.notify.type==="error"?(M(),$e(c,{key:1})):Gt("",!0),i.notify.type==="success"?(M(),$e(l,{key:2})):Gt("",!0),_("span",AT,le(i.notify.message),1)],2)):Gt("",!0)}const RT=ye(ST,[["render",CT],["__scopeId","data-v-ec115d4f"]]),PT={name:"App",data(){return{}},components:{Notify:RT},created(){},methods:{}};function kT(t,e,n,s,r,i){const o=ne("router-view"),c=ne("Notify");return M(),Y("div",null,[X(o),X(c)])}const OT=ye(PT,[["render",kT]]);function DT(){return s_().__VUE_DEVTOOLS_GLOBAL_HOOK__}function s_(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const NT=typeof Proxy=="function",xT="devtools-plugin:setup",LT="plugin:settings:set";let ir,Tl;function VT(){var t;return ir!==void 0||(typeof window<"u"&&window.performance?(ir=!0,Tl=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(ir=!0,Tl=globalThis.perf_hooks.performance):ir=!1),ir}function MT(){return VT()?Tl.now():Date.now()}class FT{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const s={};if(e.settings)for(const o in e.settings){const c=e.settings[o];s[o]=c.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},s);try{const o=localStorage.getItem(r),c=JSON.parse(o);Object.assign(i,c)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(r,JSON.stringify(o))}catch{}i=o},now(){return MT()}},n&&n.on(LT,(o,c)=>{o===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(o,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:c,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function $T(t,e){const n=t,s=s_(),r=DT(),i=NT&&n.enableEarlyProxy;if(r&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))r.emit(xT,t,e);else{const o=i?new FT(n,r):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var UT="store";function Fr(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function BT(t){return t!==null&&typeof t=="object"}function jT(t){return t&&typeof t.then=="function"}function HT(t,e){return function(){return t(e)}}function r_(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function i_(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ka(t,n,[],t._modules.root,!0),Tu(t,n,e)}function Tu(t,e,n){var s=t._state,r=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},c={},l=iv(!0);l.run(function(){Fr(i,function(u,h){o[h]=HT(u,t),c[h]=Jt(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return c[h].value},enumerable:!0})})}),t._state=Xi({data:e}),t._scope=l,t.strict&&GT(t),s&&n&&t._withCommit(function(){s.data=null}),r&&r.stop()}function Ka(t,e,n,s,r){var i=!n.length,o=t._modules.getNamespace(n);if(s.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=s),!i&&!r){var c=Eu(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){c[l]=s.state})}var u=s.context=qT(t,o,n);s.forEachMutation(function(h,d){var m=o+d;zT(t,m,h,u)}),s.forEachAction(function(h,d){var m=h.root?d:o+d,g=h.handler||h;WT(t,m,g,u)}),s.forEachGetter(function(h,d){var m=o+d;KT(t,m,h,u)}),s.forEachChild(function(h,d){Ka(t,e,n.concat(d),h,r)})}function qT(t,e,n){var s=e==="",r={dispatch:s?t.dispatch:function(i,o,c){var l=da(i,o,c),u=l.payload,h=l.options,d=l.type;return(!h||!h.root)&&(d=e+d),t.dispatch(d,u)},commit:s?t.commit:function(i,o,c){var l=da(i,o,c),u=l.payload,h=l.options,d=l.type;(!h||!h.root)&&(d=e+d),t.commit(d,u,h)}};return Object.defineProperties(r,{getters:{get:s?function(){return t.getters}:function(){return o_(t,e)}},state:{get:function(){return Eu(t.state,n)}}}),r}function o_(t,e){if(!t._makeLocalGettersCache[e]){var n={},s=e.length;Object.keys(t.getters).forEach(function(r){if(r.slice(0,s)===e){var i=r.slice(s);Object.defineProperty(n,i,{get:function(){return t.getters[r]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function zT(t,e,n,s){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function(o){n.call(t,s.state,o)})}function WT(t,e,n,s){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(o){var c=n.call(t,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:t.getters,rootState:t.state},o);return jT(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):c})}function KT(t,e,n,s){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(s.state,s.getters,i.state,i.getters)})}function GT(t){Er(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Eu(t,e){return e.reduce(function(n,s){return n[s]},t)}function da(t,e,n){return BT(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var QT="vuex bindings",Bd="vuex:mutations",qc="vuex:actions",or="vuex",YT=0;function JT(t,e){$T({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[QT]},function(n){n.addTimelineLayer({id:Bd,label:"Vuex Mutations",color:jd}),n.addTimelineLayer({id:qc,label:"Vuex Actions",color:jd}),n.addInspector({id:or,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(s){if(s.app===t&&s.inspectorId===or)if(s.filter){var r=[];u_(r,e._modules.root,s.filter,""),s.rootNodes=r}else s.rootNodes=[l_(e._modules.root,"")]}),n.on.getInspectorState(function(s){if(s.app===t&&s.inspectorId===or){var r=s.nodeId;o_(e,r),s.state=eE(nE(e._modules,r),r==="root"?e.getters:e._makeLocalGettersCache,r)}}),n.on.editInspectorState(function(s){if(s.app===t&&s.inspectorId===or){var r=s.nodeId,i=s.path;r!=="root"&&(i=r.split("/").filter(Boolean).concat(i)),e._withCommit(function(){s.set(e._state.data,i,s.state.value)})}}),e.subscribe(function(s,r){var i={};s.payload&&(i.payload=s.payload),i.state=r,n.notifyComponentUpdate(),n.sendInspectorTree(or),n.sendInspectorState(or),n.addTimelineEvent({layerId:Bd,event:{time:Date.now(),title:s.type,data:i}})}),e.subscribeAction({before:function(s,r){var i={};s.payload&&(i.payload=s.payload),s._id=YT++,s._time=Date.now(),i.state=r,n.addTimelineEvent({layerId:qc,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:i}})},after:function(s,r){var i={},o=Date.now()-s._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},s.payload&&(i.payload=s.payload),i.state=r,n.addTimelineEvent({layerId:qc,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:i}})}})})}var jd=8702998,XT=6710886,ZT=16777215,a_={label:"namespaced",textColor:ZT,backgroundColor:XT};function c_(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function l_(t,e){return{id:e||"root",label:c_(e),tags:t.namespaced?[a_]:[],children:Object.keys(t._children).map(function(n){return l_(t._children[n],e+n+"/")})}}function u_(t,e,n,s){s.includes(n)&&t.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:e.namespaced?[a_]:[]}),Object.keys(e._children).forEach(function(r){u_(t,e._children[r],n,s+r+"/")})}function eE(t,e,n){e=n==="root"?e:e[n];var s=Object.keys(e),r={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(s.length){var i=tE(e);r.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?c_(o):o,editable:!1,value:El(function(){return i[o]})}})}return r}function tE(t){var e={};return Object.keys(t).forEach(function(n){var s=n.split("/");if(s.length>1){var r=e,i=s.pop();s.forEach(function(o){r[o]||(r[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),r=r[o]._custom.value}),r[i]=El(function(){return t[n]})}else e[n]=El(function(){return t[n]})}),e}function nE(t,e){var n=e.split("/").filter(function(s){return s});return n.reduce(function(s,r,i){var o=s[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function El(t){try{return t()}catch(e){return e}}var fn=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var s=e.state;this.state=(typeof s=="function"?s():s)||{}},h_={namespaced:{configurable:!0}};h_.namespaced.get=function(){return!!this._rawModule.namespaced};fn.prototype.addChild=function(e,n){this._children[e]=n};fn.prototype.removeChild=function(e){delete this._children[e]};fn.prototype.getChild=function(e){return this._children[e]};fn.prototype.hasChild=function(e){return e in this._children};fn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};fn.prototype.forEachChild=function(e){Fr(this._children,e)};fn.prototype.forEachGetter=function(e){this._rawModule.getters&&Fr(this._rawModule.getters,e)};fn.prototype.forEachAction=function(e){this._rawModule.actions&&Fr(this._rawModule.actions,e)};fn.prototype.forEachMutation=function(e){this._rawModule.mutations&&Fr(this._rawModule.mutations,e)};Object.defineProperties(fn.prototype,h_);var Ks=function(e){this.register([],e,!1)};Ks.prototype.get=function(e){return e.reduce(function(n,s){return n.getChild(s)},this.root)};Ks.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(s,r){return n=n.getChild(r),s+(n.namespaced?r+"/":"")},"")};Ks.prototype.update=function(e){d_([],this.root,e)};Ks.prototype.register=function(e,n,s){var r=this;s===void 0&&(s=!0);var i=new fn(n,s);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Fr(n.modules,function(c,l){r.register(e.concat(l),c,s)})};Ks.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),s=e[e.length-1],r=n.getChild(s);r&&r.runtime&&n.removeChild(s)};Ks.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),s=e[e.length-1];return n?n.hasChild(s):!1};function d_(t,e,n){if(e.update(n),n.modules)for(var s in n.modules){if(!e.getChild(s))return;d_(t.concat(s),e.getChild(s),n.modules[s])}}function sE(t){return new Ht(t)}var Ht=function(e){var n=this;e===void 0&&(e={});var s=e.plugins;s===void 0&&(s=[]);var r=e.strict;r===void 0&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ks(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,c=this,l=c.dispatch,u=c.commit;this.dispatch=function(m,g){return l.call(o,m,g)},this.commit=function(m,g,b){return u.call(o,m,g,b)},this.strict=r;var h=this._modules.root.state;Ka(this,h,[],this._modules.root),Tu(this,h),s.forEach(function(d){return d(n)})},wu={state:{configurable:!0}};Ht.prototype.install=function(e,n){e.provide(n||UT,this),e.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&JT(e,this)};wu.state.get=function(){return this._state.data};wu.state.set=function(t){};Ht.prototype.commit=function(e,n,s){var r=this,i=da(e,n,s),o=i.type,c=i.payload,l={type:o,payload:c},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(d){d(c)})}),this._subscribers.slice().forEach(function(h){return h(l,r.state)}))};Ht.prototype.dispatch=function(e,n){var s=this,r=da(e,n),i=r.type,o=r.payload,c={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(c,s.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,d){u.then(function(m){try{s._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(c,s.state)})}catch{}h(m)},function(m){try{s._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(c,s.state,m)})}catch{}d(m)})})}};Ht.prototype.subscribe=function(e,n){return r_(e,this._subscribers,n)};Ht.prototype.subscribeAction=function(e,n){var s=typeof e=="function"?{before:e}:e;return r_(s,this._actionSubscribers,n)};Ht.prototype.watch=function(e,n,s){var r=this;return Er(function(){return e(r.state,r.getters)},n,Object.assign({},s))};Ht.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Ht.prototype.registerModule=function(e,n,s){s===void 0&&(s={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ka(this,this.state,e,this._modules.get(e),s.preserveState),Tu(this,this.state)};Ht.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var s=Eu(n.state,e.slice(0,-1));delete s[e[e.length-1]]}),i_(this)};Ht.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Ht.prototype.hotUpdate=function(e){this._modules.update(e),i_(this,!0)};Ht.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Ht.prototype,wu);const rE=()=>{};var Hd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},iE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],c=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,c=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,h=i>>2,d=(i&3)<<4|c>>4;let m=(c&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),s.push(n[h],n[d],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||c==null||u==null||d==null)throw new oE;const m=i<<2|c>>4;if(s.push(m),u!==64){const g=c<<4&240|u>>2;if(s.push(g),d!==64){const b=u<<6&192|d;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aE=function(t){const e=f_(t);return p_.encodeByteArray(e,!0)},fa=function(t){return aE(t).replace(/\./g,"")},m_=function(t){try{return p_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>cE().__FIREBASE_DEFAULTS__,uE=()=>{if(typeof process>"u"||typeof Hd>"u")return;const t=Hd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&m_(t[1]);return e&&JSON.parse(e)},Ga=()=>{try{return rE()||lE()||uE()||hE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},__=t=>{var e,n;return(n=(e=Ga())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dE=t=>{const e=__(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},g_=()=>{var t;return(t=Ga())===null||t===void 0?void 0:t.config},y_=t=>{var e;return(e=Ga())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){return t.endsWith(".cloudworkstations.dev")}async function v_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),""].join(".")}const Ai={};function mE(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ai))Ai[e]?t.emulator.push(e):t.prod.push(e);return t}function _E(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qd=!1;function T_(t,e){if(typeof window>"u"||typeof document>"u"||!$r(window.location.host)||Ai[t]===e||Ai[t]||qd)return;Ai[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=mE().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{qd=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=_E(s),g=n("text"),b=document.getElementById(g)||document.createElement("span"),R=n("learnmore"),P=document.getElementById(R)||document.createElement("a"),F=n("preprendIcon"),L=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const $=m.element;c($),h(P,R);const z=u();l(L,F),$.append(L,b,P,z),document.body.appendChild($)}i?(b.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function yE(){var t;const e=(t=Ga())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wE(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IE(){return!yE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="FirebaseError";class Gn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AE,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?CE(i,s):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Gn(r,c,s)}}function CE(t,e){return t.replace(RE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const RE=/\{\$([^}]+)}/g;function PE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(zd(i)&&zd(o)){if(!$s(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function zd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function _i(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kE(t,e){const n=new OE(t,e);return n.subscribe.bind(n)}class OE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DE(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=zc),r.error===void 0&&(r.error=zc),r.complete===void 0&&(r.complete=zc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LE(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);s===c&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xE(t){return t===Ns?void 0:t}function LE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const ME={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},FE=Me.INFO,$E={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},UE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=$E[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iu{constructor(e){this.name=e,this._logLevel=FE,this._logHandler=UE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ME[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const BE=(t,e)=>e.some(n=>t instanceof n);let Wd,Kd;function jE(){return Wd||(Wd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HE(){return Kd||(Kd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,wl=new WeakMap,w_=new WeakMap,Wc=new WeakMap,bu=new WeakMap;function qE(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hs(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E_.set(n,t)}).catch(()=>{}),bu.set(e,t),e}function zE(t){if(wl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});wl.set(t,e)}let Il={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WE(t){Il=t(Il)}function KE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Kc(this),e,...n);return w_.set(s,e.sort?e.sort():[e]),hs(s)}:HE().includes(t)?function(...e){return t.apply(Kc(this),e),hs(E_.get(this))}:function(...e){return hs(t.apply(Kc(this),e))}}function GE(t){return typeof t=="function"?KE(t):(t instanceof IDBTransaction&&zE(t),BE(t,jE())?new Proxy(t,Il):t)}function hs(t){if(t instanceof IDBRequest)return qE(t);if(Wc.has(t))return Wc.get(t);const e=GE(t);return e!==t&&(Wc.set(t,e),bu.set(e,t)),e}const Kc=t=>bu.get(t);function QE(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),c=hs(o);return s&&o.addEventListener("upgradeneeded",l=>{s(hs(o.result),l.oldVersion,l.newVersion,hs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const YE=["get","getKey","getAll","getAllKeys","count"],JE=["put","add","delete","clear"],Gc=new Map;function Gd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gc.get(e))return Gc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=JE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||YE.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return s&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),r&&l.done]))[0]};return Gc.set(e,i),i}WE(t=>({...t,get:(e,n,s)=>Gd(e,n)||t.get(e,n,s),has:(e,n)=>!!Gd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bl="@firebase/app",Qd="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Iu("@firebase/app"),ew="@firebase/app-compat",tw="@firebase/analytics-compat",nw="@firebase/analytics",sw="@firebase/app-check-compat",rw="@firebase/app-check",iw="@firebase/auth",ow="@firebase/auth-compat",aw="@firebase/database",cw="@firebase/data-connect",lw="@firebase/database-compat",uw="@firebase/functions",hw="@firebase/functions-compat",dw="@firebase/installations",fw="@firebase/installations-compat",pw="@firebase/messaging",mw="@firebase/messaging-compat",_w="@firebase/performance",gw="@firebase/performance-compat",yw="@firebase/remote-config",vw="@firebase/remote-config-compat",Tw="@firebase/storage",Ew="@firebase/storage-compat",ww="@firebase/firestore",Iw="@firebase/ai",bw="@firebase/firestore-compat",Sw="firebase",Aw="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="[DEFAULT]",Cw={[bl]:"fire-core",[ew]:"fire-core-compat",[nw]:"fire-analytics",[tw]:"fire-analytics-compat",[rw]:"fire-app-check",[sw]:"fire-app-check-compat",[iw]:"fire-auth",[ow]:"fire-auth-compat",[aw]:"fire-rtdb",[cw]:"fire-data-connect",[lw]:"fire-rtdb-compat",[uw]:"fire-fn",[hw]:"fire-fn-compat",[dw]:"fire-iid",[fw]:"fire-iid-compat",[pw]:"fire-fcm",[mw]:"fire-fcm-compat",[_w]:"fire-perf",[gw]:"fire-perf-compat",[yw]:"fire-rc",[vw]:"fire-rc-compat",[Tw]:"fire-gcs",[Ew]:"fire-gcs-compat",[ww]:"fire-fst",[bw]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Sw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Map,Rw=new Map,Al=new Map;function Yd(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){const e=t.name;if(Al.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Al.set(e,t);for(const n of pa.values())Yd(n,t);for(const n of Rw.values())Yd(n,t);return!0}function Su(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new to("app","Firebase",Pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=Aw;function I_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sl,automaticDataCollectionEnabled:!0},e),r=s.name;if(typeof r!="string"||!r)throw ds.create("bad-app-name",{appName:String(r)});if(n||(n=g_()),!n)throw ds.create("no-options");const i=pa.get(r);if(i){if($s(n,i.options)&&$s(s,i.config))return i;throw ds.create("duplicate-app",{appName:r})}const o=new VE(r);for(const l of Al.values())o.addComponent(l);const c=new kw(n,s,o);return pa.set(r,c),c}function b_(t=Sl){const e=pa.get(t);if(!e&&t===Sl&&g_())return I_();if(!e)throw ds.create("no-app",{appName:t});return e}function fs(t,e,n){var s;let r=(s=Cw[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(c.join(" "));return}Cr(new Us(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firebase-heartbeat-database",Dw=1,$i="firebase-heartbeat-store";let Qc=null;function S_(){return Qc||(Qc=QE(Ow,Dw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($i)}catch(n){console.warn(n)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),Qc}async function Nw(t){try{const n=(await S_()).transaction($i),s=await n.objectStore($i).get(A_(t));return await n.done,s}catch(e){if(e instanceof Gn)Hn.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hn.warn(n.message)}}}async function Jd(t,e){try{const s=(await S_()).transaction($i,"readwrite");await s.objectStore($i).put(e,A_(t)),await s.done}catch(n){if(n instanceof Gn)Hn.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hn.warn(s.message)}}}function A_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=1024,Lw=30;class Vw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xd();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>Lw){const o=$w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xd(),{heartbeatsToSend:s,unsentEntries:r}=Mw(this._heartbeatsCache.heartbeats),i=fa(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hn.warn(n),""}}}function Xd(){return new Date().toISOString().substring(0,10)}function Mw(t,e=xw){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Zd(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Zd(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Fw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zd(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}function $w(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){Cr(new Us("platform-logger",e=>new XE(e),"PRIVATE")),Cr(new Us("heartbeat",e=>new Vw(e),"PRIVATE")),fs(bl,Qd,t),fs(bl,Qd,"esm2017"),fs("fire-js","")}Uw("");function Au(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function C_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bw=C_,R_=new to("auth","Firebase",C_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Iu("@firebase/auth");function jw(t,...e){ma.logLevel<=Me.WARN&&ma.warn(`Auth (${Ur}): ${t}`,...e)}function zo(t,...e){ma.logLevel<=Me.ERROR&&ma.error(`Auth (${Ur}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw Cu(t,...e)}function En(t,...e){return Cu(t,...e)}function P_(t,e,n){const s=Object.assign(Object.assign({},Bw()),{[e]:n});return new to("auth","Firebase",s).create(e,{appName:t.name})}function $n(t){return P_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cu(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return R_.create(t,...e)}function we(t,e,...n){if(!t)throw Cu(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zo(e),new Error(e)}function qn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Hw(){return ef()==="http:"||ef()==="https:"}function ef(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hw()||TE()||"connection"in navigator)?navigator.onLine:!0}function zw(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=gE()||EE()}get(){return qw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Gw=new so(3e4,6e4);function Qn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rn(t,e,n,s,r={}){return O_(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const c=no(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return vE()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&$r(t.emulatorConfig.host)&&(u.credentials="include"),k_.fetch()(await D_(t,t.config.apiHost,n,c),u)})}async function O_(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ww),e);try{const r=new Yw(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw xo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xo(t,"user-disabled",o);const h=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw P_(t,h,u);hn(t,h)}}catch(r){if(r instanceof Gn)throw r;hn(t,"network-request-failed",{message:String(r)})}}async function ro(t,e,n,s,r={}){const i=await Rn(t,e,n,s,r);return"mfaPendingCredential"in i&&hn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function D_(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?Ru(t.config,r):`${t.config.apiScheme}://${r}`;return Kw.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Qw(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(En(this.auth,"network-request-failed")),Gw.get())})}}function xo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=En(t,e,s);return r.customData._tokenResponse=n,r}function tf(t){return t!==void 0&&t.enterprise!==void 0}class Jw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xw(t,e){return Rn(t,"GET","/v2/recaptchaConfig",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(t,e){return Rn(t,"POST","/v1/accounts:delete",e)}async function _a(t,e){return Rn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(t,e=!1){const n=Vt(t),s=await n.getIdToken(e),r=Pu(s);we(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Ci(Yc(r.auth_time)),issuedAtTime:Ci(Yc(r.iat)),expirationTime:Ci(Yc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Yc(t){return Number(t)*1e3}function Pu(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zo("JWT malformed, contained fewer than 3 sections"),null;try{const r=m_(n);return r?JSON.parse(r):(zo("Failed to decode base64 JWT payload"),null)}catch(r){return zo("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function nf(t){const e=Pu(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gn&&t2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function t2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ci(this.lastLoginAt),this.creationTime=Ci(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Rr(t,_a(n,{idToken:s}));we(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?N_(i.providerUserInfo):[],c=r2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),h=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Rl(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function s2(t){const e=Vt(t);await ga(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function N_(t){return t.map(e=>{var{providerId:n}=e,s=Au(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(t,e){const n=await O_(t,{},async()=>{const s=no({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await D_(t,r,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:s};return t.emulatorConfig&&$r(t.emulatorConfig.host)&&(l.credentials="include"),k_.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o2(t,e){return Rn(t,"POST","/v2/accounts:revokeToken",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=nf(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await i2(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new wr;return s&&(we(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(we(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(we(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wr,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class on{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Rr(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new on(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ga(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject($n(this.auth));const e=await this.getIdToken();return await Rr(this,Zw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,c,l,u,h;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,F=(u=n.createdAt)!==null&&u!==void 0?u:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:z,isAnonymous:he,providerData:fe,stsTokenManager:C}=n;we($&&C,e,"internal-error");const v=wr.fromJSON(this.name,C);we(typeof $=="string",e,"internal-error"),es(d,e.name),es(m,e.name),we(typeof z=="boolean",e,"internal-error"),we(typeof he=="boolean",e,"internal-error"),es(g,e.name),es(b,e.name),es(R,e.name),es(P,e.name),es(F,e.name),es(L,e.name);const w=new on({uid:$,auth:e,email:m,emailVerified:z,displayName:d,isAnonymous:he,photoURL:b,phoneNumber:g,tenantId:R,stsTokenManager:v,createdAt:F,lastLoginAt:L});return fe&&Array.isArray(fe)&&(w.providerData=fe.map(S=>Object.assign({},S))),P&&(w._redirectEventId=P),w}static async _fromIdTokenResponse(e,n,s=!1){const r=new wr;r.updateFromServerResponse(n);const i=new on({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await ga(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];we(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?N_(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),c=new wr;c.updateFromIdToken(s);const l=new on({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Rl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map;function Mn(t){qn(t instanceof Function,"Expected a class definition");let e=sf.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sf.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x_.type="NONE";const rf=x_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,e,n){return`firebase:${t}:${e}:${n}`}class Ir{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Wo(this.userKey,r.apiKey,i),this.fullPersistenceKey=Wo("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _a(this.auth,{idToken:e}).catch(()=>{});return n?on._fromGetAccountInfoResponse(this.auth,n,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ir(Mn(rf),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||Mn(rf);const o=Wo(s,e.config.apiKey,e.name);let c=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const m=await _a(e,{idToken:h}).catch(()=>{});if(!m)break;d=await on._fromGetAccountInfoResponse(e,m,h)}else d=on._fromJSON(e,h);u!==i&&(c=d),i=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ir(i,e,s):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ir(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U_(e))return"Blackberry";if(B_(e))return"Webos";if(V_(e))return"Safari";if((e.includes("chrome/")||M_(e))&&!e.includes("edge/"))return"Chrome";if($_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function L_(t=Dt()){return/firefox\//i.test(t)}function V_(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M_(t=Dt()){return/crios\//i.test(t)}function F_(t=Dt()){return/iemobile/i.test(t)}function $_(t=Dt()){return/android/i.test(t)}function U_(t=Dt()){return/blackberry/i.test(t)}function B_(t=Dt()){return/webos/i.test(t)}function ku(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a2(t=Dt()){var e;return ku(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c2(){return wE()&&document.documentMode===10}function j_(t=Dt()){return ku(t)||$_(t)||B_(t)||U_(t)||/windows phone/i.test(t)||F_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e=[]){let n;switch(t){case"Browser":n=of(Dt());break;case"Worker":n=`${of(Dt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ur}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e={}){return Rn(t,"GET","/v2/passwordPolicy",Qn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=6;class d2{constructor(e){var n,s,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:h2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,i,o,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new af(this),this.idTokenSubscription=new af(this),this.beforeStateQueue=new l2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mn(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Ir.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _a(this,{idToken:e}),s=await on._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===c)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ga(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject($n(this));const n=e?Vt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u2(this),n=new d2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await o2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mn(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Ir.create(this,[Mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ss(t){return Vt(t)}class af{constructor(e){this.auth=e,this.observer=null,this.addObserver=kE(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p2(t){Qa=t}function q_(t){return Qa.loadJS(t)}function m2(){return Qa.recaptchaEnterpriseScript}function _2(){return Qa.gapiScript}function g2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y2{constructor(){this.enterprise=new v2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const T2="recaptcha-enterprise",z_="NO_RECAPTCHA";class E2{constructor(e){this.type=T2,this.auth=Ss(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{Xw(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new Jw(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{c(l)})})}function r(i,o,c){const l=window.grecaptcha;tf(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(z_)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y2().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(c=>{if(!n&&tf(window.grecaptcha))r(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=m2();l.length!==0&&(l+=c),q_(l).then(()=>{r(c,i,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function cf(t,e,n,s=!1,r=!1){const i=new E2(t);let o;if(r)o=z_;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ya(t,e,n,s,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cf(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cf(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e){const n=Su(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if($s(i,e??{}))return r;hn(r,"already-initialized")}return n.initialize({options:e})}function I2(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Mn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function b2(t,e,n){const s=Ss(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=W_(e),{host:o,port:c}=S2(e),l=c===null?"":`:${c}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we($s(u,s.config.emulator)&&$s(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,$r(o)?(v_(`${i}//${o}${l}`),T_("Auth",!0)):A2()}function W_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S2(t){const e=W_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:lf(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:lf(o)}}}function lf(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function C2(t,e){return Rn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e){return ro(t,"POST","/v1/accounts:signInWithPassword",Qn(t,e))}async function K_(t,e){return Rn(t,"POST","/v1/accounts:sendOobCode",Qn(t,e))}async function P2(t,e){return K_(t,e)}async function k2(t,e){return K_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e){return ro(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))}async function D2(t,e){return ro(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ou{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ui(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ui(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ya(e,n,"signInWithPassword",R2);case"emailLink":return O2(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ya(e,s,"signUpPassword",C2);case"emailLink":return D2(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function br(t,e){return ro(t,"POST","/v1/accounts:signInWithIdp",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="http://localhost";class Bs extends Ou{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=Au(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new Bs(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return br(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,br(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,br(e,n)}buildRequest(){const e={requestUri:N2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=no(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L2(t){const e=mi(_i(t)).link,n=e?mi(_i(e)).deep_link_id:null,s=mi(_i(t)).deep_link_id;return(s?mi(_i(s)).link:null)||s||n||e||t}class Du{constructor(e){var n,s,r,i,o,c;const l=mi(_i(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(s=l.oobCode)!==null&&s!==void 0?s:null,d=x2((r=l.mode)!==null&&r!==void 0?r:null);we(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=L2(e);try{return new Du(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.providerId=Br.PROVIDER_ID}static credential(e,n){return Ui._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Du.parseLink(n);return we(s,"argument-error"),Ui._fromEmailAndCode(e,s.code,s.tenantId)}}Br.PROVIDER_ID="password";Br.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Br.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends G_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends io{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends io{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends io{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e){return ro(t,"POST","/v1/accounts:signUp",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await on._fromIdTokenResponse(e,s,r),o=uf(s);return new js({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=uf(s);return new js({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function uf(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Gn{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,va.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new va(e,n,s,r)}}function Q_(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?va._fromErrorAndOperation(t,i,e,s):i})}async function M2(t,e,n=!1){const s=await Rr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e,n=!1){const{auth:s}=t;if(Xt(s.app))return Promise.reject($n(s));const r="reauthenticate";try{const i=await Rr(t,Q_(s,r,e,t),n);we(i.idToken,s,"internal-error");const o=Pu(i.idToken);we(o,s,"internal-error");const{sub:c}=o;return we(t.uid===c,s,"user-mismatch"),js._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(t,e,n=!1){if(Xt(t.app))return Promise.reject($n(t));const s="signIn",r=await Q_(t,s,e),i=await js._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function $2(t,e){return Y_(Ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J_(t){const e=Ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U2(t,e,n){const s=Ss(t);await ya(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",k2)}async function B2(t,e,n){if(Xt(t.app))return Promise.reject($n(t));const s=Ss(t),o=await ya(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&J_(t),l}),c=await js._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(c.user),c}function j2(t,e,n){return Xt(t.app)?Promise.reject($n(t)):$2(Vt(t),Br.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&J_(t),s})}async function H2(t,e){const n=Vt(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await P2(n.auth,r);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e){return Rn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Vt(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Rr(s,q2(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const c=s.providerData.find(({providerId:l})=>l==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function W2(t,e,n,s){return Vt(t).onIdTokenChanged(e,n,s)}function K2(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function G2(t,e,n,s){return Vt(t).onAuthStateChanged(e,n,s)}function Jc(t){return Vt(t).signOut()}const Ta="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1e3,Y2=10;class Z_ extends X_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);c2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Y2):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z_.type="LOCAL";const J2=Z_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends X_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eg.type="SESSION";const tg=eg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ya(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const c=Array.from(o).map(async u=>u(n.origin,i)),l=await X2(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ya.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const u=Nu("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function eI(t){wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function tI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sI(){return ng()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="firebaseLocalStorageDb",rI=1,Ea="firebaseLocalStorage",rg="fbase_key";class oo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ja(t,e){return t.transaction([Ea],e?"readwrite":"readonly").objectStore(Ea)}function iI(){const t=indexedDB.deleteDatabase(sg);return new oo(t).toPromise()}function Pl(){const t=indexedDB.open(sg,rI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ea,{keyPath:rg})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ea)?e(s):(s.close(),await iI(),e(await Pl()))})})}async function hf(t,e,n){const s=Ja(t,!0).put({[rg]:e,value:n});return new oo(s).toPromise()}async function oI(t,e){const n=Ja(t,!1).get(e),s=await new oo(n).toPromise();return s===void 0?null:s.value}function df(t,e){const n=Ja(t,!0).delete(e);return new oo(n).toPromise()}const aI=800,cI=3;class ig{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ng()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ya._getInstance(sI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tI(),!this.activeServiceWorker)return;this.sender=new Z2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pl();return await hf(e,Ta,"1"),await df(e,Ta),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hf(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>df(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Ja(r,!1).getAll();return new oo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ig.type="LOCAL";const lI=ig;new so(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e){return e?Mn(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Ou{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return br(e,this._buildIdpRequest())}_linkToIdToken(e,n){return br(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return br(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hI(t){return Y_(t.auth,new xu(t),t.bypassAuthState)}function dI(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),F2(n,new xu(t),t.bypassAuthState)}async function fI(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),M2(n,new xu(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:hn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new so(2e3,1e4);class pr extends og{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,pr.currentPopupAction&&pr.currentPopupAction.cancel(),pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Nu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pI.get())};e()}}pr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="pendingRedirect",Ko=new Map;class _I extends og{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ko.get(this.auth._key());if(!e){try{const s=await gI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ko.set(this.auth._key(),e)}return this.bypassAuthState||Ko.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gI(t,e){const n=TI(e),s=vI(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function yI(t,e){Ko.set(t._key(),e)}function vI(t){return Mn(t._redirectPersistence)}function TI(t){return Wo(mI,t.config.apiKey,t.name)}async function EI(t,e,n=!1){if(Xt(t.app))return Promise.reject($n(t));const s=Ss(t),r=uI(s,e),o=await new _I(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=10*60*1e3;class II{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ag(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(En(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wI&&this.cachedEventUids.clear(),this.cachedEventUids.has(ff(e))}saveEventToCache(e){this.cachedEventUids.add(ff(e)),this.lastProcessedEventTime=Date.now()}}function ff(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ag({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ag(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t,e={}){return Rn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CI=/^https?/;async function RI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SI(t);for(const n of e)try{if(PI(n))return}catch{}hn(t,"unauthorized-domain")}function PI(t){const e=Cl(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!CI.test(n))return!1;if(AI.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new so(3e4,6e4);function pf(){const t=wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OI(t){return new Promise((e,n)=>{var s,r,i;function o(){pf(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pf(),n(En(t,"network-request-failed"))},timeout:kI.get()})}if(!((r=(s=wn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=wn().gapi)===null||i===void 0)&&i.load)o();else{const c=g2("iframefcb");return wn()[c]=()=>{gapi.load?o():n(En(t,"network-request-failed"))},q_(`${_2()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw Go=null,e})}let Go=null;function DI(t){return Go=Go||OI(t),Go}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new so(5e3,15e3),xI="__/auth/iframe",LI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FI(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ru(e,LI):`https://${t.config.authDomain}/${xI}`,s={apiKey:e.apiKey,appName:t.name,v:Ur},r=MI.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${no(s).slice(1)}`}async function $I(t){const e=await DI(t),n=wn().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:FI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=En(t,"network-request-failed"),c=wn().setTimeout(()=>{i(o)},NI.get());function l(){wn().clearTimeout(c),r(s)}s.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,jI=600,HI="_blank",qI="http://localhost";class mf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zI(t,e,n,s=BI,r=jI){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const l=Object.assign(Object.assign({},UI),{width:s.toString(),height:r.toString(),top:i,left:o}),u=Dt().toLowerCase();n&&(c=M_(u)?HI:n),L_(u)&&(e=e||qI,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(a2(u)&&c!=="_self")return WI(e||"",c),new mf(null);const d=window.open(e||"",c,h);we(d,t,"popup-blocked");try{d.focus()}catch{}return new mf(d)}function WI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",GI="emulator/auth/handler",QI=encodeURIComponent("fac");async function _f(t,e,n,s,r,i){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ur,eventId:r};if(e instanceof G_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof io){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const l=await t._getAppCheckToken(),u=l?`#${QI}=${encodeURIComponent(l)}`:"";return`${YI(t)}?${no(c).slice(1)}${u}`}function YI({config:t}){return t.emulator?Ru(t,GI):`https://${t.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tg,this._completeRedirectFn=EI,this._overrideRedirectResult=yI}async _openPopup(e,n,s,r){var i;qn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await _f(e,n,s,Cl(),r);return zI(e,o,Nu())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await _f(e,n,s,Cl(),r);return eI(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(qn(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $I(e),s=new II(e);return n.register("authEvent",r=>(we(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xc,{type:Xc},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Xc];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j_()||V_()||ku()}}const XI=JI;var gf="@firebase/auth",yf="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tb(t){Cr(new Us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=s.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H_(t)},u=new f2(s,r,i,l);return I2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Cr(new Us("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(s=>new ZI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(gf,yf,eb(t)),fs(gf,yf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=5*60,sb=y_("authIdTokenMaxAge")||nb;let vf=null;const rb=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sb)return;const r=n==null?void 0:n.token;vf!==r&&(vf=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ib(t=b_()){const e=Su(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w2(t,{popupRedirectResolver:XI,persistence:[lI,J2,tg]}),s=y_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=rb(i.toString());K2(n,o,()=>o(n.currentUser)),W2(n,c=>o(c))}}const r=__("auth");return r&&b2(n,`http://${r}`),n}function ob(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p2({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=En("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",ob().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tb("Browser");var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,cg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,v){function w(){}w.prototype=v.prototype,C.D=v.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(S,A,k){for(var I=Array(arguments.length-2),de=2;de<arguments.length;de++)I[de-2]=arguments[de];return v.prototype[A].apply(S,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,v,w){w||(w=0);var S=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)S[A]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(A=0;16>A;++A)S[A]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=C.g[0],w=C.g[1],A=C.g[2];var k=C.g[3],I=v+(k^w&(A^k))+S[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=k+(A^v&(w^A))+S[1]+3905402710&4294967295,k=v+(I<<12&4294967295|I>>>20),I=A+(w^k&(v^w))+S[2]+606105819&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(v^A&(k^v))+S[3]+3250441966&4294967295,w=A+(I<<22&4294967295|I>>>10),I=v+(k^w&(A^k))+S[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=k+(A^v&(w^A))+S[5]+1200080426&4294967295,k=v+(I<<12&4294967295|I>>>20),I=A+(w^k&(v^w))+S[6]+2821735955&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(v^A&(k^v))+S[7]+4249261313&4294967295,w=A+(I<<22&4294967295|I>>>10),I=v+(k^w&(A^k))+S[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=k+(A^v&(w^A))+S[9]+2336552879&4294967295,k=v+(I<<12&4294967295|I>>>20),I=A+(w^k&(v^w))+S[10]+4294925233&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(v^A&(k^v))+S[11]+2304563134&4294967295,w=A+(I<<22&4294967295|I>>>10),I=v+(k^w&(A^k))+S[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=k+(A^v&(w^A))+S[13]+4254626195&4294967295,k=v+(I<<12&4294967295|I>>>20),I=A+(w^k&(v^w))+S[14]+2792965006&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(v^A&(k^v))+S[15]+1236535329&4294967295,w=A+(I<<22&4294967295|I>>>10),I=v+(A^k&(w^A))+S[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(v^w))+S[6]+3225465664&4294967295,k=v+(I<<9&4294967295|I>>>23),I=A+(v^w&(k^v))+S[11]+643717713&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^v&(A^k))+S[0]+3921069994&4294967295,w=A+(I<<20&4294967295|I>>>12),I=v+(A^k&(w^A))+S[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(v^w))+S[10]+38016083&4294967295,k=v+(I<<9&4294967295|I>>>23),I=A+(v^w&(k^v))+S[15]+3634488961&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^v&(A^k))+S[4]+3889429448&4294967295,w=A+(I<<20&4294967295|I>>>12),I=v+(A^k&(w^A))+S[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(v^w))+S[14]+3275163606&4294967295,k=v+(I<<9&4294967295|I>>>23),I=A+(v^w&(k^v))+S[3]+4107603335&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^v&(A^k))+S[8]+1163531501&4294967295,w=A+(I<<20&4294967295|I>>>12),I=v+(A^k&(w^A))+S[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(v^w))+S[2]+4243563512&4294967295,k=v+(I<<9&4294967295|I>>>23),I=A+(v^w&(k^v))+S[7]+1735328473&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^v&(A^k))+S[12]+2368359562&4294967295,w=A+(I<<20&4294967295|I>>>12),I=v+(w^A^k)+S[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=k+(v^w^A)+S[8]+2272392833&4294967295,k=v+(I<<11&4294967295|I>>>21),I=A+(k^v^w)+S[11]+1839030562&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^v)+S[14]+4259657740&4294967295,w=A+(I<<23&4294967295|I>>>9),I=v+(w^A^k)+S[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=k+(v^w^A)+S[4]+1272893353&4294967295,k=v+(I<<11&4294967295|I>>>21),I=A+(k^v^w)+S[7]+4139469664&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^v)+S[10]+3200236656&4294967295,w=A+(I<<23&4294967295|I>>>9),I=v+(w^A^k)+S[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=k+(v^w^A)+S[0]+3936430074&4294967295,k=v+(I<<11&4294967295|I>>>21),I=A+(k^v^w)+S[3]+3572445317&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^v)+S[6]+76029189&4294967295,w=A+(I<<23&4294967295|I>>>9),I=v+(w^A^k)+S[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=k+(v^w^A)+S[12]+3873151461&4294967295,k=v+(I<<11&4294967295|I>>>21),I=A+(k^v^w)+S[15]+530742520&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^v)+S[2]+3299628645&4294967295,w=A+(I<<23&4294967295|I>>>9),I=v+(A^(w|~k))+S[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=k+(w^(v|~A))+S[7]+1126891415&4294967295,k=v+(I<<10&4294967295|I>>>22),I=A+(v^(k|~w))+S[14]+2878612391&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~v))+S[5]+4237533241&4294967295,w=A+(I<<21&4294967295|I>>>11),I=v+(A^(w|~k))+S[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=k+(w^(v|~A))+S[3]+2399980690&4294967295,k=v+(I<<10&4294967295|I>>>22),I=A+(v^(k|~w))+S[10]+4293915773&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~v))+S[1]+2240044497&4294967295,w=A+(I<<21&4294967295|I>>>11),I=v+(A^(w|~k))+S[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=k+(w^(v|~A))+S[15]+4264355552&4294967295,k=v+(I<<10&4294967295|I>>>22),I=A+(v^(k|~w))+S[6]+2734768916&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~v))+S[13]+1309151649&4294967295,w=A+(I<<21&4294967295|I>>>11),I=v+(A^(w|~k))+S[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=k+(w^(v|~A))+S[11]+3174756917&4294967295,k=v+(I<<10&4294967295|I>>>22),I=A+(v^(k|~w))+S[2]+718787259&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~v))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var w=v-this.blockSize,S=this.B,A=this.h,k=0;k<v;){if(A==0)for(;k<=w;)r(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<v;)if(S[A++]=C.charCodeAt(k++),A==this.blockSize){r(this,S),A=0;break}}else for(;k<v;)if(S[A++]=C[k++],A==this.blockSize){r(this,S),A=0;break}}this.h=A,this.o+=v},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var w=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=w&255,w/=256;for(this.u(C),C=Array(16),v=w=0;4>v;++v)for(var S=0;32>S;S+=8)C[w++]=this.g[v]>>>S&255;return C};function i(C,v){var w=c;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=v(C)}function o(C,v){this.h=v;for(var w=[],S=!0,A=C.length-1;0<=A;A--){var k=C[A]|0;S&&k==v||(w[A]=k,S=!1)}this.g=w}var c={};function l(C){return-128<=C&&128>C?i(C,function(v){return new o([v|0],0>v?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return P(u(-C));for(var v=[],w=1,S=0;C>=w;S++)v[S]=C/w|0,w*=4294967296;return new o(v,0)}function h(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return P(h(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(v,8)),S=d,A=0;A<C.length;A+=8){var k=Math.min(8,C.length-A),I=parseInt(C.substring(A,A+k),v);8>k?(k=u(Math.pow(v,k)),S=S.j(k).add(u(I))):(S=S.j(w),S=S.add(u(I)))}return S}var d=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-P(this).m();for(var C=0,v=1,w=0;w<this.g.length;w++){var S=this.i(w);C+=(0<=S?S:4294967296+S)*v,v*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(R(this))return"-"+P(this).toString(C);for(var v=u(Math.pow(C,6)),w=this,S="";;){var A=z(w,v).g;w=F(w,A.j(v));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=A,b(w))return k+S;for(;6>k.length;)k="0"+k;S=k+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function R(C){return C.h==-1}t.l=function(C){return C=F(this,C),R(C)?-1:b(C)?0:1};function P(C){for(var v=C.g.length,w=[],S=0;S<v;S++)w[S]=~C.g[S];return new o(w,~C.h).add(m)}t.abs=function(){return R(this)?P(this):this},t.add=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],S=0,A=0;A<=v;A++){var k=S+(this.i(A)&65535)+(C.i(A)&65535),I=(k>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);S=I>>>16,k&=65535,I&=65535,w[A]=I<<16|k}return new o(w,w[w.length-1]&-2147483648?-1:0)};function F(C,v){return C.add(P(v))}t.j=function(C){if(b(this)||b(C))return d;if(R(this))return R(C)?P(this).j(P(C)):P(P(this).j(C));if(R(C))return P(this.j(P(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var v=this.g.length+C.g.length,w=[],S=0;S<2*v;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<C.g.length;A++){var k=this.i(S)>>>16,I=this.i(S)&65535,de=C.i(A)>>>16,re=C.i(A)&65535;w[2*S+2*A]+=I*re,L(w,2*S+2*A),w[2*S+2*A+1]+=k*re,L(w,2*S+2*A+1),w[2*S+2*A+1]+=I*de,L(w,2*S+2*A+1),w[2*S+2*A+2]+=k*de,L(w,2*S+2*A+2)}for(S=0;S<v;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=v;S<2*v;S++)w[S]=0;return new o(w,0)};function L(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function $(C,v){this.g=C,this.h=v}function z(C,v){if(b(v))throw Error("division by zero");if(b(C))return new $(d,d);if(R(C))return v=z(P(C),v),new $(P(v.g),P(v.h));if(R(v))return v=z(C,P(v)),new $(P(v.g),v.h);if(30<C.g.length){if(R(C)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,S=v;0>=S.l(C);)w=he(w),S=he(S);var A=fe(w,1),k=fe(S,1);for(S=fe(S,2),w=fe(w,2);!b(S);){var I=k.add(S);0>=I.l(C)&&(A=A.add(w),k=I),S=fe(S,1),w=fe(w,1)}return v=F(C,A.j(v)),new $(A,v)}for(A=d;0<=C.l(v);){for(w=Math.max(1,Math.floor(C.m()/v.m())),S=Math.ceil(Math.log(w)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),k=u(w),I=k.j(v);R(I)||0<I.l(C);)w-=S,k=u(w),I=k.j(v);b(k)&&(k=m),A=A.add(k),C=F(C,I)}return new $(A,C)}t.A=function(C){return z(this,C).h},t.and=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],S=0;S<v;S++)w[S]=this.i(S)&C.i(S);return new o(w,this.h&C.h)},t.or=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],S=0;S<v;S++)w[S]=this.i(S)|C.i(S);return new o(w,this.h|C.h)},t.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],S=0;S<v;S++)w[S]=this.i(S)^C.i(S);return new o(w,this.h^C.h)};function he(C){for(var v=C.g.length+1,w=[],S=0;S<v;S++)w[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(w,C.h)}function fe(C,v){var w=v>>5;v%=32;for(var S=C.g.length-w,A=[],k=0;k<S;k++)A[k]=0<v?C.i(k+w)>>>v|C.i(k+w+1)<<32-v:C.i(k+w);return new o(A,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cg=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ps=o}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lg,gi,ug,Qo,kl,hg,dg,fg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,p){return a==Array.prototype||a==Object.prototype||(a[f]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lo=="object"&&Lo];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=n(this);function r(a,f){if(f)e:{var p=s;a=a.split(".");for(var y=0;y<a.length-1;y++){var D=a[y];if(!(D in p))break e;p=p[D]}a=a[a.length-1],y=p[a],f=f(y),f!=y&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}function i(a,f){a instanceof String&&(a+="");var p=0,y=!1,D={next:function(){if(!y&&p<a.length){var x=p++;return{value:f(x,a[x]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(a){return a||function(){return i(this,function(f,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function l(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function u(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function h(a,f,p){return a.call.apply(a.bind,arguments)}function d(a,f,p){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),a.apply(f,D)}}return function(){return a.apply(f,arguments)}}function m(a,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function g(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function b(a,f){function p(){}p.prototype=f.prototype,a.aa=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(y,D,x){for(var te=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)te[Ke-2]=arguments[Ke];return f.prototype[D].apply(y,te)}}function R(a){const f=a.length;if(0<f){const p=Array(f);for(let y=0;y<f;y++)p[y]=a[y];return p}return[]}function P(a,f){for(let p=1;p<arguments.length;p++){const y=arguments[p];if(l(y)){const D=a.length||0,x=y.length||0;a.length=D+x;for(let te=0;te<x;te++)a[D+te]=y[te]}else a.push(y)}}class F{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function L(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function z(a){return z[" "](a),a}z[" "]=function(){};var he=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function fe(a,f,p){for(const y in a)f.call(p,a[y],y,a)}function C(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function v(a){const f={};for(const p in a)f[p]=a[p];return f}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,f){let p,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(p in y)a[p]=y[p];for(let x=0;x<w.length;x++)p=w[x],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function A(a){var f=1;a=a.split(":");const p=[];for(;0<f&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function k(a){c.setTimeout(()=>{throw a},0)}function I(){var a=me;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class de{constructor(){this.h=this.g=null}add(f,p){const y=re.get();y.set(f,p),this.h?this.h.next=y:this.g=y,this.h=y}}var re=new F(()=>new G,a=>a.reset());class G{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,q=!1,me=new de,ge=()=>{const a=c.Promise.resolve(void 0);Q=()=>{a.then(xe)}};var xe=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(p){k(p)}var f=re;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}q=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};c.addEventListener("test",p,f),c.removeEventListener("test",p,f)}catch{}return a}();function et(a,f){if(ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(he){e:{try{z(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement);this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:rt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&et.aa.h.call(this)}}b(et,ke);var rt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),ce=0;function Z(a,f,p,y,D){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!y,this.ha=D,this.key=++ce,this.da=this.fa=!1}function ie(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ne(a){this.src=a,this.g={},this.h=0}Ne.prototype.add=function(a,f,p,y,D){var x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);var te=E(a,f,y,D);return-1<te?(f=a[te],p||(f.fa=!1)):(f=new Z(f,this.src,x,!!y,D),f.fa=p,a.push(f)),f};function T(a,f){var p=f.type;if(p in a.g){var y=a.g[p],D=Array.prototype.indexOf.call(y,f,void 0),x;(x=0<=D)&&Array.prototype.splice.call(y,D,1),x&&(ie(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function E(a,f,p,y){for(var D=0;D<a.length;++D){var x=a[D];if(!x.da&&x.listener==f&&x.capture==!!p&&x.ha==y)return D}return-1}var O="closure_lm_"+(1e6*Math.random()|0),U={};function H(a,f,p,y,D){if(Array.isArray(f)){for(var x=0;x<f.length;x++)H(a,f[x],p,y,D);return null}return p=Ie(p),a&&a[V]?a.K(f,p,u(y)?!!y.capture:!1,D):B(a,f,p,!1,y,D)}function B(a,f,p,y,D,x){if(!f)throw Error("Invalid event type");var te=u(D)?!!D.capture:!!D,Ke=oe(a);if(Ke||(a[O]=Ke=new Ne(a)),p=Ke.add(f,p,y,te,x),p.proxy)return p;if(y=ae(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)Je||(D=te),D===void 0&&(D=!1),a.addEventListener(f.toString(),y,D);else if(a.attachEvent)a.attachEvent(W(f.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ae(){function a(p){return f.call(a.src,a.listener,p)}const f=_e;return a}function ee(a,f,p,y,D){if(Array.isArray(f))for(var x=0;x<f.length;x++)ee(a,f[x],p,y,D);else y=u(y)?!!y.capture:!!y,p=Ie(p),a&&a[V]?(a=a.i,f=String(f).toString(),f in a.g&&(x=a.g[f],p=E(x,p,y,D),-1<p&&(ie(x[p]),Array.prototype.splice.call(x,p,1),x.length==0&&(delete a.g[f],a.h--)))):a&&(a=oe(a))&&(f=a.g[f.toString()],a=-1,f&&(a=E(f,p,y,D)),(p=-1<a?f[a]:null)&&J(p))}function J(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[V])T(f.i,a);else{var p=a.type,y=a.proxy;f.removeEventListener?f.removeEventListener(p,y,a.capture):f.detachEvent?f.detachEvent(W(p),y):f.addListener&&f.removeListener&&f.removeListener(y),(p=oe(f))?(T(p,a),p.h==0&&(p.src=null,f[O]=null)):ie(a)}}}function W(a){return a in U?U[a]:U[a]="on"+a}function _e(a,f){if(a.da)a=!0;else{f=new et(f,this);var p=a.listener,y=a.ha||a.src;a.fa&&J(a),a=p.call(y,f)}return a}function oe(a){return a=a[O],a instanceof Ne?a:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(a){return typeof a=="function"?a:(a[pe]||(a[pe]=function(f){return a.handleEvent(f)}),a[pe])}function ve(){Ae.call(this),this.i=new Ne(this),this.M=this,this.F=null}b(ve,Ae),ve.prototype[V]=!0,ve.prototype.removeEventListener=function(a,f,p,y){ee(this,a,f,p,y)};function Oe(a,f){var p,y=a.F;if(y)for(p=[];y;y=y.F)p.push(y);if(a=a.M,y=f.type||f,typeof f=="string")f=new ke(f,a);else if(f instanceof ke)f.target=f.target||a;else{var D=f;f=new ke(y,a),S(f,D)}if(D=!0,p)for(var x=p.length-1;0<=x;x--){var te=f.g=p[x];D=Ue(te,y,!0,f)&&D}if(te=f.g=a,D=Ue(te,y,!0,f)&&D,D=Ue(te,y,!1,f)&&D,p)for(x=0;x<p.length;x++)te=f.g=p[x],D=Ue(te,y,!1,f)&&D}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var p=a.g[f],y=0;y<p.length;y++)ie(p[y]);delete a.g[f],a.h--}}this.F=null},ve.prototype.K=function(a,f,p,y){return this.i.add(String(a),f,!1,p,y)},ve.prototype.L=function(a,f,p,y){return this.i.add(String(a),f,!0,p,y)};function Ue(a,f,p,y){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,x=0;x<f.length;++x){var te=f[x];if(te&&!te.da&&te.capture==p){var Ke=te.listener,mt=te.ha||te.src;te.fa&&T(a.i,te),D=Ke.call(mt,y)!==!1&&D}}return D&&!y.defaultPrevented}function Tt(a,f,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(a,f||0)}function ft(a){a.g=Tt(()=>{a.g=null,a.i&&(a.i=!1,ft(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Qt extends Ae{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(a){Ae.call(this),this.h=a,this.g={}}b(Et,Ae);var Yn=[];function Jr(a){fe(a.g,function(f,p){this.g.hasOwnProperty(p)&&J(f)},a),a.g={}}Et.prototype.N=function(){Et.aa.N.call(this),Jr(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pt=c.JSON.stringify,Yt=c.JSON.parse,mo=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function vc(){}vc.prototype.h=null;function Th(a){return a.h||(a.h=a.i())}function Eh(){}var Xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tc(){ke.call(this,"d")}b(Tc,ke);function Ec(){ke.call(this,"c")}b(Ec,ke);var As={},wh=null;function _o(){return wh=wh||new ve}As.La="serverreachability";function Ih(a){ke.call(this,As.La,a)}b(Ih,ke);function Zr(a){const f=_o();Oe(f,new Ih(f))}As.STAT_EVENT="statevent";function bh(a,f){ke.call(this,As.STAT_EVENT,a),this.stat=f}b(bh,ke);function Nt(a){const f=_o();Oe(f,new bh(f,a))}As.Ma="timingevent";function Sh(a,f){ke.call(this,As.Ma,a),this.size=f}b(Sh,ke);function ei(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},f)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function S1(a,f,p,y,D,x){a.info(function(){if(a.g)if(x)for(var te="",Ke=x.split("&"),mt=0;mt<Ke.length;mt++){var je=Ke[mt].split("=");if(1<je.length){var wt=je[0];je=je[1];var It=wt.split("_");te=2<=It.length&&It[1]=="type"?te+(wt+"="+je+"&"):te+(wt+"=redacted&")}}else te=null;else te=x;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+f+`
`+p+`
`+te})}function A1(a,f,p,y,D,x,te){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+f+`
`+p+`
`+x+" "+te})}function er(a,f,p,y){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+R1(a,p)+(y?" "+y:"")})}function C1(a,f){a.info(function(){return"TIMEOUT: "+f})}ti.prototype.info=function(){};function R1(a,f){if(!a.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var y=p[a];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var x=D[0];if(x!="noop"&&x!="stop"&&x!="close")for(var te=1;te<D.length;te++)D[te]=""}}}}return pt(p)}catch{return f}}var go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ah={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wc;function yo(){}b(yo,vc),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},wc=new yo;function Jn(a,f,p,y){this.j=a,this.i=f,this.l=p,this.R=y||1,this.U=new Et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ch}function Ch(){this.i=null,this.g="",this.h=!1}var Rh={},Ic={};function bc(a,f,p){a.L=1,a.v=wo(Pn(f)),a.m=p,a.P=!0,Ph(a,null)}function Ph(a,f){a.F=Date.now(),vo(a),a.A=Pn(a.v);var p=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Hh(p.i,"t",y),a.C=0,p=a.j.J,a.h=new Ch,a.g=ad(a.j,p?f:null,!a.m),0<a.O&&(a.M=new Qt(m(a.Y,a,a.g),a.O)),f=a.U,p=a.g,y=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Yn[0]=D.toString()),D=Yn);for(var x=0;x<D.length;x++){var te=H(p,D[x],y||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Zr(),S1(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;const f=this.M;f&&kn(a)==3?f.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{const It=kn(this.g);var f=this.g.Ba();const sr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Yh(this.g)))){this.J||It!=4||f==7||(f==8||0>=sr?Zr(3):Zr(2)),Sc(this);var p=this.g.Z();this.X=p;t:if(kh(this)){var y=Yh(this.g);a="";var D=y.length,x=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),ni(this);var te="";break t}this.h.i=new c.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,a+=this.h.i.decode(y[f],{stream:!(x&&f==D-1)});y.length=0,this.h.g+=a,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=p==200,A1(this.i,this.u,this.A,this.l,this.R,It,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,mt=this.g;if((Ke=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ke)){var je=Ke;break t}}je=null}if(p=je)er(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ac(this,p);else{this.o=!1,this.s=3,Nt(12),Cs(this),ni(this);break e}}if(this.P){p=!0;let rn;for(;!this.J&&this.C<te.length;)if(rn=P1(this,te),rn==Ic){It==4&&(this.s=4,Nt(14),p=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Rh){this.s=4,Nt(15),er(this.i,this.l,te,"[Invalid Chunk]"),p=!1;break}else er(this.i,this.l,rn,null),Ac(this,rn);if(kh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||te.length!=0||this.h.h||(this.s=1,Nt(16),p=!1),this.o=this.o&&p,!p)er(this.i,this.l,te,"[Invalid Chunked Response]"),Cs(this),ni(this);else if(0<te.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Dc(wt),wt.M=!0,Nt(11))}}else er(this.i,this.l,te,null),Ac(this,te);It==4&&Cs(this),this.o&&!this.J&&(It==4?sd(this.j,this):(this.o=!1,vo(this)))}else W1(this.g),p==400&&0<te.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Cs(this),ni(this)}}}catch{}finally{}};function kh(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function P1(a,f){var p=a.C,y=f.indexOf(`
`,p);return y==-1?Ic:(p=Number(f.substring(p,y)),isNaN(p)?Rh:(y+=1,y+p>f.length?Ic:(f=f.slice(y,y+p),a.C=y+p,f)))}Jn.prototype.cancel=function(){this.J=!0,Cs(this)};function vo(a){a.S=Date.now()+a.I,Oh(a,a.I)}function Oh(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ei(m(a.ba,a),f)}function Sc(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(C1(this.i,this.A),this.L!=2&&(Zr(),Nt(17)),Cs(this),this.s=2,ni(this)):Oh(this,this.S-a)};function ni(a){a.j.G==0||a.J||sd(a.j,a)}function Cs(a){Sc(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Jr(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Ac(a,f){try{var p=a.j;if(p.G!=0&&(p.g==a||Cc(p.h,a))){if(!a.K&&Cc(p.h,a)&&p.G==3){try{var y=p.Da.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Ro(p),Ao(p);else break e;Oc(p),Nt(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=ei(m(p.Za,p),6e3));if(1>=xh(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ps(p,11)}else if((a.K||p.g==a)&&Ro(p),!L(f))for(D=p.Da.g.parse(f),f=0;f<D.length;f++){let je=D[f];if(p.T=je[0],je=je[1],p.G==2)if(je[0]=="c"){p.K=je[1],p.ia=je[2];const wt=je[3];wt!=null&&(p.la=wt,p.j.info("VER="+p.la));const It=je[4];It!=null&&(p.Aa=It,p.j.info("SVER="+p.Aa));const sr=je[5];sr!=null&&typeof sr=="number"&&0<sr&&(y=1.5*sr,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const rn=a.g;if(rn){const ko=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var x=y.h;x.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Rc(x,x.h),x.h=null))}if(y.D){const Nc=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(y.ya=Nc,Xe(y.I,y.D,Nc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var te=a;if(y.qa=od(y,y.J?y.ia:null,y.W),te.K){Lh(y.h,te);var Ke=te,mt=y.L;mt&&(Ke.I=mt),Ke.B&&(Sc(Ke),vo(Ke)),y.g=te}else td(y);0<p.i.length&&Co(p)}else je[0]!="stop"&&je[0]!="close"||Ps(p,7);else p.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ps(p,7):kc(p):je[0]!="noop"&&p.l&&p.l.ta(je),p.v=0)}}Zr(4)}catch{}}var k1=class{constructor(a,f){this.g=a,this.map=f}};function Dh(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function xh(a){return a.h?1:a.g?a.g.size:0}function Cc(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Rc(a,f){a.g?a.g.add(f):a.h=f}function Lh(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Dh.prototype.cancel=function(){if(this.i=Vh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Vh(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.D);return f}return R(a.i)}function O1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var f=[],p=a.length,y=0;y<p;y++)f.push(a[y]);return f}f=[],p=0;for(y in a)f[p++]=a[y];return f}function D1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var f=[];a=a.length;for(var p=0;p<a;p++)f.push(p);return f}f=[],p=0;for(const y in a)f[p++]=y;return f}}}function Mh(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var p=D1(a),y=O1(a),D=y.length,x=0;x<D;x++)f.call(void 0,y[x],p&&p[x],a)}var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N1(a,f){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var y=a[p].indexOf("="),D=null;if(0<=y){var x=a[p].substring(0,y);D=a[p].substring(y+1)}else x=a[p];f(x,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Rs(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rs){this.h=a.h,To(this,a.j),this.o=a.o,this.g=a.g,Eo(this,a.s),this.l=a.l;var f=a.i,p=new ii;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),$h(this,p),this.m=a.m}else a&&(f=String(a).match(Fh))?(this.h=!1,To(this,f[1]||"",!0),this.o=si(f[2]||""),this.g=si(f[3]||"",!0),Eo(this,f[4]),this.l=si(f[5]||"",!0),$h(this,f[6]||"",!0),this.m=si(f[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Rs.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ri(f,Uh,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ri(f,Uh,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(ri(p,p.charAt(0)=="/"?V1:L1,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",ri(p,F1)),a.join("")};function Pn(a){return new Rs(a)}function To(a,f,p){a.j=p?si(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Eo(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function $h(a,f,p){f instanceof ii?(a.i=f,$1(a.i,a.h)):(p||(f=ri(f,M1)),a.i=new ii(f,a.h))}function Xe(a,f,p){a.i.set(f,p)}function wo(a){return Xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function si(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ri(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,x1),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function x1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Uh=/[#\/\?@]/g,L1=/[#\?:]/g,V1=/[#\?]/g,M1=/[#\?@]/g,F1=/#/g;function ii(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Xn(a){a.g||(a.g=new Map,a.h=0,a.i&&N1(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=ii.prototype,t.add=function(a,f){Xn(this),this.i=null,a=tr(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Bh(a,f){Xn(a),f=tr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function jh(a,f){return Xn(a),f=tr(a,f),a.g.has(f)}t.forEach=function(a,f){Xn(this),this.g.forEach(function(p,y){p.forEach(function(D){a.call(f,D,y,this)},this)},this)},t.na=function(){Xn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let y=0;y<f.length;y++){const D=a[y];for(let x=0;x<D.length;x++)p.push(f[y])}return p},t.V=function(a){Xn(this);let f=[];if(typeof a=="string")jh(this,a)&&(f=f.concat(this.g.get(tr(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)f=f.concat(a[p])}return f},t.set=function(a,f){return Xn(this),this.i=null,a=tr(this,a),jh(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Hh(a,f,p){Bh(a,f),0<p.length&&(a.i=null,a.g.set(tr(a,f),R(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var y=f[p];const x=encodeURIComponent(String(y)),te=this.V(y);for(y=0;y<te.length;y++){var D=x;te[y]!==""&&(D+="="+encodeURIComponent(String(te[y]))),a.push(D)}}return this.i=a.join("&")};function tr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function $1(a,f){f&&!a.j&&(Xn(a),a.i=null,a.g.forEach(function(p,y){var D=y.toLowerCase();y!=D&&(Bh(this,y),Hh(this,D,p))},a)),a.j=f}function U1(a,f){const p=new ti;if(c.Image){const y=new Image;y.onload=g(Zn,p,"TestLoadImage: loaded",!0,f,y),y.onerror=g(Zn,p,"TestLoadImage: error",!1,f,y),y.onabort=g(Zn,p,"TestLoadImage: abort",!1,f,y),y.ontimeout=g(Zn,p,"TestLoadImage: timeout",!1,f,y),c.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else f(!1)}function B1(a,f){const p=new ti,y=new AbortController,D=setTimeout(()=>{y.abort(),Zn(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:y.signal}).then(x=>{clearTimeout(D),x.ok?Zn(p,"TestPingServer: ok",!0,f):Zn(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),Zn(p,"TestPingServer: error",!1,f)})}function Zn(a,f,p,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(p)}catch{}}function j1(){this.g=new mo}function H1(a,f,p){const y=p||"";try{Mh(a,function(D,x){let te=D;u(D)&&(te=pt(D)),f.push(y+x+"="+encodeURIComponent(te))})}catch(D){throw f.push(y+"type="+encodeURIComponent("_badmap")),D}}function Io(a){this.l=a.Ub||null,this.j=a.eb||!1}b(Io,vc),Io.prototype.g=function(){return new bo(this.l,this.j)},Io.prototype.i=function(a){return function(){return a}}({});function bo(a,f){ve.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(bo,ve),t=bo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ai(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qh(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function qh(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?oi(this):ai(this),this.readyState==3&&qh(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,oi(this))},t.Qa=function(a){this.g&&(this.response=a,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ai(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function ai(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zh(a){let f="";return fe(a,function(p,y){f+=y,f+=":",f+=p,f+=`\r
`}),f}function Pc(a,f,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=zh(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Xe(a,f,p))}function nt(a){ve.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(nt,ve);var q1=/^https?$/i,z1=["POST","PUT"];t=nt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wc.g(),this.v=this.o?Th(this.o):Th(wc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(x){Wh(this,x);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)p.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const x of y.keys())p.set(x,y.get(x));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(x=>x.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(z1,f,void 0))||y||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,te]of p)this.g.setRequestHeader(x,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qh(this),this.u=!0,this.g.send(a),this.u=!1}catch(x){Wh(this,x)}};function Wh(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Kh(a),So(a)}function Kh(a){a.A||(a.A=!0,Oe(a,"complete"),Oe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Oe(this,"complete"),Oe(this,"abort"),So(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),So(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gh(this):this.bb())},t.bb=function(){Gh(this)};function Gh(a){if(a.h&&typeof o<"u"&&(!a.v[1]||kn(a)!=4||a.Z()!=2)){if(a.u&&kn(a)==4)Tt(a.Ea,0,a);else if(Oe(a,"readystatechange"),kn(a)==4){a.h=!1;try{const te=a.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var y;if(y=te===0){var D=String(a.D).match(Fh)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),y=!q1.test(D?D.toLowerCase():"")}p=y}if(p)Oe(a,"complete"),Oe(a,"success");else{a.m=6;try{var x=2<kn(a)?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.Z()+"]",Kh(a)}}finally{So(a)}}}}function So(a,f){if(a.g){Qh(a);const p=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Oe(a,"ready");try{p.onreadystatechange=y}catch{}}}function Qh(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function kn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Yt(f)}};function Yh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function W1(a){const f={};a=(a.g&&2<=kn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(L(a[y]))continue;var p=A(a[y]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const x=f[D]||[];f[D]=x,x.push(p)}C(f,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function Jh(a){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,a),this.cb=ci("retryDelaySeedMs",1e4,a),this.Wa=ci("forwardChannelMaxRetries",2,a),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Dh(a&&a.concurrentRequestLimit),this.Da=new j1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jh.prototype,t.la=8,t.G=1,t.connect=function(a,f,p,y){Nt(0),this.W=a,this.H=f||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=od(this,null,this.W),Co(this)};function kc(a){if(Xh(a),a.G==3){var f=a.U++,p=Pn(a.I);if(Xe(p,"SID",a.K),Xe(p,"RID",f),Xe(p,"TYPE","terminate"),li(a,p),f=new Jn(a,a.j,f),f.L=2,f.v=wo(Pn(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=f.v,p=!0),p||(f.g=ad(f.j,null),f.g.ea(f.v)),f.F=Date.now(),vo(f)}id(a)}function Ao(a){a.g&&(Dc(a),a.g.cancel(),a.g=null)}function Xh(a){Ao(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ro(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Co(a){if(!Nh(a.h)&&!a.s){a.s=!0;var f=a.Ga;Q||ge(),q||(Q(),q=!0),me.add(f,a),a.B=0}}function K1(a,f){return xh(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ei(m(a.Ga,a,f),rd(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new Jn(this,this.j,a);let x=this.o;if(this.S&&(x?(x=v(x),S(x,this.S)):x=this.S),this.m!==null||this.O||(D.H=x,x=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=ed(this,D,f),p=Pn(this.I),Xe(p,"RID",a),Xe(p,"CVER",22),this.D&&Xe(p,"X-HTTP-Session-Id",this.D),li(this,p),x&&(this.O?f="headers="+encodeURIComponent(String(zh(x)))+"&"+f:this.m&&Pc(p,this.m,x)),Rc(this.h,D),this.Ua&&Xe(p,"TYPE","init"),this.P?(Xe(p,"$req",f),Xe(p,"SID","null"),D.T=!0,bc(D,p,null)):bc(D,p,f),this.G=2}}else this.G==3&&(a?Zh(this,a):this.i.length==0||Nh(this.h)||Zh(this))};function Zh(a,f){var p;f?p=f.l:p=a.U++;const y=Pn(a.I);Xe(y,"SID",a.K),Xe(y,"RID",p),Xe(y,"AID",a.T),li(a,y),a.m&&a.o&&Pc(y,a.m,a.o),p=new Jn(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),f&&(a.i=f.D.concat(a.i)),f=ed(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Rc(a.h,p),bc(p,y,f)}function li(a,f){a.H&&fe(a.H,function(p,y){Xe(f,y,p)}),a.l&&Mh({},function(p,y){Xe(f,y,p)})}function ed(a,f,p){p=Math.min(a.i.length,p);var y=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let x=-1;for(;;){const te=["count="+p];x==-1?0<p?(x=D[0].g,te.push("ofs="+x)):x=0:te.push("ofs="+x);let Ke=!0;for(let mt=0;mt<p;mt++){let je=D[mt].g;const wt=D[mt].map;if(je-=x,0>je)x=Math.max(0,D[mt].g-100),Ke=!1;else try{H1(wt,te,"req"+je+"_")}catch{y&&y(wt)}}if(Ke){y=te.join("&");break e}}}return a=a.i.splice(0,p),f.D=a,y}function td(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Q||ge(),q||(Q(),q=!0),me.add(f,a),a.v=0}}function Oc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ei(m(a.Fa,a),rd(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ei(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Ao(this),nd(this))};function Dc(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function nd(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Pn(a.qa);Xe(f,"RID","rpc"),Xe(f,"SID",a.K),Xe(f,"AID",a.T),Xe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Xe(f,"TO",a.ja),Xe(f,"TYPE","xmlhttp"),li(a,f),a.m&&a.o&&Pc(f,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=wo(Pn(f)),p.m=null,p.P=!0,Ph(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Ao(this),Oc(this),Nt(19))};function Ro(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function sd(a,f){var p=null;if(a.g==f){Ro(a),Dc(a),a.g=null;var y=2}else if(Cc(a.h,f))p=f.D,Lh(a.h,f),y=1;else return;if(a.G!=0){if(f.o)if(y==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var D=a.B;y=_o(),Oe(y,new Sh(y,p)),Co(a)}else td(a);else if(D=f.s,D==3||D==0&&0<f.X||!(y==1&&K1(a,f)||y==2&&Oc(a)))switch(p&&0<p.length&&(f=a.h,f.i=f.i.concat(p)),D){case 1:Ps(a,5);break;case 4:Ps(a,10);break;case 3:Ps(a,6);break;default:Ps(a,2)}}}function rd(a,f){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*f}function Ps(a,f){if(a.j.info("Error code "+f),f==2){var p=m(a.fb,a),y=a.Xa;const D=!y;y=new Rs(y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(y,"https"),wo(y),D?U1(y.toString(),p):B1(y.toString(),p)}else Nt(2);a.G=0,a.l&&a.l.sa(f),id(a),Xh(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function id(a){if(a.G=0,a.ka=[],a.l){const f=Vh(a.h);(f.length!=0||a.i.length!=0)&&(P(a.ka,f),P(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function od(a,f,p){var y=p instanceof Rs?Pn(p):new Rs(p);if(y.g!="")f&&(y.g=f+"."+y.g),Eo(y,y.s);else{var D=c.location;y=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var x=new Rs(null);y&&To(x,y),f&&(x.g=f),D&&Eo(x,D),p&&(x.l=p),y=x}return p=a.D,f=a.ya,p&&f&&Xe(y,p,f),Xe(y,"VER",a.la),li(a,y),y}function ad(a,f,p){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new nt(new Io({eb:p})):new nt(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cd(){}t=cd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(a,f){return new qt(a,f)};function qt(a,f){ve.call(this),this.g=new Jh(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!L(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!L(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new nr(this)}b(qt,ve),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){kc(this.g)},qt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=pt(a),a=p);f.i.push(new k1(f.Ya++,a)),f.G==3&&Co(f)},qt.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,qt.aa.N.call(this)};function ld(a){Tc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}b(ld,Tc);function ud(){Ec.call(this),this.status=1}b(ud,Ec);function nr(a){this.g=a}b(nr,cd),nr.prototype.ua=function(){Oe(this.g,"a")},nr.prototype.ta=function(a){Oe(this.g,new ld(a))},nr.prototype.sa=function(a){Oe(this.g,new ud)},nr.prototype.ra=function(){Oe(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,fg=function(){return new Po},dg=function(){return _o()},hg=As,kl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,Qo=go,Ah.COMPLETE="complete",ug=Ah,Eh.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",ve.prototype.listen=ve.prototype.K,gi=Eh,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,lg=nt}).apply(typeof Lo<"u"?Lo:typeof self<"u"?self:typeof window<"u"?window:{});const Ef="@firebase/firestore",wf="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Iu("@firebase/firestore");function lr(){return Hs.logLevel}function ue(t,...e){if(Hs.logLevel<=Me.DEBUG){const n=e.map(Lu);Hs.debug(`Firestore (${jr}): ${t}`,...n)}}function zn(t,...e){if(Hs.logLevel<=Me.ERROR){const n=e.map(Lu);Hs.error(`Firestore (${jr}): ${t}`,...n)}}function Pr(t,...e){if(Hs.logLevel<=Me.WARN){const n=e.map(Lu);Hs.warn(`Firestore (${jr}): ${t}`,...n)}}function Lu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,pg(t,s,n)}function pg(t,e,n){let s=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw zn(s),new Error(s)}function We(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||pg(e,r,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ab{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class cb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lb{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},c=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new mg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class ub{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hb{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ub(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class If{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class db{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new If(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new If(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=fb(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function Ol(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return Le(s,r);{const i=_g(),o=pb(i.encode(bf(t,n)),i.encode(bf(e,n)));return o!==0?o:Le(s,r)}}n+=s>65535?2:1}return Le(t.length,e.length)}function bf(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function kr(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=-62135596800,Af=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Af);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sf)throw new Te(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Af}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ut(0,0))}static max(){return new Ce(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="__name__";class yn{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=yn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Le(e.length,n.length)}static compareSegments(e,n){const s=yn.isNumericId(e),r=yn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?yn.extractNumericId(e).compare(yn.extractNumericId(n)):Ol(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class st extends yn{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Te(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new st(n)}static emptyPath(){return new st([])}}const mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends yn{construct(e,n,s){return new yt(e,n,s)}static isValidIdentifier(e){return mb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cf}static keyField(){return new yt([Cf])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Te(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new Te(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(s+=c,r++):(i(),r++)}if(i(),o)throw new Te(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(st.fromString(e))}static fromName(e){return new Ee(st.fromString(e).popFirst(5))}static empty(){return new Ee(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=-1;function _b(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new ys(r,Ee.empty(),e)}function gb(t){return new ys(t.readTime,t.key,Bi)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Ce.min(),Ee.empty(),Bi)}static max(){return new ys(Ce.max(),Ee.empty(),Bi)}}function yb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==vb)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let r=0,i=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(r=>r?j.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new j((s,r)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++c,c===i&&s(o)},h=>r(h))}})}static doWhile(e,n){return new j((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Eb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xa.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function Za(t){return t==null}function wa(t){return t===0&&1/t==-1/0}function wb(t){return typeof t=="number"&&Number.isInteger(t)&&!wa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="";function Ib(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Rf(e)),e=bb(t.get(n),e);return Rf(e)}function bb(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case yg:n+="";break;default:n+=i}}return n}function Rf(t){return t+yg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??_t.RED,this.left=r??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new _t(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return _t.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kf(this.data.getIterator())}getIteratorFrom(e){return new kf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class kf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new an([])}unionWith(e){let n=new ht(yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kr(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Tg("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const Sb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=Sb.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="server_timestamp",wg="__type__",Ig="__previous_value__",bg="__local_write_time__";function Mu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wg])===null||n===void 0?void 0:n.stringValue)===Eg}function ec(t){const e=t.mapValue.fields[Ig];return Mu(e)?ec(e):e}function ji(t){const e=vs(t.mapValue.fields[bg].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,s,r,i,o,c,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Ia="(default)";class Hi{constructor(e,n){this.projectId=e,this.database=n||Ia}static empty(){return new Hi("","")}get isDefaultDatabase(){return this.database===Ia}isEqual(e){return e instanceof Hi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="__type__",Cb="__max__",Mo={mapValue:{}},Ag="__vector__",ba="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mu(t)?4:Pb(t)?9007199254740991:Rb(t)?10:11:be(28295,{value:t})}function An(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ji(t).isEqual(ji(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=vs(r.timestampValue),c=vs(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ts(r.bytesValue).isEqual(Ts(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=it(r.doubleValue),c=it(i.doubleValue);return o===c?wa(o)===wa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return kr(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Pf(o)!==Pf(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!An(o[l],c[l])))return!1;return!0}(t,e);default:return be(52216,{left:t})}}function qi(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function Or(t,e){if(t===e)return 0;const n=Es(t),s=Es(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=it(i.integerValue||i.doubleValue),l=it(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return Of(t.timestampValue,e.timestampValue);case 4:return Of(ji(t),ji(e));case 5:return Ol(t.stringValue,e.stringValue);case 6:return function(i,o){const c=Ts(i),l=Ts(o);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const h=Le(c[u],l[u]);if(h!==0)return h}return Le(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Le(it(i.latitude),it(o.latitude));return c!==0?c:Le(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Df(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,l,u,h;const d=i.fields||{},m=o.fields||{},g=(c=d[ba])===null||c===void 0?void 0:c.arrayValue,b=(l=m[ba])===null||l===void 0?void 0:l.arrayValue,R=Le(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:Df(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Mo.mapValue&&o===Mo.mapValue)return 0;if(i===Mo.mapValue)return 1;if(o===Mo.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=Ol(l[d],h[d]);if(m!==0)return m;const g=Or(c[l[d]],u[h[d]]);if(g!==0)return g}return Le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function Of(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=vs(t),s=vs(e),r=Le(n.seconds,s.seconds);return r!==0?r:Le(n.nanos,s.nanos)}function Df(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Or(n[r],s[r]);if(i)return i}return Le(n.length,s.length)}function Dr(t){return Dl(t)}function Dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Dl(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Dl(n.fields[o])}`;return r+"}"}(t.mapValue):be(61005,{value:t})}function Yo(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ec(t);return e?16+Yo(e):16;case 5:return 2*t.stringValue.length;case 6:return Ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Yo(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Gs(s.fields,(i,o)=>{r+=i.length+Yo(o)}),r}(t.mapValue);default:throw be(13486,{value:t})}}function Nl(t){return!!t&&"integerValue"in t}function Fu(t){return!!t&&"arrayValue"in t}function Nf(t){return!!t&&"nullValue"in t}function xf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jo(t){return!!t&&"mapValue"in t}function Rb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sg])===null||n===void 0?void 0:n.stringValue)===Ag}function Ri(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ri(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ri(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Pb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ri(n)}setAll(e){let n=yt.emptyPath(),s={},r=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=c.popLast()}o?s[c.lastSegment()]=Ri(o):r.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Jo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Jo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Gs(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Zt(Ri(this.value))}}function Cg(t){const e=[];return Gs(t.fields,(n,s)=>{const r=new yt([n]);if(Jo(s)){const i=Cg(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,s,r,i,o,c){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ct(e,0,Ce.min(),Ce.min(),Ce.min(),Zt.empty(),0)}static newFoundDocument(e,n,s,r){return new Ct(e,1,n,Ce.min(),s,r,0)}static newNoDocument(e,n){return new Ct(e,2,n,Ce.min(),Ce.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,Ce.min(),Ce.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.position=e,this.inclusive=n}}function Lf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Ee.comparator(Ee.fromName(o.referenceValue),n.key):s=Or(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function kb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{}class lt extends Rg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Db(e,n,s):n==="array-contains"?new Lb(e,s):n==="in"?new Vb(e,s):n==="not-in"?new Mb(e,s):n==="array-contains-any"?new Fb(e,s):new lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Nb(e,s):new xb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Or(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Or(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cn extends Rg{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Cn(e,n)}matches(e){return Pg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Pg(t){return t.op==="and"}function kg(t){return Ob(t)&&Pg(t)}function Ob(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function xl(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Dr(t.value);if(kg(t))return t.filters.map(e=>xl(e)).join(",");{const e=t.filters.map(n=>xl(n)).join(",");return`${t.op}(${e})`}}function Og(t,e){return t instanceof lt?function(s,r){return r instanceof lt&&s.op===r.op&&s.field.isEqual(r.field)&&An(s.value,r.value)}(t,e):t instanceof Cn?function(s,r){return r instanceof Cn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,c)=>i&&Og(o,r.filters[c]),!0):!1}(t,e):void be(19439)}function Dg(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Dr(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(Dg).join(" ,")+"}"}(t):"Filter"}class Db extends lt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nb extends lt{constructor(e,n){super(e,"in",n),this.keys=Ng("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xb extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Ng("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ng(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class Lb extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fu(n)&&qi(n.arrayValue,this.value)}}class Vb extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qi(this.value.arrayValue,n)}}class Mb extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qi(this.value.arrayValue,n)}}class Fb extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qi(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n=null,s=[],r=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=c,this.Ie=null}}function Mf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new $b(t,e,n,s,r,i,o)}function $u(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>xl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Za(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Dr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Dr(s)).join(",")),e.Ie=n}return e.Ie}function Uu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Og(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vf(t.startAt,e.startAt)&&Vf(t.endAt,e.endAt)}function Ll(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n=null,s=[],r=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ub(t,e,n,s,r,i,o,c){return new tc(t,e,n,s,r,i,o,c)}function Bu(t){return new tc(t)}function Ff(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bb(t){return t.collectionGroup!==null}function Pi(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ht(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Aa(i,s))}),n.has(yt.keyField().canonicalString())||e.Ee.push(new Aa(yt.keyField(),s))}return e.Ee}function In(t){const e=Re(t);return e.de||(e.de=jb(e,Pi(t))),e.de}function jb(t,e){if(t.limitType==="F")return Mf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Aa(r.field,i)});const n=t.endAt?new Sa(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Sa(t.startAt.position,t.startAt.inclusive):null;return Mf(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Vl(t,e,n){return new tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nc(t,e){return Uu(In(t),In(e))&&t.limitType===e.limitType}function xg(t){return`${$u(In(t))}|lt:${t.limitType}`}function ur(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>Dg(r)).join(", ")}]`),Za(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Dr(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Dr(r)).join(",")),`Target(${s})`}(In(t))}; limitType=${t.limitType})`}function sc(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Ee.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Pi(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,c,l){const u=Lf(o,c,l);return o.inclusive?u<=0:u<0}(s.startAt,Pi(s),r)||s.endAt&&!function(o,c,l){const u=Lf(o,c,l);return o.inclusive?u>=0:u>0}(s.endAt,Pi(s),r))}(t,e)}function Hb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lg(t){return(e,n)=>{let s=!1;for(const r of Pi(t)){const i=qb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function qb(t,e,n){const s=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(i,o,c){const l=o.data.field(i),u=c.data.field(i);return l!==null&&u!==null?Or(l,u):be(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return vg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new tt(Ee.comparator);function Wn(){return zb}const Vg=new tt(Ee.comparator);function yi(...t){let e=Vg;for(const n of t)e=e.insert(n.key,n);return e}function Mg(t){let e=Vg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ls(){return ki()}function Fg(){return ki()}function ki(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wb=new tt(Ee.comparator),Kb=new ht(Ee.comparator);function Fe(...t){let e=Kb;for(const n of t)e=e.add(n);return e}const Gb=new ht(Le);function Qb(){return Gb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(e)?"-0":e}}function $g(t){return{integerValue:""+t}}function Yb(t,e){return wb(e)?$g(e):ju(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function Jb(t,e,n){return t instanceof Ca?function(r,i){const o={fields:{[wg]:{stringValue:Eg},[bg]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Mu(i)&&(i=ec(i)),i&&(o.fields[Ig]=i),{mapValue:o}}(n,e):t instanceof zi?Bg(t,e):t instanceof Wi?jg(t,e):function(r,i){const o=Ug(r,i),c=$f(o)+$f(r.Re);return Nl(o)&&Nl(r.Re)?$g(c):ju(r.serializer,c)}(t,e)}function Xb(t,e,n){return t instanceof zi?Bg(t,e):t instanceof Wi?jg(t,e):n}function Ug(t,e){return t instanceof Ra?function(s){return Nl(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Ca extends rc{}class zi extends rc{constructor(e){super(),this.elements=e}}function Bg(t,e){const n=Hg(e);for(const s of t.elements)n.some(r=>An(r,s))||n.push(s);return{arrayValue:{values:n}}}class Wi extends rc{constructor(e){super(),this.elements=e}}function jg(t,e){let n=Hg(e);for(const s of t.elements)n=n.filter(r=>!An(r,s));return{arrayValue:{values:n}}}class Ra extends rc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $f(t){return it(t.integerValue||t.doubleValue)}function Hg(t){return Fu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zb(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof zi&&r instanceof zi||s instanceof Wi&&r instanceof Wi?kr(s.elements,r.elements,An):s instanceof Ra&&r instanceof Ra?An(s.Re,r.Re):s instanceof Ca&&r instanceof Ca}(t.transform,e.transform)}class eS{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ic{}function qg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wg(t.key,Un.none()):new ao(t.key,t.data,Un.none());{const n=t.data,s=Zt.empty();let r=new ht(yt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Ys(t.key,s,new an(r.toArray()),Un.none())}}function tS(t,e,n){t instanceof ao?function(r,i,o){const c=r.value.clone(),l=Bf(r.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ys?function(r,i,o){if(!Xo(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Bf(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zg(r)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oi(t,e,n,s){return t instanceof ao?function(i,o,c,l){if(!Xo(i.precondition,o))return c;const u=i.value.clone(),h=jf(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ys?function(i,o,c,l){if(!Xo(i.precondition,o))return c;const u=jf(i.fieldTransforms,l,o),h=o.data;return h.setAll(zg(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,s):function(i,o,c){return Xo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function nS(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Ug(s.transform,r||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(s.field,i))}return n||null}function Uf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&kr(s,r,(i,o)=>Zb(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ao extends ic{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ys extends ic{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Bf(t,e,n){const s=new Map;We(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,c=e.data.field(i.field);s.set(i.field,Xb(o,c,n[r]))}return s}function jf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Jb(i,o,e))}return s}class Wg extends ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sS extends ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&tS(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Oi(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Oi(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Fg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(r.key)?null:c;const l=qg(o,c);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&kr(this.mutations,e.mutations,(n,s)=>Uf(n,s))&&kr(this.baseMutations,e.baseMutations,(n,s)=>Uf(n,s))}}class Hu{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){We(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let r=function(){return Wb}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Hu(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Be;function aS(t){switch(t){case K.OK:return be(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function Kg(t){if(t===void 0)return zn("GRPC error has no .code"),K.UNKNOWN;switch(t){case at.OK:return K.OK;case at.CANCELLED:return K.CANCELLED;case at.UNKNOWN:return K.UNKNOWN;case at.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case at.INTERNAL:return K.INTERNAL;case at.UNAVAILABLE:return K.UNAVAILABLE;case at.UNAUTHENTICATED:return K.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case at.NOT_FOUND:return K.NOT_FOUND;case at.ALREADY_EXISTS:return K.ALREADY_EXISTS;case at.PERMISSION_DENIED:return K.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case at.ABORTED:return K.ABORTED;case at.OUT_OF_RANGE:return K.OUT_OF_RANGE;case at.UNIMPLEMENTED:return K.UNIMPLEMENTED;case at.DATA_LOSS:return K.DATA_LOSS;default:return be(39323,{code:t})}}(Be=at||(at={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new ps([4294967295,4294967295],0);function Hf(t){const e=_g().encode(t),n=new cg;return n.update(e),new Uint8Array(n.digest())}function qf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ps([n,s],0),new ps([r,i],0)]}class qu{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vi(`Invalid padding: ${n}`);if(s<0)throw new vi(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vi(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ps.fromNumber(this.pe)}we(e,n,s){let r=e.add(n.multiply(ps.fromNumber(s)));return r.compare(cS)===1&&(r=new ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Hf(e),[s,r]=qf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);if(!this.be(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qu(i,r,n);return s.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const n=Hf(e),[s,r]=qf(n);for(let i=0;i<this.hashCount;i++){const o=this.we(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new oc(Ce.min(),r,new tt(Le),Wn(),Fe())}}class co{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new co(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,s,r){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=r}}class Gg{constructor(e,n){this.targetId=e,this.Ce=n}}class Qg{constructor(e,n,s=vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class zf{constructor(){this.Fe=0,this.Me=Wf(),this.xe=vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),n=Fe(),s=Fe();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:be(38017,{changeType:i})}}),new co(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Wf()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,We(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lS{constructor(e){this.ze=e,this.je=new Map,this.He=Wn(),this.Je=Fo(),this.Ye=Fo(),this.Ze=new tt(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,s=e.Ce.count,r=this._t(n);if(r){const i=r.target;if(Ll(i))if(s===0){const o=new Ee(i.path);this.tt(n,o,Ct.newNoDocument(o,Ce.min()))}else We(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const c=this.ct(e),l=c?this.lt(c,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,c;try{o=Ts(s).toUint8Array()}catch(l){if(l instanceof Tg)return Pr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new qu(o,r,i)}catch(l){return Pr(l instanceof vi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.pe===0?null:c}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,i,null),r++)}),r}It(e){const n=new Map;this.je.forEach((i,o)=>{const c=this._t(o);if(c){if(i.current&&Ll(c.target)){const l=new Ee(c.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Ct.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let s=Fe();this.Ye.forEach((i,o)=>{let c=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const r=new oc(e,n,this.Ze,this.He,s);return this.He=Wn(),this.Je=Fo(),this.Ye=Fo(),this.Ze=new tt(Le),r}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new zf,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ht(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ht(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new zf),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Fo(){return new tt(Ee.comparator)}function Wf(){return new tt(Ee.comparator)}const uS={asc:"ASCENDING",desc:"DESCENDING"},hS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dS={and:"AND",or:"OR"};class fS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ml(t,e){return t.useProto3Json||Za(e)?e:{value:e}}function Pa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pS(t,e){return Pa(t,e.toTimestamp())}function bn(t){return We(!!t,49232),Ce.fromTimestamp(function(n){const s=vs(n);return new ut(s.seconds,s.nanos)}(t))}function zu(t,e){return Fl(t,e).canonicalString()}function Fl(t,e){const n=function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Jg(t){const e=st.fromString(t);return We(ny(e),10190,{key:e.toString()}),e}function $l(t,e){return zu(t.databaseId,e.path)}function Zc(t,e){const n=Jg(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(Zg(n))}function Xg(t,e){return zu(t.databaseId,e)}function mS(t){const e=Jg(t);return e.length===4?st.emptyPath():Zg(e)}function Ul(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zg(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Kf(t,e,n){return{name:$l(t,e),fields:n.value.mapValue.fields}}function _S(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(We(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(We(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){const h=u.code===void 0?K.UNKNOWN:Kg(u.code);return new Te(h,u.message||"")}(o);n=new Qg(s,r,i,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Zc(t,s.document.name),i=bn(s.document.updateTime),o=s.document.createTime?bn(s.document.createTime):Ce.min(),c=new Zt({mapValue:{fields:s.document.fields}}),l=Ct.newFoundDocument(r,i,o,c),u=s.targetIds||[],h=s.removedTargetIds||[];n=new Zo(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Zc(t,s.document),i=s.readTime?bn(s.readTime):Ce.min(),o=Ct.newNoDocument(r,i),c=s.removedTargetIds||[];n=new Zo([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Zc(t,s.document),i=s.removedTargetIds||[];n=new Zo([],i,r,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new oS(r,i),c=s.targetId;n=new Gg(c,o)}}return n}function gS(t,e){let n;if(e instanceof ao)n={update:Kf(t,e.key,e.value)};else if(e instanceof Wg)n={delete:$l(t,e.key)};else if(e instanceof Ys)n={update:Kf(t,e.key,e.data),updateMask:AS(e.fieldMask)};else{if(!(e instanceof sS))return be(16599,{ft:e.type});n={verify:$l(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const c=o.transform;if(c instanceof Ca)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ra)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw be(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:pS(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:be(27497)}(t,e.precondition)),n}function yS(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?bn(r.updateTime):bn(i);return o.isEqual(Ce.min())&&(o=bn(i)),new eS(o,r.transformResults||[])}(n,e))):[]}function vS(t,e){return{documents:[Xg(t,e.path)]}}function TS(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xg(t,r);const i=function(u){if(u.length!==0)return ty(Cn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:hr(m.field),direction:IS(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Ml(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:r}}function ES(t){let e=mS(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){We(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const m=ey(d);return m instanceof Cn&&kg(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(b){return new Aa(dr(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(d){let m;return m=typeof d=="object"?d.value:d,Za(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,g=d.values||[];return new Sa(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const m=!d.before,g=d.values||[];return new Sa(g,m)}(n.endAt)),Ub(e,r,o,i,c,"F",l,u)}function wS(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ey(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=dr(n.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=dr(n.unaryFilter.field);return lt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dr(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dr(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(t):t.fieldFilter!==void 0?function(n){return lt.create(dr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(s=>ey(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(t):be(30097,{filter:t})}function IS(t){return uS[t]}function bS(t){return hS[t]}function SS(t){return dS[t]}function hr(t){return{fieldPath:t.canonicalString()}}function dr(t){return yt.fromServerFormat(t.fieldPath)}function ty(t){return t instanceof lt?function(n){if(n.op==="=="){if(xf(n.value))return{unaryFilter:{field:hr(n.field),op:"IS_NAN"}};if(Nf(n.value))return{unaryFilter:{field:hr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xf(n.value))return{unaryFilter:{field:hr(n.field),op:"IS_NOT_NAN"}};if(Nf(n.value))return{unaryFilter:{field:hr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hr(n.field),op:bS(n.op),value:n.value}}}(t):t instanceof Cn?function(n){const s=n.getFilters().map(r=>ty(r));return s.length===1?s[0]:{compositeFilter:{op:SS(n.op),filters:s}}}(t):be(54877,{filter:t})}function AS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ny(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,s,r,i=Ce.min(),o=Ce.min(),c=vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.wt=e}}function RS(t){const e=ES({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.Cn=new kS}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(ys.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class kS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ht(st.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ht(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sy=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(sy,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Nr(0)}static lr(){return new Nr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="LruGarbageCollector",OS=1048576;function Yf([t,e],[n,s]){const r=Le(t,n);return r===0?Le(e,s):r}class DS{constructor(e){this.Er=e,this.buffer=new ht(Yf),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Yf(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NS{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(Qf,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qr(n)?ue(Qf,"Ignoring IndexedDB error during garbage collection: ",n):await Hr(n)}await this.mr(3e5)})}}class xS{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Xa.le);const s=new DS(n);return this.gr.forEachTarget(e,r=>s.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>s.Rr(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Gf)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gf):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,r,i,o,c,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(s=d,c=Date.now(),this.removeTargets(e,s,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,s))).next(d=>(u=Date.now(),lr()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:d})))}}function LS(t,e){return new xS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Oi(s.mutation,r,an.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Fe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Fe()){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=yi();return i.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Fe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,s,r){let i=Wn();const o=ki(),c=function(){return ki()}();return n.forEach((l,u)=>{const h=s.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Ys)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Oi(h.mutation,u,h.mutation.getFieldMask(),ut.now())):o.set(u.key,an.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return c.set(u,new MS(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,n){const s=ki();let r=new tt((o,c)=>o-c),i=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=s.get(l)||an.empty();h=c.applyToLocalView(u,h),s.set(l,h);const d=(r.get(c.batchId)||Fe()).add(l);r=r.insert(c.batchId,d)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,h=l.value,d=Fg();h.forEach(m=>{if(!i.has(m)){const g=qg(n.get(m),s.get(m));g!==null&&d.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):j.resolve(Ls());let c=Bi,l=i;return o.next(u=>j.forEach(u,(h,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Fe())).next(h=>({batchId:c,changes:Mg(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let r=yi();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=yi();return this.indexManager.getCollectionParents(e,i).next(c=>j.forEach(c,l=>{const u=function(d,m){return new tc(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ct.newInvalidDocument(h)))});let c=yi();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Oi(h.mutation,u,an.empty(),ut.now()),sc(n,u)&&(c=c.insert(l,u))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return j.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:bn(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(r){return{name:r.name,query:RS(r.bundledQuery),readTime:bn(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.overlays=new tt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ls();return j.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const r=Ls(),i=n.length+1,o=new Ee(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new tt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=i.get(u.largestBatchId);h===null&&(h=Ls(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const c=Ls(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>c.set(u,h)),!(c.size()>=r)););return j.resolve(c)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(s.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new iS(n,s));let i=this.Qr.get(n);i===void 0&&(i=Fe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.$r=new ht(dt.Ur),this.Kr=new ht(dt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new dt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new dt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new st([])),s=new dt(n,e),r=new dt(n,e+1),i=[];return this.Kr.forEachInRange([s,r],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new st([])),s=new dt(n,e),r=new dt(n,e+1);let i=Fe();return this.Kr.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Le(e.Zr,n.Zr)}static Wr(e,n){return Le(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ht(dt.Ur)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rS(i,n,s,r);this.mutationQueue.push(o);for(const c of r)this.Xr=this.Xr.add(new dt(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ti(s),i=r<0?0:r;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Vu:this.nr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dt(n,0),r=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([s,r],o=>{const c=this.ei(o.Zr);i.push(c)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ht(Le);return n.forEach(r=>{const i=new dt(r,0),o=new dt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],c=>{s=s.add(c.Zr)})}),j.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Ee.isDocumentKey(i)||(i=i.child(""));const o=new dt(new Ee(i),0);let c=new ht(Le);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(c=c.add(l.Zr)),!0)},o),j.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(s=>{const r=this.ei(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){We(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return j.forEach(n.mutations,r=>{const i=new dt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new dt(n,0),r=this.Xr.firstAfterOrEqual(s);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.ii=e,this.docs=function(){return new tt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let s=Wn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ct.newInvalidDocument(r))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Wn();const o=n.path,c=new Ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||yb(gb(h),s)<=0||(r.has(h.key)||sc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,s,r){be(9500)}si(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new qS(this)}getSize(e){return j.resolve(this.size)}}class qS extends VS{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(e,r)):this.Br.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.persistence=e,this.oi=new Qs(n=>$u(n),Uu),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Wu,this.targetCount=0,this.ui=Nr.cr()}forEachTarget(e,n){return this.oi.forEach((s,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),j.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Nr(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Tr(n),j.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),j.waitFor(i).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.ci={},this.overlays={},this.li=new Xa(0),this.hi=!1,this.hi=!0,this.Pi=new BS,this.referenceDelegate=e(this),this.Ti=new zS(this),this.indexManager=new PS,this.remoteDocumentCache=function(r){return new HS(r)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new CS(n),this.Ei=new $S(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new US,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new jS(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const r=new WS(this.li.next());return this.referenceDelegate.di(),s(r).next(i=>this.referenceDelegate.Ai(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ri(e,n){return j.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class WS extends Tb{constructor(e){super(),this.currentSequenceNumber=e}}class Ku{constructor(e){this.persistence=e,this.Vi=new Wu,this.mi=null}static fi(e){return new Ku(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.gi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.gi,s=>{const r=Ee.fromPath(s);return this.pi(e,r).next(i=>{i||n.removeEntry(r,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return j.or([()=>j.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ka{constructor(e,n){this.persistence=e,this.yi=new Qs(s=>Ib(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=LS(this,n)}static fi(e,n){return new ka(e,n)}di(){}Ai(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return j.forEach(this.yi,(s,r)=>this.Dr(e,s,r).next(i=>i?j.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,o=>this.Dr(e,o,n).next(c=>{c||(s++,i.removeEntry(o,Ce.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yo(e.data.value)),n}Dr(e,n,s){return j.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.yi.get(n);return j.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.ds=s,this.As=r}static Rs(e,n){let s=Fe(),r=Fe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Gu(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return IE()?8:Eb(Dt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new KS;return this.Ss(e,n,o).next(c=>{if(i.result=c,this.fs)return this.Ds(e,n,o,c.size)})}).next(()=>i.result)}Ds(e,n,s,r){return s.documentReadCount<this.gs?(lr()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ur(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),j.resolve()):(lr()<=Me.DEBUG&&ue("QueryEngine","Query:",ur(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ps*r?(lr()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ur(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):j.resolve())}ws(e,n){if(Ff(n))return j.resolve(null);let s=In(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Vl(n,null,"F"),s=In(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Fe(...i);return this.ys.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,s).next(l=>{const u=this.vs(n,c);return this.Cs(n,u,o,l.readTime)?this.ws(e,Vl(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,s,r){return Ff(n)||r.isEqual(Ce.min())?j.resolve(null):this.ys.getDocuments(e,s).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,s,r)?j.resolve(null):(lr()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ur(n)),this.Fs(e,o,n,_b(r,Bi)).next(c=>c))})}vs(e,n){let s=new ht(Lg(e));return n.forEach((r,i)=>{sc(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return lr()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ur(n)),this.ys.getDocumentsMatchingQuery(e,n,ys.min(),s)}Fs(e,n,s,r){return this.ys.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="LocalStore",QS=3e8;class YS{constructor(e,n,s,r){this.persistence=e,this.Ms=n,this.serializer=r,this.xs=new tt(Le),this.Os=new Qs(i=>$u(i),Uu),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function JS(t,e,n,s){return new YS(t,e,n,s)}async function iy(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],c=[];let l=Fe();for(const u of r){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){c.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(s,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:c}))})})}function XS(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,l,u,h){const d=u.batch,m=d.keys();let g=j.resolve();return m.forEach(b=>{g=g.next(()=>h.getEntry(l,b)).next(R=>{const P=u.docVersions.get(b);We(P!==null,48541),R.version.compareTo(P)<0&&(d.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),h.addEntry(R)))})}),g.next(()=>c.mutationQueue.removeMutationBatch(l,d))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let l=Fe();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function oy(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function ZS(t,e){const n=Re(t),s=e.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const c=[];e.targetChanges.forEach((h,d)=>{const m=r.get(d);if(!m)return;c.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,d)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(d,g),function(R,P,F){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=QS?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,g,h)&&c.push(n.Ti.updateTargetData(i,g))});let l=Wn(),u=Fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),c.push(eA(i,o,e.documentUpdates).next(h=>{l=h.qs,u=h.Qs})),!s.isEqual(Ce.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(d=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,s));c.push(h)}return j.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=r,i))}function eA(t,e,n){let s=Fe(),r=Fe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Wn();return n.forEach((c,l)=>{const u=i.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):ue(Qu,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:r}})}function tA(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Vu),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nA(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Ti.getTargetData(s,e).next(i=>i?(r=i,j.resolve(r)):n.Ti.allocateTargetId(s).next(o=>(r=new ls(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.xs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Bl(t,e,n){const s=Re(t),r=s.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!qr(o))throw o;ue(Qu,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(r.target)}function Jf(t,e,n){const s=Re(t);let r=Ce.min(),i=Fe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=Re(l),m=d.Os.get(h);return m!==void 0?j.resolve(d.xs.get(m)):d.Ti.getTargetData(u,h)}(s,o,In(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,c.targetId).next(l=>{i=l})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?r:Ce.min(),n?i:Fe())).next(c=>(sA(s,Hb(e),c),{documents:c,$s:i})))}function sA(t,e,n){let s=t.Ns.get(e)||Ce.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Ns.set(e,s)}class Xf{constructor(){this.activeTargetIds=Qb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rA{constructor(){this.xo=new Xf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Xf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="ConnectivityMonitor";class ep{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(Zf,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(Zf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o=null;function jl(){return $o===null?$o=function(){return 268435456+Math.round(2147483648*Math.random())}():$o++,"0x"+$o.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="RestConnection",oA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aA{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${r}`,this.Go=this.databaseId.database===Ia?`project_id=${s}`:`project_id=${s}&database_id=${r}`}zo(e,n,s,r,i){const o=jl(),c=this.jo(e,n.toUriEncodedString());ue(el,`Sending RPC '${e}' ${o}:`,c,s);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,r,i);const{host:u}=new URL(c),h=$r(u);return this.Jo(e,c,l,s,h).then(d=>(ue(el,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Pr(el,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",s),d})}Yo(e,n,s,r,i,o){return this.zo(e,n,s,r,i)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}jo(e,n){const s=oA[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class lA extends aA{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=jl();return new Promise((c,l)=>{const u=new lg;u.setWithCredentials(!0),u.listenOnce(ug.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qo.NO_ERROR:const d=u.getResponseJson();ue(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),c(d);break;case Qo.TIMEOUT:ue(bt,`RPC '${e}' ${o} timed out`),l(new Te(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const m=u.getStatus();if(ue(bt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const R=function(F){const L=F.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(L)>=0?L:K.UNKNOWN}(b.status);l(new Te(R,b.message))}else l(new Te(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Te(K.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ue(bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);ue(bt,`RPC '${e}' ${o} sending request:`,r),u.send(n,"POST",h,s,15)})}I_(e,n,s){const r=jl(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fg(),c=dg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const h=i.join("");ue(bt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);this.E_(d);let m=!1,g=!1;const b=new cA({Zo:P=>{g?ue(bt,`Not sending because RPC '${e}' stream ${r} is closed:`,P):(m||(ue(bt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),m=!0),ue(bt,`RPC '${e}' stream ${r} sending:`,P),d.send(P))},Xo:()=>d.close()}),R=(P,F,L)=>{P.listen(F,$=>{try{L($)}catch(z){setTimeout(()=>{throw z},0)}})};return R(d,gi.EventType.OPEN,()=>{g||(ue(bt,`RPC '${e}' stream ${r} transport opened.`),b.__())}),R(d,gi.EventType.CLOSE,()=>{g||(g=!0,ue(bt,`RPC '${e}' stream ${r} transport closed`),b.u_(),this.d_(d))}),R(d,gi.EventType.ERROR,P=>{g||(g=!0,Pr(bt,`RPC '${e}' stream ${r} transport errored. Name:`,P.name,"Message:",P.message),b.u_(new Te(K.UNAVAILABLE,"The operation could not be completed")))}),R(d,gi.EventType.MESSAGE,P=>{var F;if(!g){const L=P.data[0];We(!!L,16349);const $=L,z=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(z){ue(bt,`RPC '${e}' stream ${r} received error:`,z);const he=z.status;let fe=function(w){const S=at[w];if(S!==void 0)return Kg(S)}(he),C=z.message;fe===void 0&&(fe=K.INTERNAL,C="Unknown error status: "+he+" with message "+z.message),g=!0,b.u_(new Te(fe,C)),d.close()}else ue(bt,`RPC '${e}' stream ${r} received:`,L),b.c_(L)}}),R(c,hg.STAT_EVENT,P=>{P.stat===kl.PROXY?ue(bt,`RPC '${e}' stream ${r} detected buffering proxy`):P.stat===kl.NOPROXY&&ue(bt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function tl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return new fS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,s=1e3,r=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-s);r>0&&ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="PersistentStream";class cy{constructor(e,n,s,r,i,o,c,l){this.xi=e,this.S_=s,this.D_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ay(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.v_===n&&this.z_(s,r)},s=>{e(()=>{const r=new Te(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(r)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{s(()=>this.j_(r))}),this.stream.onMessage(r=>{s(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ue(tp,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ue(tp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uA extends cy{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=_S(this.serializer,e),s=function(i){if(!("targetChange"in i))return Ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?bn(o.readTime):Ce.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Ul(this.serializer),n.addTarget=function(i,o){let c;const l=o.target;if(c=Ll(l)?{documents:vS(i,l)}:{query:TS(i,l).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Yg(i,o.resumeToken);const u=Ml(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Pa(i,o.snapshotVersion.toTimestamp());const u=Ml(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);const s=wS(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Ul(this.serializer),n.removeTarget=e,this.Q_(n)}}class hA extends cy{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=yS(e.writeResults,e.commitTime),s=bn(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Ul(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>gS(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class fA extends dA{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Te(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Fl(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(K.UNKNOWN,i.toString())})}Yo(e,n,s,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(e,Fl(n,s),r,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(K.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class pA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(zn(n),this.ua=!1):ue("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class mA{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{s.enqueueAndForget(async()=>{Js(this)&&(ue(qs,"Restarting streams for network reachability change."),await async function(l){const u=Re(l);u.da.add(4),await lo(u),u.Va.set("Unknown"),u.da.delete(4),await cc(u)}(this))})}),this.Va=new pA(s,r)}}async function cc(t){if(Js(t))for(const e of t.Aa)await e(!0)}async function lo(t){for(const e of t.Aa)await e(!1)}function ly(t,e){const n=Re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Zu(n)?Xu(n):zr(n).N_()&&Ju(n,e))}function Yu(t,e){const n=Re(t),s=zr(n);n.Ea.delete(e),s.N_()&&uy(n,e),n.Ea.size===0&&(s.N_()?s.k_():Js(n)&&n.Va.set("Unknown"))}function Ju(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zr(t).Z_(e)}function uy(t,e){t.ma.Ke(e),zr(t).X_(e)}function Xu(t){t.ma=new lS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),zr(t).start(),t.Va.ca()}function Zu(t){return Js(t)&&!zr(t).O_()&&t.Ea.size>0}function Js(t){return Re(t).da.size===0}function hy(t){t.ma=void 0}async function _A(t){t.Va.set("Online")}async function gA(t){t.Ea.forEach((e,n)=>{Ju(t,e)})}async function yA(t,e){hy(t),Zu(t)?(t.Va.Pa(e),Xu(t)):t.Va.set("Unknown")}async function vA(t,e,n){if(t.Va.set("Online"),e instanceof Qg&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const c of i.targetIds)r.Ea.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ea.delete(c),r.ma.removeTarget(c))}(t,e)}catch(s){ue(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oa(t,s)}else if(e instanceof Zo?t.ma.Xe(e):e instanceof Gg?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ce.min()))try{const s=await oy(t.localStore);n.compareTo(s)>=0&&await function(i,o){const c=i.ma.It(o);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ea.get(u);h&&i.Ea.set(u,h.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,u)=>{const h=i.Ea.get(l);if(!h)return;i.Ea.set(l,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),uy(i,l);const d=new ls(h.target,l,u,h.sequenceNumber);Ju(i,d)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){ue(qs,"Failed to raise snapshot:",s),await Oa(t,s)}}async function Oa(t,e,n){if(!qr(e))throw e;t.da.add(1),await lo(t),t.Va.set("Offline"),n||(n=()=>oy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(qs,"Retrying IndexedDB access"),await n(),t.da.delete(1),await cc(t)})}function dy(t,e){return e().catch(n=>Oa(t,n,e))}async function lc(t){const e=Re(t),n=ws(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Vu;for(;TA(e);)try{const r=await tA(e.localStore,s);if(r===null){e.Ia.length===0&&n.k_();break}s=r.batchId,EA(e,r)}catch(r){await Oa(e,r)}fy(e)&&py(e)}function TA(t){return Js(t)&&t.Ia.length<10}function EA(t,e){t.Ia.push(e);const n=ws(t);n.N_()&&n.ea&&n.ta(e.mutations)}function fy(t){return Js(t)&&!ws(t).O_()&&t.Ia.length>0}function py(t){ws(t).start()}async function wA(t){ws(t).ia()}async function IA(t){const e=ws(t);for(const n of t.Ia)e.ta(n.mutations)}async function bA(t,e,n){const s=t.Ia.shift(),r=Hu.from(s,e,n);await dy(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await lc(t)}async function SA(t,e){e&&ws(t).ea&&await async function(s,r){if(function(o){return aS(o)&&o!==K.ABORTED}(r.code)){const i=s.Ia.shift();ws(s).L_(),await dy(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await lc(s)}}(t,e),fy(t)&&py(t)}async function np(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ue(qs,"RemoteStore received new credentials");const s=Js(n);n.da.add(3),await lo(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await cc(n)}async function AA(t,e){const n=Re(t);e?(n.da.delete(2),await cc(n)):e||(n.da.add(2),await lo(n),n.Va.set("Unknown"))}function zr(t){return t.fa||(t.fa=function(n,s,r){const i=Re(n);return i.oa(),new uA(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{e_:_A.bind(null,t),n_:gA.bind(null,t),i_:yA.bind(null,t),Y_:vA.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Zu(t)?Xu(t):t.Va.set("Unknown")):(await t.fa.stop(),hy(t))})),t.fa}function ws(t){return t.ga||(t.ga=function(n,s,r){const i=Re(n);return i.oa(),new hA(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:wA.bind(null,t),i_:SA.bind(null,t),na:IA.bind(null,t),ra:bA.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await lc(t)):(await t.ga.stop(),t.Ia.length>0&&(ue(qs,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,c=new eh(e,n,o,r,i);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function th(t,e){if(zn("AsyncQueue",`${e}: ${t}`),qr(t))return new Te(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=yi(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Sr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.pa=new tt(Ee.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class xr{constructor(e,n,s,r,i,o,c,l,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new xr(e,n,Sr.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RA{constructor(){this.queries=rp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Re(n),i=r.queries;r.queries=rp(),i.forEach((o,c)=>{for(const l of c.Sa)l.onError(s)})})(this,new Te(K.ABORTED,"Firestore shutting down"))}}function rp(){return new Qs(t=>xg(t),nc)}async function PA(t,e){const n=Re(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Da()&&e.va()&&(s=2):(i=new CA,s=e.va()?0:1);try{switch(s){case 0:i.ba=await n.onListen(r,!0);break;case 1:i.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const c=th(o,`Initialization of query '${ur(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&nh(n)}async function kA(t,e){const n=Re(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.va()?0:1:!i.Da()&&e.va()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OA(t,e){const n=Re(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Ma(r)&&(s=!0);o.ba=r}}s&&nh(n)}function DA(t,e,n){const s=Re(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function nh(t){t.Ca.forEach(e=>{e.next()})}var Hl,ip;(ip=Hl||(Hl={})).xa="default",ip.Cache="cache";class NA{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new xr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=xr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Hl.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.key=e}}class _y{constructor(e){this.key=e}}class xA{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.Za=Lg(e),this.Xa=new Sr(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new sp,r=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,c=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const m=r.get(h),g=sc(this.query,d)?d:null,b=!!m&&this.mutatedKeys.has(m.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;m&&g?m.data.isEqual(g.data)?b!==R&&(s.track({type:3,doc:g}),P=!0):this.ru(m,g)||(s.track({type:2,doc:g}),P=!0,(l&&this.Za(g,l)>0||u&&this.Za(g,u)<0)&&(c=!0)):!m&&g?(s.track({type:0,doc:g}),P=!0):m&&!g&&(s.track({type:1,doc:m}),P=!0,(l||u)&&(c=!0)),P&&(g?(o=o.add(g),i=R?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{Xa:o,nu:s,Cs:c,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,d)=>function(g,b){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:P})}};return R(g)-R(b)}(h.type,d.type)||this.Za(h.doc,d.doc)),this.iu(s),r=r!=null&&r;const c=n&&!r?this.su():[],l=this.Ya.size===0&&this.current&&!r?1:0,u=l!==this.Ja;return this.Ja=l,o.length!==0||u?{snapshot:new xr(this.query,e.Xa,i,o,e.mutatedKeys,l===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new sp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new _y(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new my(s))}),n}au(e){this.Ha=e.$s,this.Ya=Fe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return xr.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const sh="SyncEngine";class LA{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class VA{constructor(e){this.key=e,this.cu=!1}}class MA{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Qs(c=>xg(c),nc),this.Pu=new Map,this.Tu=new Set,this.Iu=new tt(Ee.comparator),this.Eu=new Map,this.du=new Wu,this.Au={},this.Ru=new Map,this.Vu=Nr.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function FA(t,e,n=!0){const s=wy(t);let r;const i=s.hu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.uu()):r=await gy(s,e,n,!0),r}async function $A(t,e){const n=wy(t);await gy(n,e,!0,!1)}async function gy(t,e,n,s){const r=await nA(t.localStore,In(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return s&&(c=await UA(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&ly(t.remoteStore,r),c}async function UA(t,e,n,s,r){t.fu=(d,m,g)=>async function(R,P,F,L){let $=P.view.tu(F);$.Cs&&($=await Jf(R.localStore,P.query,!1).then(({documents:C})=>P.view.tu(C,$)));const z=L&&L.targetChanges.get(P.targetId),he=L&&L.targetMismatches.get(P.targetId)!=null,fe=P.view.applyChanges($,R.isPrimaryClient,z,he);return ap(R,P.targetId,fe.ou),fe.snapshot}(t,d,m,g);const i=await Jf(t.localStore,e,!0),o=new xA(e,i.$s),c=o.tu(i.documents),l=co.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=o.applyChanges(c,t.isPrimaryClient,l);ap(t,n,u.ou);const h=new LA(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function BA(t,e,n){const s=Re(t),r=s.hu.get(e),i=s.Pu.get(r.targetId);if(i.length>1)return s.Pu.set(r.targetId,i.filter(o=>!nc(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Bl(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Yu(s.remoteStore,r.targetId),ql(s,r.targetId)}).catch(Hr)):(ql(s,r.targetId),await Bl(s.localStore,r.targetId,!0))}async function jA(t,e){const n=Re(t),s=n.hu.get(e),r=n.Pu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yu(n.remoteStore,s.targetId))}async function HA(t,e,n){const s=YA(t);try{const r=await function(o,c){const l=Re(o),u=ut.now(),h=c.reduce((g,b)=>g.add(b.key),Fe());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Wn(),R=Fe();return l.Bs.getEntries(g,h).next(P=>{b=P,b.forEach((F,L)=>{L.isValidDocument()||(R=R.add(F))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(P=>{d=P;const F=[];for(const L of c){const $=nS(L,d.get(L.key).overlayedDocument);$!=null&&F.push(new Ys(L.key,$,Cg($.value.mapValue),Un.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,F,c)}).next(P=>{m=P;const F=P.applyToLocalDocumentSet(d,R);return l.documentOverlayCache.saveOverlays(g,P.batchId,F)})}).then(()=>({batchId:m.batchId,changes:Mg(d)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,c,l){let u=o.Au[o.currentUser.toKey()];u||(u=new tt(Le)),u=u.insert(c,l),o.Au[o.currentUser.toKey()]=u}(s,r.batchId,n),await uo(s,r.changes),await lc(s.remoteStore)}catch(r){const i=th(r,"Failed to persist write");n.reject(i)}}async function yy(t,e){const n=Re(t);try{const s=await ZS(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Eu.get(i);o&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.cu=!0:r.modifiedDocuments.size>0?We(o.cu,14607):r.removedDocuments.size>0&&(We(o.cu,42227),o.cu=!1))}),await uo(n,s,e)}catch(s){await Hr(s)}}function op(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.hu.forEach((i,o)=>{const c=o.view.Fa(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){const l=Re(o);l.onlineState=c;let u=!1;l.queries.forEach((h,d)=>{for(const m of d.Sa)m.Fa(c)&&(u=!0)}),u&&nh(l)}(s.eventManager,e),r.length&&s.lu.Y_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qA(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Eu.get(e),i=r&&r.key;if(i){let o=new tt(Ee.comparator);o=o.insert(i,Ct.newNoDocument(i,Ce.min()));const c=Fe().add(i),l=new oc(Ce.min(),new Map,new tt(Le),o,c);await yy(s,l),s.Iu=s.Iu.remove(i),s.Eu.delete(e),rh(s)}else await Bl(s.localStore,e,!1).then(()=>ql(s,e,n)).catch(Hr)}async function zA(t,e){const n=Re(t),s=e.batch.batchId;try{const r=await XS(n.localStore,e);Ty(n,s,null),vy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uo(n,r)}catch(r){await Hr(r)}}async function WA(t,e,n){const s=Re(t);try{const r=await function(o,c){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,c).next(d=>(We(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(s.localStore,e);Ty(s,e,n),vy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uo(s,r)}catch(r){await Hr(r)}}function vy(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Ty(t,e,n){const s=Re(t);let r=s.Au[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Au[s.currentUser.toKey()]=r}}function ql(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||Ey(t,s)})}function Ey(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Yu(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),rh(t))}function ap(t,e,n){for(const s of n)s instanceof my?(t.du.addReference(s.key,e),KA(t,s)):s instanceof _y?(ue(sh,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||Ey(t,s.key)):be(19791,{pu:s})}function KA(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(ue(sh,"New document in limbo: "+n),t.Tu.add(s),rh(t))}function rh(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ee(st.fromString(e)),s=t.Vu.next();t.Eu.set(s,new VA(n)),t.Iu=t.Iu.insert(n,s),ly(t.remoteStore,new ls(In(Bu(n.path)),s,"TargetPurposeLimboResolution",Xa.le))}}async function uo(t,e,n){const s=Re(t),r=[],i=[],o=[];s.hu.isEmpty()||(s.hu.forEach((c,l)=>{o.push(s.fu(l,e,n).then(u=>{var h;if((u||n)&&s.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;s.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){r.push(u);const d=Gu.Rs(l.targetId,u);i.push(d)}}))}),await Promise.all(o),s.lu.Y_(r),await async function(l,u){const h=Re(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(u,m=>j.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>j.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!qr(d))throw d;ue(Qu,"Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const g=h.xs.get(m),b=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(m,R)}}}(s.localStore,i))}async function GA(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ue(sh,"User change. New user:",e.toKey());const s=await iy(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(c=>{c.forEach(l=>{l.reject(new Te(K.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uo(n,s.ks)}}function QA(t,e){const n=Re(t),s=n.Eu.get(e);if(s&&s.cu)return Fe().add(s.key);{let r=Fe();const i=n.Pu.get(e);if(!i)return r;for(const o of i){const c=n.hu.get(o);r=r.unionWith(c.view.eu)}return r}}function wy(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qA.bind(null,e),e.lu.Y_=OA.bind(null,e.eventManager),e.lu.gu=DA.bind(null,e.eventManager),e}function YA(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WA.bind(null,e),e}class Da{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return JS(this.persistence,new GS,e.initialUser,this.serializer)}Su(e){return new ry(Ku.fi,this.serializer)}bu(e){return new rA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Da.provider={build:()=>new Da};class JA extends Da{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){We(this.persistence.referenceDelegate instanceof ka,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NS(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new ry(s=>ka.fi(s,n),this.serializer)}}class zl{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>op(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GA.bind(null,this.syncEngine),await AA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RA}()}createDatastore(e){const n=ac(e.databaseInfo.databaseId),s=function(i){return new lA(i)}(e.databaseInfo);return function(i,o,c,l){return new fA(i,o,c,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,c){return new mA(s,r,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>op(this.syncEngine,n,0),function(){return ep.C()?new ep:new iA}())}createSyncEngine(e,n){return function(r,i,o,c,l,u,h){const d=new MA(r,i,o,c,l,u);return h&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=Re(r);ue(qs,"RemoteStore shutting down."),i.da.add(5),await lo(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zl.provider={build:()=>new zl};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class ZA{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=St.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{ue(Is,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ue(Is,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=th(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function nl(t,e){t.asyncQueue.verifyOperationInProgress(),ue(Is,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await iy(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eC(t);ue(Is,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>np(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>np(e.remoteStore,r)),t._onlineComponents=e}async function eC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(Is,"Using user provided OfflineComponentProvider");try{await nl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===K.FAILED_PRECONDITION||r.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Pr("Error using user provided cache. Falling back to memory cache: "+n),await nl(t,new Da)}}else ue(Is,"Using default OfflineComponentProvider"),await nl(t,new JA(void 0));return t._offlineComponents}async function Iy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(Is,"Using user provided OnlineComponentProvider"),await cp(t,t._uninitializedComponentsProvider._online)):(ue(Is,"Using default OnlineComponentProvider"),await cp(t,new zl))),t._onlineComponents}function tC(t){return Iy(t).then(e=>e.syncEngine)}async function nC(t){const e=await Iy(t),n=e.eventManager;return n.onListen=FA.bind(null,e.syncEngine),n.onUnlisten=BA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$A.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jA.bind(null,e.syncEngine),n}function sC(t,e,n={}){const s=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,l,u){const h=new XA({next:m=>{h.xu(),o.enqueueAndForget(()=>kA(i,d));const g=m.docs.has(c);!g&&m.fromCache?u.reject(new Te(K.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new Te(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new NA(Bu(c.path),h,{includeMetadataChanges:!0,Qa:!0});return PA(i,d)}(await nC(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e,n){if(!n)throw new Te(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iC(t,e,n,s){if(e===!0&&s===!0)throw new Te(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function up(t){if(!Ee.isDocumentKey(t))throw new Te(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(t);throw new Te(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="firestore.googleapis.com",hp=!0;class dp{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sy,this.ssl=hp}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OS)throw new Te(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=by((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ab;switch(s.type){case"firstParty":return new hb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Te(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=lp.get(n);s&&(ue("ComponentProvider","Removing Datastore"),lp.delete(n),s.terminate())}(this),Promise.resolve()}}function oC(t,e,n,s={}){var r;t=Ki(t,oh);const i=$r(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(v_(`https://${l}`),T_("Firestore",!0)),o.host!==Sy&&o.host!==l&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:s});if(!$s(u,c)&&(t._setSettings(u),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=St.MOCK_USER;else{h=pE(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new Te(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new St(m)}t._authCredentials=new cb(new mg(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ah(this.firestore,e,this._query)}}class tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Gi extends ah{constructor(e,n,s){super(e,n,Bu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Ee(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Wl(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=gg.newId()),rC("doc","path",e),t instanceof oh){const s=st.fromString(e,...n);return up(s),new tn(t,null,new Ee(s))}{if(!(t instanceof tn||t instanceof Gi))throw new Te(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return up(s),new tn(t.firestore,t instanceof Gi?t.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="AsyncQueue";class pp{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ay(this,"async_queue_retry"),this.rc=()=>{const s=tl();s&&ue(fp,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=tl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=tl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ms;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!qr(e))throw e;ue(fp,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,zn("INTERNAL UNHANDLED ERROR: ",mp(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const r=eh.createAndSchedule(this,e,n,s,i=>this.uc(i));return this.Zu.push(r),r}oc(){this.Xu&&be(47125,{cc:mp(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function mp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ch extends oh{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new pp,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pp(e),this._firestoreClient=void 0,await e}}}function aC(t,e){const n=typeof t=="object"?t:b_(),s=typeof t=="string"?t:Ia,r=Su(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=dE("firestore");i&&oC(r,...i)}return r}function Ay(t){if(t._terminated)throw new Te(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cC(t),t._firestoreClient}function cC(t){var e,n,s;const r=t._freezeSettings(),i=function(c,l,u,h){return new Ab(c,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,by(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new ZA(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(vt.fromBase64String(e))}catch(n){throw new Te(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lr(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^__.*__$/;class uC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new ao(e,this.data,n,this.fieldTransforms)}}function Ry(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ic:t})}}class dh{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new dh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:s,Rc:!1});return r.Vc(e),r}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:s,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Na(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Ry(this.Ic)&&lC.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class hC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ac(e)}bc(e,n,s,r=!1){return new dh({Ic:e,methodName:n,wc:s,path:yt.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dC(t){const e=t._freezeSettings(),n=ac(t._databaseId);return new hC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fC(t,e,n,s,r,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,r);Dy("Data must be an object, but it was:",o,s);const c=ky(s,o);let l,u;if(i.merge)l=new an(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const m=pC(e,d,n);if(!o.contains(m))throw new Te(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_C(h,m)||h.push(m)}l=new an(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new uC(new Zt(c),l,u)}function Py(t,e){if(Oy(t=Vt(t)))return Dy("Unsupported field value:",e,t),ky(t,e);if(t instanceof Cy)return function(s,r){if(!Ry(r.Ic))throw r.gc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const c of s){let l=Py(c,r.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Yb(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=ut.fromDate(s);return{timestampValue:Pa(r.serializer,i)}}if(s instanceof ut){const i=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pa(r.serializer,i)}}if(s instanceof uh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lr)return{bytesValue:Yg(r.serializer,s._byteString)};if(s instanceof tn){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zu(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof hh)return function(o,c){return{mapValue:{fields:{[Sg]:{stringValue:Ag},[ba]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.gc("VectorValues must only contain numeric values.");return ju(c.serializer,u)})}}}}}}(s,r);throw r.gc(`Unsupported field value: ${ih(s)}`)}(t,e)}function ky(t,e){const n={};return vg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(s,r)=>{const i=Py(r,e.Ac(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Oy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof uh||t instanceof Lr||t instanceof tn||t instanceof Cy||t instanceof hh)}function Dy(t,e,n){if(!Oy(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=ih(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function pC(t,e,n){if((e=Vt(e))instanceof lh)return e._internalPath;if(typeof e=="string")return Ny(t,e);throw Na("Field path arguments must be of type string or ",t,!1,void 0,n)}const mC=new RegExp("[~\\*/\\[\\]]");function Ny(t,e,n){if(e.search(mC)>=0)throw Na(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lh(...e.split("."))._internalPath}catch{throw Na(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Na(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new Te(K.INVALID_ARGUMENT,c+t+l)}function _C(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gC extends xy{data(){return super.data()}}function Ly(t,e){return typeof e=="string"?Ny(t,e):e instanceof lh?e._internalPath:e._delegate._internalPath}class yC{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gs(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var n,s,r;const i=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[ba].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>it(o.doubleValue));return new hh(i)}convertGeoPoint(e){return new uh(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ec(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ji(e));default:return null}}convertTimestamp(e){const n=vs(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);We(ny(s),9688,{name:e});const r=new Hi(s.get(1),s.get(3)),i=new Ee(s.popFirst(5));return r.isEqual(n)||zn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vy extends xy{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new EC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ly("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class EC extends Vy{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){t=Ki(t,tn);const e=Ki(t.firestore,ch);return sC(Ay(e),t._key).then(n=>SC(e,t,n))}class wC extends yC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function IC(t,e,n){t=Ki(t,tn);const s=Ki(t.firestore,ch),r=vC(t.converter,e);return bC(s,[fC(dC(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Un.none())])}function bC(t,e){return function(s,r){const i=new ms;return s.asyncQueue.enqueueAndForget(async()=>HA(await tC(s),r,i)),i.promise}(Ay(t),e)}function SC(t,e,n){const s=n.docs.get(e._key),r=new wC(t);return new Vy(t,r,e._key,s,new TC(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){jr=r})(Ur),Cr(new Us("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),c=new ch(new lb(s.getProvider("auth-internal")),new db(o,s.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Te(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(u.options.projectId,h)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),fs(Ef,wf,e),fs(Ef,wf,"esm2017")})();var AC="firebase",CC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(AC,CC,"app");const RC={apiKey:"AIzaSyCZQH0zLvrX1d46Y6vb0YxCiB9BpMnoo-o",authDomain:"coin-actions.firebaseapp.com",projectId:"coin-actions",storageBucket:"coin-actions.firebasestorage.app",messagingSenderId:"402548375660",appId:"1:402548375660:web:ea64a6af555f1425ce1849",measurementId:"G-EHJ7S33DP6"},My=I_(RC),xs=ib(My),Kl=aC(My);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const fr=typeof document<"u";function Fy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function PC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Fy(t.default)}const He=Object.assign;function sl(t,e){const n={};for(const s in e){const r=e[s];n[s]=dn(r)?r.map(t):t(r)}return n}const Di=()=>{},dn=Array.isArray,$y=/#/g,kC=/&/g,OC=/\//g,DC=/=/g,NC=/\?/g,Uy=/\+/g,xC=/%5B/g,LC=/%5D/g,By=/%5E/g,VC=/%60/g,jy=/%7B/g,MC=/%7C/g,Hy=/%7D/g,FC=/%20/g;function fh(t){return encodeURI(""+t).replace(MC,"|").replace(xC,"[").replace(LC,"]")}function $C(t){return fh(t).replace(jy,"{").replace(Hy,"}").replace(By,"^")}function Gl(t){return fh(t).replace(Uy,"%2B").replace(FC,"+").replace($y,"%23").replace(kC,"%26").replace(VC,"`").replace(jy,"{").replace(Hy,"}").replace(By,"^")}function UC(t){return Gl(t).replace(DC,"%3D")}function BC(t){return fh(t).replace($y,"%23").replace(NC,"%3F")}function jC(t){return t==null?"":BC(t).replace(OC,"%2F")}function Qi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const HC=/\/$/,qC=t=>t.replace(HC,"");function rl(t,e,n="/"){let s,r={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,c>-1?c:e.length),r=t(i)),c>-1&&(s=s||e.slice(0,c),o=e.slice(c,e.length)),s=GC(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Qi(o)}}function zC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function gp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function WC(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Vr(e.matched[s],n.matched[r])&&qy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Vr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function qy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!KC(t[n],e[n]))return!1;return!0}function KC(t,e){return dn(t)?yp(t,e):dn(e)?yp(e,t):t===e}function yp(t,e){return dn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function GC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,c;for(o=0;o<s.length;o++)if(c=s[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Yi;(function(t){t.pop="pop",t.push="push"})(Yi||(Yi={}));var Ni;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ni||(Ni={}));function QC(t){if(!t)if(fr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qC(t)}const YC=/^[^#]+#/;function JC(t,e){return t.replace(YC,"#")+e}function XC(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const uc=()=>({left:window.scrollX,top:window.scrollY});function ZC(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=XC(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vp(t,e){return(history.state?history.state.position-e:-1)+t}const Ql=new Map;function eR(t,e){Ql.set(t,e)}function tR(t){const e=Ql.get(t);return Ql.delete(t),e}let nR=()=>location.protocol+"//"+location.host;function zy(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let c=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(c);return l[0]!=="/"&&(l="/"+l),gp(l,"")}return gp(n,t)+s+r}function sR(t,e,n,s){let r=[],i=[],o=null;const c=({state:m})=>{const g=zy(t,location),b=n.value,R=e.value;let P=0;if(m){if(n.value=g,e.value=m,o&&o===b){o=null;return}P=R?m.position-R.position:0}else s(g);r.forEach(F=>{F(n.value,b,{delta:P,type:Yi.pop,direction:P?P>0?Ni.forward:Ni.back:Ni.unknown})})};function l(){o=n.value}function u(m){r.push(m);const g=()=>{const b=r.indexOf(m);b>-1&&r.splice(b,1)};return i.push(g),g}function h(){const{history:m}=window;m.state&&m.replaceState(He({},m.state,{scroll:uc()}),"")}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Tp(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?uc():null}}function rR(t){const{history:e,location:n}=window,s={value:zy(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const d=t.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:nR()+t+l;try{e[h?"replaceState":"pushState"](u,"",m),r.value=u}catch(g){console.error(g),n[h?"replace":"assign"](m)}}function o(l,u){const h=He({},e.state,Tp(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,h,!0),s.value=l}function c(l,u){const h=He({},r.value,e.state,{forward:l,scroll:uc()});i(h.current,h,!0);const d=He({},Tp(s.value,l,null),{position:h.position+1},u);i(l,d,!1),s.value=l}return{location:s,state:r,push:c,replace:o}}function iR(t){t=QC(t);const e=rR(t),n=sR(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=He({location:"",base:t,go:s,createHref:JC.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function oR(t){return typeof t=="string"||t&&typeof t=="object"}function Wy(t){return typeof t=="string"||typeof t=="symbol"}const Ky=Symbol("");var Ep;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ep||(Ep={}));function Mr(t,e){return He(new Error,{type:t,[Ky]:!0},e)}function Dn(t,e){return t instanceof Error&&Ky in t&&(e==null||!!(t.type&e))}const wp="[^/]+?",aR={sensitive:!1,strict:!1,start:!0,end:!0},cR=/[.+*?^${}()[\]/\\]/g;function lR(t,e){const n=He({},aR,e),s=[];let r=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const m=u[d];let g=40+(n.sensitive?.25:0);if(m.type===0)d||(r+="/"),r+=m.value.replace(cR,"\\$&"),g+=40;else if(m.type===1){const{value:b,repeatable:R,optional:P,regexp:F}=m;i.push({name:b,repeatable:R,optional:P});const L=F||wp;if(L!==wp){g+=10;try{new RegExp(`(${L})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${b}" (${L}): `+z.message)}}let $=R?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;d||($=P&&u.length<2?`(?:/${$})`:"/"+$),P&&($+="?"),r+=$,g+=20,P&&(g+=-8),R&&(g+=-20),L===".*"&&(g+=-50)}h.push(g)}s.push(h)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function c(u){const h=u.match(o),d={};if(!h)return null;for(let m=1;m<h.length;m++){const g=h[m]||"",b=i[m-1];d[b.name]=g&&b.repeatable?g.split("/"):g}return d}function l(u){let h="",d=!1;for(const m of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of m)if(g.type===0)h+=g.value;else if(g.type===1){const{value:b,repeatable:R,optional:P}=g,F=b in u?u[b]:"";if(dn(F)&&!R)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const L=dn(F)?F.join("/"):F;if(!L)if(P)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${b}"`);h+=L}}return h||"/"}return{re:o,score:s,keys:i,parse:c,stringify:l}}function uR(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Gy(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=uR(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Ip(s))return 1;if(Ip(r))return-1}return r.length-s.length}function Ip(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hR={type:0,value:""},dR=/[a-zA-Z0-9_]/;function fR(t){if(!t)return[[]];if(t==="/")return[[hR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let c=0,l,u="",h="";function d(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):m();break;case 4:m(),n=s;break;case 1:l==="("?n=2:dR.test(l)?m():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function pR(t,e,n){const s=lR(fR(t.path),n),r=He(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function mR(t,e){const n=[],s=new Map;e=Cp({strict:!1,end:!0,sensitive:!1},e);function r(d){return s.get(d)}function i(d,m,g){const b=!g,R=Sp(d);R.aliasOf=g&&g.record;const P=Cp(e,d),F=[R];if("alias"in d){const z=typeof d.alias=="string"?[d.alias]:d.alias;for(const he of z)F.push(Sp(He({},R,{components:g?g.record.components:R.components,path:he,aliasOf:g?g.record:R})))}let L,$;for(const z of F){const{path:he}=z;if(m&&he[0]!=="/"){const fe=m.record.path,C=fe[fe.length-1]==="/"?"":"/";z.path=m.record.path+(he&&C+he)}if(L=pR(z,m,P),g?g.alias.push(L):($=$||L,$!==L&&$.alias.push(L),b&&d.name&&!Ap(L)&&o(d.name)),Qy(L)&&l(L),R.children){const fe=R.children;for(let C=0;C<fe.length;C++)i(fe[C],L,g&&g.children[C])}g=g||L}return $?()=>{o($)}:Di}function o(d){if(Wy(d)){const m=s.get(d);m&&(s.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function c(){return n}function l(d){const m=yR(d,n);n.splice(m,0,d),d.record.name&&!Ap(d)&&s.set(d.record.name,d)}function u(d,m){let g,b={},R,P;if("name"in d&&d.name){if(g=s.get(d.name),!g)throw Mr(1,{location:d});P=g.record.name,b=He(bp(m.params,g.keys.filter($=>!$.optional).concat(g.parent?g.parent.keys.filter($=>$.optional):[]).map($=>$.name)),d.params&&bp(d.params,g.keys.map($=>$.name))),R=g.stringify(b)}else if(d.path!=null)R=d.path,g=n.find($=>$.re.test(R)),g&&(b=g.parse(R),P=g.record.name);else{if(g=m.name?s.get(m.name):n.find($=>$.re.test(m.path)),!g)throw Mr(1,{location:d,currentLocation:m});P=g.record.name,b=He({},m.params,d.params),R=g.stringify(b)}const F=[];let L=g;for(;L;)F.unshift(L.record),L=L.parent;return{name:P,path:R,params:b,matched:F,meta:gR(F)}}t.forEach(d=>i(d));function h(){n.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:c,getRecordMatcher:r}}function bp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Sp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_R(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _R(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Ap(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gR(t){return t.reduce((e,n)=>He(e,n.meta),{})}function Cp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function yR(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Gy(t,e[i])<0?s=i:n=i+1}const r=vR(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function vR(t){let e=t;for(;e=e.parent;)if(Qy(e)&&Gy(t,e)===0)return e}function Qy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function TR(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Uy," "),o=i.indexOf("="),c=Qi(o<0?i:i.slice(0,o)),l=o<0?null:Qi(i.slice(o+1));if(c in e){let u=e[c];dn(u)||(u=e[c]=[u]),u.push(l)}else e[c]=l}return e}function Rp(t){let e="";for(let n in t){const s=t[n];if(n=UC(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(dn(s)?s.map(i=>i&&Gl(i)):[s&&Gl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function ER(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=dn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const wR=Symbol(""),Pp=Symbol(""),ph=Symbol(""),Yy=Symbol(""),Yl=Symbol("");function di(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function rs(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((c,l)=>{const u=m=>{m===!1?l(Mr(4,{from:n,to:e})):m instanceof Error?l(m):oR(m)?l(Mr(2,{from:e,to:m})):(o&&s.enterCallbacks[r]===o&&typeof m=="function"&&o.push(m),c())},h=i(()=>t.call(s&&s.instances[r],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(m=>l(m))})}function il(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(Fy(l)){const h=(l.__vccOpts||l)[e];h&&i.push(rs(h,n,s,o,c,r))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const d=PC(h)?h.default:h;o.mods[c]=h,o.components[c]=d;const g=(d.__vccOpts||d)[e];return g&&rs(g,n,s,o,c,r)()}))}}return i}function kp(t){const e=Fn(ph),n=Fn(Yy),s=Jt(()=>{const l=yr(t.to);return e.resolve(l)}),r=Jt(()=>{const{matched:l}=s.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const m=d.findIndex(Vr.bind(null,h));if(m>-1)return m;const g=Op(l[u-2]);return u>1&&Op(h)===g&&d[d.length-1].path!==g?d.findIndex(Vr.bind(null,l[u-2])):m}),i=Jt(()=>r.value>-1&&CR(n.params,s.value.params)),o=Jt(()=>r.value>-1&&r.value===n.matched.length-1&&qy(n.params,s.value.params));function c(l={}){if(AR(l)){const u=e[yr(t.replace)?"replace":"push"](yr(t.to)).catch(Di);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:Jt(()=>s.value.href),isActive:i,isExactActive:o,navigate:c}}function IR(t){return t.length===1?t[0]:t}const bR=Rm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:kp,setup(t,{slots:e}){const n=Xi(kp(t)),{options:s}=Fn(ph),r=Jt(()=>({[Dp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Dp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&IR(e.default(n));return t.custom?i:e_("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),SR=bR;function AR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CR(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!dn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Op(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dp=(t,e,n)=>t??e??n,RR=Rm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Fn(Yl),r=Jt(()=>t.route||s.value),i=Fn(Pp,0),o=Jt(()=>{let u=yr(i);const{matched:h}=r.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),c=Jt(()=>r.value.matched[o.value]);Bo(Pp,Jt(()=>o.value+1)),Bo(wR,c),Bo(Yl,r);const l=Av();return Er(()=>[l.value,c.value,t.name],([u,h,d],[m,g,b])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===m&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!Vr(h,g)||!m)&&(h.enterCallbacks[d]||[]).forEach(R=>R(u))},{flush:"post"}),()=>{const u=r.value,h=t.name,d=c.value,m=d&&d.components[h];if(!m)return Np(n.default,{Component:m,route:u});const g=d.props[h],b=g?g===!0?u.params:typeof g=="function"?g(u):g:null,P=e_(m,He({},b,e,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return Np(n.default,{Component:P,route:u})||P}}});function Np(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const PR=RR;function kR(t){const e=mR(t.routes,t),n=t.parseQuery||TR,s=t.stringifyQuery||Rp,r=t.history,i=di(),o=di(),c=di(),l=Cv(ts);let u=ts;fr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=sl.bind(null,V=>""+V),d=sl.bind(null,jC),m=sl.bind(null,Qi);function g(V,ce){let Z,ie;return Wy(V)?(Z=e.getRecordMatcher(V),ie=ce):ie=V,e.addRoute(ie,Z)}function b(V){const ce=e.getRecordMatcher(V);ce&&e.removeRoute(ce)}function R(){return e.getRoutes().map(V=>V.record)}function P(V){return!!e.getRecordMatcher(V)}function F(V,ce){if(ce=He({},ce||l.value),typeof V=="string"){const O=rl(n,V,ce.path),U=e.resolve({path:O.path},ce),H=r.createHref(O.fullPath);return He(O,U,{params:m(U.params),hash:Qi(O.hash),redirectedFrom:void 0,href:H})}let Z;if(V.path!=null)Z=He({},V,{path:rl(n,V.path,ce.path).path});else{const O=He({},V.params);for(const U in O)O[U]==null&&delete O[U];Z=He({},V,{params:d(O)}),ce.params=d(ce.params)}const ie=e.resolve(Z,ce),Ne=V.hash||"";ie.params=h(m(ie.params));const T=zC(s,He({},V,{hash:$C(Ne),path:ie.path})),E=r.createHref(T);return He({fullPath:T,hash:Ne,query:s===Rp?ER(V.query):V.query||{}},ie,{redirectedFrom:void 0,href:E})}function L(V){return typeof V=="string"?rl(n,V,l.value.path):He({},V)}function $(V,ce){if(u!==V)return Mr(8,{from:ce,to:V})}function z(V){return C(V)}function he(V){return z(He(L(V),{replace:!0}))}function fe(V){const ce=V.matched[V.matched.length-1];if(ce&&ce.redirect){const{redirect:Z}=ce;let ie=typeof Z=="function"?Z(V):Z;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=L(ie):{path:ie},ie.params={}),He({query:V.query,hash:V.hash,params:ie.path!=null?{}:V.params},ie)}}function C(V,ce){const Z=u=F(V),ie=l.value,Ne=V.state,T=V.force,E=V.replace===!0,O=fe(Z);if(O)return C(He(L(O),{state:typeof O=="object"?He({},Ne,O.state):Ne,force:T,replace:E}),ce||Z);const U=Z;U.redirectedFrom=ce;let H;return!T&&WC(s,ie,Z)&&(H=Mr(16,{to:U,from:ie}),xe(ie,ie,!0,!1)),(H?Promise.resolve(H):S(U,ie)).catch(B=>Dn(B)?Dn(B,2)?B:ge(B):q(B,U,ie)).then(B=>{if(B){if(Dn(B,2))return C(He({replace:E},L(B.to),{state:typeof B.to=="object"?He({},Ne,B.to.state):Ne,force:T}),ce||U)}else B=k(U,ie,!0,E,Ne);return A(U,ie,B),B})}function v(V,ce){const Z=$(V,ce);return Z?Promise.reject(Z):Promise.resolve()}function w(V){const ce=Je.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(V):V()}function S(V,ce){let Z;const[ie,Ne,T]=OR(V,ce);Z=il(ie.reverse(),"beforeRouteLeave",V,ce);for(const O of ie)O.leaveGuards.forEach(U=>{Z.push(rs(U,V,ce))});const E=v.bind(null,V,ce);return Z.push(E),rt(Z).then(()=>{Z=[];for(const O of i.list())Z.push(rs(O,V,ce));return Z.push(E),rt(Z)}).then(()=>{Z=il(Ne,"beforeRouteUpdate",V,ce);for(const O of Ne)O.updateGuards.forEach(U=>{Z.push(rs(U,V,ce))});return Z.push(E),rt(Z)}).then(()=>{Z=[];for(const O of T)if(O.beforeEnter)if(dn(O.beforeEnter))for(const U of O.beforeEnter)Z.push(rs(U,V,ce));else Z.push(rs(O.beforeEnter,V,ce));return Z.push(E),rt(Z)}).then(()=>(V.matched.forEach(O=>O.enterCallbacks={}),Z=il(T,"beforeRouteEnter",V,ce,w),Z.push(E),rt(Z))).then(()=>{Z=[];for(const O of o.list())Z.push(rs(O,V,ce));return Z.push(E),rt(Z)}).catch(O=>Dn(O,8)?O:Promise.reject(O))}function A(V,ce,Z){c.list().forEach(ie=>w(()=>ie(V,ce,Z)))}function k(V,ce,Z,ie,Ne){const T=$(V,ce);if(T)return T;const E=ce===ts,O=fr?history.state:{};Z&&(ie||E?r.replace(V.fullPath,He({scroll:E&&O&&O.scroll},Ne)):r.push(V.fullPath,Ne)),l.value=V,xe(V,ce,Z,E),ge()}let I;function de(){I||(I=r.listen((V,ce,Z)=>{if(!et.listening)return;const ie=F(V),Ne=fe(ie);if(Ne){C(He(Ne,{replace:!0,force:!0}),ie).catch(Di);return}u=ie;const T=l.value;fr&&eR(vp(T.fullPath,Z.delta),uc()),S(ie,T).catch(E=>Dn(E,12)?E:Dn(E,2)?(C(He(L(E.to),{force:!0}),ie).then(O=>{Dn(O,20)&&!Z.delta&&Z.type===Yi.pop&&r.go(-1,!1)}).catch(Di),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),q(E,ie,T))).then(E=>{E=E||k(ie,T,!1),E&&(Z.delta&&!Dn(E,8)?r.go(-Z.delta,!1):Z.type===Yi.pop&&Dn(E,20)&&r.go(-1,!1)),A(ie,T,E)}).catch(Di)}))}let re=di(),G=di(),Q;function q(V,ce,Z){ge(V);const ie=G.list();return ie.length?ie.forEach(Ne=>Ne(V,ce,Z)):console.error(V),Promise.reject(V)}function me(){return Q&&l.value!==ts?Promise.resolve():new Promise((V,ce)=>{re.add([V,ce])})}function ge(V){return Q||(Q=!V,de(),re.list().forEach(([ce,Z])=>V?Z(V):ce()),re.reset()),V}function xe(V,ce,Z,ie){const{scrollBehavior:Ne}=t;if(!fr||!Ne)return Promise.resolve();const T=!Z&&tR(vp(V.fullPath,0))||(ie||!Z)&&history.state&&history.state.scroll||null;return Im().then(()=>Ne(V,ce,T)).then(E=>E&&ZC(E)).catch(E=>q(E,V,ce))}const Ae=V=>r.go(V);let ke;const Je=new Set,et={currentRoute:l,listening:!0,addRoute:g,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:P,getRoutes:R,resolve:F,options:t,push:z,replace:he,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:G.add,isReady:me,install(V){const ce=this;V.component("RouterLink",SR),V.component("RouterView",PR),V.config.globalProperties.$router=ce,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>yr(l)}),fr&&!ke&&l.value===ts&&(ke=!0,z(r.location).catch(Ne=>{}));const Z={};for(const Ne in ts)Object.defineProperty(Z,Ne,{get:()=>l.value[Ne],enumerable:!0});V.provide(ph,ce),V.provide(Yy,ym(Z)),V.provide(Yl,l);const ie=V.unmount;Je.add(V),V.unmount=function(){Je.delete(V),Je.size<1&&(u=ts,I&&I(),I=null,l.value=ts,ke=!1,Q=!1),ie()}}};function rt(V){return V.reduce((ce,Z)=>ce.then(()=>w(Z)),Promise.resolve())}return et}function OR(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(u=>Vr(u,c))?s.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(u=>Vr(u,l))||r.push(l))}return[n,s,r]}const DR={name:"header-logo"},NR={width:"173",height:"39",viewBox:"0 0 173 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xR(t,e,n,s,r,i){return M(),Y("svg",NR,e[0]||(e[0]=[O0('<path d="M60.192 31.272C57.9707 31.272 55.9533 30.8073 54.14 29.878C52.3267 28.9487 50.8873 27.566 49.822 25.73C48.7567 23.894 48.224 21.684 48.224 19.1C48.224 16.516 48.7567 14.306 49.822 12.47C50.91 10.634 52.3607 9.25133 54.174 8.322C56.01 7.39267 58.016 6.928 60.192 6.928C62.164 6.928 63.9433 7.27933 65.53 7.982C67.1167 8.68467 68.4087 9.682 69.406 10.974C70.4033 12.266 71.004 13.762 71.208 15.462H65.836C65.6773 14.2153 65.0653 13.218 64 12.47C62.9573 11.6993 61.6767 11.314 60.158 11.314C58.866 11.314 57.71 11.62 56.69 12.232C55.67 12.8213 54.8653 13.7053 54.276 14.884C53.6867 16.04 53.392 17.4453 53.392 19.1C53.392 20.7547 53.6867 22.1713 54.276 23.35C54.8653 24.506 55.67 25.3787 56.69 25.968C57.71 26.5573 58.866 26.852 60.158 26.852C61.6767 26.852 62.9687 26.478 64.034 25.73C65.122 24.9593 65.768 23.962 65.972 22.738H71.106C70.9473 24.4153 70.3807 25.9 69.406 27.192C68.454 28.484 67.1733 29.4927 65.564 30.218C63.9773 30.9207 62.1867 31.272 60.192 31.272ZM80.9455 31.272C79.2229 31.272 77.6702 30.898 76.2875 30.15C74.9049 29.3793 73.8282 28.3253 73.0575 26.988C72.2869 25.628 71.9015 24.1093 71.9015 22.432C71.9015 20.7547 72.2869 19.2473 73.0575 17.91C73.8282 16.55 74.9049 15.496 76.2875 14.748C77.6702 13.9773 79.2229 13.592 80.9455 13.592C82.6682 13.592 84.2209 13.9773 85.6035 14.748C86.9862 15.496 88.0629 16.55 88.8335 17.91C89.6042 19.2473 89.9895 20.7547 89.9895 22.432C89.9895 24.1093 89.6042 25.628 88.8335 26.988C88.0629 28.3253 86.9862 29.3793 85.6035 30.15C84.2209 30.898 82.6682 31.272 80.9455 31.272ZM80.9455 27.192C82.2149 27.192 83.2462 26.75 84.0395 25.866C84.8329 24.982 85.2295 23.8373 85.2295 22.432C85.2295 21.004 84.8329 19.848 84.0395 18.964C83.2462 18.08 82.2149 17.638 80.9455 17.638C79.6762 17.638 78.6449 18.08 77.8515 18.964C77.0582 19.848 76.6615 21.004 76.6615 22.432C76.6615 23.8373 77.0582 24.982 77.8515 25.866C78.6449 26.75 79.6762 27.192 80.9455 27.192ZM91.8882 13.864H96.6142V31H91.8882V13.864ZM96.7842 6.418V11.416H91.7522V6.418H96.7842ZM99.4678 13.864H104.194V16.244C104.67 15.4053 105.361 14.7593 106.268 14.306C107.197 13.83 108.251 13.592 109.43 13.592C110.699 13.592 111.81 13.8753 112.762 14.442C113.737 15.0087 114.485 15.802 115.006 16.822C115.527 17.842 115.788 19.0093 115.788 20.324V31H111.028V21.378C111.028 20.3353 110.722 19.4853 110.11 18.828C109.498 18.148 108.705 17.808 107.73 17.808C106.687 17.808 105.837 18.1707 105.18 18.896C104.523 19.5987 104.194 20.5053 104.194 21.616V31H99.4678V13.864ZM118.436 13.864H123.162V15.734C123.683 15.054 124.352 14.5327 125.168 14.17C126.007 13.7847 126.97 13.592 128.058 13.592C129.645 13.592 131.027 13.9547 132.206 14.68C133.407 15.4053 134.325 16.4367 134.96 17.774C135.617 19.1113 135.946 20.664 135.946 22.432C135.946 24.2 135.595 25.7527 134.892 27.09C134.212 28.4047 133.249 29.436 132.002 30.184C130.755 30.9093 129.316 31.272 127.684 31.272C126.709 31.272 125.825 31.1133 125.032 30.796C124.239 30.4787 123.615 30.0367 123.162 29.47V37.936H118.436V13.864ZM127.072 27.192C128.319 27.192 129.327 26.7613 130.098 25.9C130.869 25.016 131.254 23.86 131.254 22.432C131.254 20.9813 130.869 19.8253 130.098 18.964C129.35 18.08 128.341 17.638 127.072 17.638C125.803 17.638 124.783 18.08 124.012 18.964C123.264 19.8253 122.89 20.9813 122.89 22.432C122.89 23.86 123.275 25.016 124.046 25.9C124.817 26.7613 125.825 27.192 127.072 27.192ZM145.11 31.272C142.594 31.272 140.611 30.4787 139.16 28.892C137.732 27.2827 137.018 25.1293 137.018 22.432C137.018 20.664 137.336 19.1113 137.97 17.774C138.628 16.4367 139.557 15.4053 140.758 14.68C141.96 13.9547 143.388 13.592 145.042 13.592C146.062 13.592 146.98 13.7733 147.796 14.136C148.635 14.476 149.304 14.952 149.802 15.564V13.864H154.528V31H149.802V29.198C149.349 29.8327 148.703 30.3427 147.864 30.728C147.026 31.0907 146.108 31.272 145.11 31.272ZM145.858 27.192C147.128 27.192 148.148 26.7613 148.918 25.9C149.689 25.016 150.074 23.86 150.074 22.432C150.074 20.9813 149.689 19.8253 148.918 18.964C148.148 18.08 147.128 17.638 145.858 17.638C144.612 17.638 143.603 18.08 142.832 18.964C142.062 19.8253 141.676 20.9813 141.676 22.432C141.676 23.86 142.062 25.016 142.832 25.9C143.603 26.7613 144.612 27.192 145.858 27.192ZM161.891 30.83L155.669 13.864H160.497L164.101 24.914L167.671 13.864H172.533L167.399 27.872L163.863 37.936H159.341L161.891 30.83Z" fill="#CCCEEF"></path><mask id="path-2-inside-1_613_1171" fill="white"><path fill-rule="evenodd" clip-rule="evenodd" d="M30.1735 30.1735C35.4056 27.5654 38.9997 22.1616 38.9997 15.9184C38.9997 7.12691 31.8728 0 23.0814 0C16.8381 0 11.4342 3.59423 8.82617 8.82638C10.9617 7.76186 13.3701 7.16309 15.9184 7.16309C24.7098 7.16309 31.8367 14.29 31.8367 23.0815C31.8367 25.6297 31.238 28.038 30.1735 30.1735Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M30.1735 30.1735C35.4056 27.5654 38.9997 22.1616 38.9997 15.9184C38.9997 7.12691 31.8728 0 23.0814 0C16.8381 0 11.4342 3.59423 8.82617 8.82638C10.9617 7.76186 13.3701 7.16309 15.9184 7.16309C24.7098 7.16309 31.8367 14.29 31.8367 23.0815C31.8367 25.6297 31.238 28.038 30.1735 30.1735Z" fill="#CCCEEF"></path><path d="M30.1735 30.1735L29.2786 29.7274L27.9456 32.4014L30.6197 31.0685L30.1735 30.1735ZM8.82617 8.82638L7.9312 8.38027L6.59828 11.0543L9.2723 9.72135L8.82617 8.82638ZM37.9997 15.9184C37.9997 21.768 34.6332 26.8331 29.7274 29.2785L30.6197 31.0685C36.178 28.2977 39.9997 22.5553 39.9997 15.9184H37.9997ZM23.0814 1C31.3206 1 37.9997 7.67919 37.9997 15.9184H39.9997C39.9997 6.57462 32.4251 -1 23.0814 -1V1ZM9.72115 9.2725C12.1666 4.3666 17.2317 1 23.0814 1V-1C16.4444 -1 10.7019 2.82185 7.9312 8.38027L9.72115 9.2725ZM9.2723 9.72135C11.2724 8.72435 13.5284 8.16309 15.9184 8.16309V6.16309C13.2118 6.16309 10.651 6.79937 8.38005 7.93141L9.2723 9.72135ZM15.9184 8.16309C24.1576 8.16309 30.8367 14.8423 30.8367 23.0815H32.8367C32.8367 13.7377 25.2621 6.16309 15.9184 6.16309V8.16309ZM30.8367 23.0815C30.8367 25.4714 30.2755 27.7273 29.2786 29.7274L31.0685 30.6196C32.2005 28.3487 32.8367 25.7879 32.8367 23.0815H30.8367Z" fill="#070710" mask="url(#path-2-inside-1_613_1171)"></path><mask id="path-4-inside-2_613_1171" fill="white"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.9184 38.9999C24.7099 38.9999 31.8368 31.873 31.8368 23.0815C31.8368 14.29 24.7099 7.16309 15.9184 7.16309C7.12691 7.16309 0 14.29 0 23.0815C0 26.4755 1.06221 29.6215 2.87233 32.205C2.9621 32.0782 3.06568 31.9551 3.1839 31.8369L10.3472 25.4695C9.55124 24.6736 7.9594 21.4899 7.56144 19.1021L23.4798 15.5205L19.8982 31.4389C17.5104 31.0409 15.1227 29.8471 13.5308 28.6532L7.1635 35.8165C7.04493 35.935 6.92491 36.0406 6.80398 36.1339C9.38582 37.9402 12.5284 38.9999 15.9184 38.9999Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M15.9184 38.9999C24.7099 38.9999 31.8368 31.873 31.8368 23.0815C31.8368 14.29 24.7099 7.16309 15.9184 7.16309C7.12691 7.16309 0 14.29 0 23.0815C0 26.4755 1.06221 29.6215 2.87233 32.205C2.9621 32.0782 3.06568 31.9551 3.1839 31.8369L10.3472 25.4695C9.55124 24.6736 7.9594 21.4899 7.56144 19.1021L23.4798 15.5205L19.8982 31.4389C17.5104 31.0409 15.1227 29.8471 13.5308 28.6532L7.1635 35.8165C7.04493 35.935 6.92491 36.0406 6.80398 36.1339C9.38582 37.9402 12.5284 38.9999 15.9184 38.9999Z" fill="#CCCEEF"></path><path d="M2.87233 32.205L2.05334 32.7788L2.86825 33.9419L3.68861 32.7827L2.87233 32.205ZM3.1839 31.8369L2.51953 31.0895L2.49757 31.109L2.4768 31.1297L3.1839 31.8369ZM10.3472 25.4695L11.0115 26.2169L11.8042 25.5123L11.0543 24.7624L10.3472 25.4695ZM7.56144 19.1021L7.34192 18.1265L6.41963 18.3341L6.57504 19.2665L7.56144 19.1021ZM23.4798 15.5205L24.4555 15.74L24.8024 14.1979L23.2603 14.5449L23.4798 15.5205ZM19.8982 31.4389L19.7338 32.4253L20.6663 32.5807L20.8738 31.6584L19.8982 31.4389ZM13.5308 28.6532L14.1308 27.8532L13.3947 27.3011L12.7834 27.9888L13.5308 28.6532ZM7.1635 35.8165L7.8706 36.5236L7.89138 36.5028L7.91091 36.4808L7.1635 35.8165ZM6.80398 36.1339L6.19306 35.3422L5.11595 36.1734L6.23075 36.9533L6.80398 36.1339ZM30.8368 23.0815C30.8368 31.3207 24.1576 37.9999 15.9184 37.9999V39.9999C25.2622 39.9999 32.8368 32.4252 32.8368 23.0815H30.8368ZM15.9184 8.16309C24.1576 8.16309 30.8368 14.8423 30.8368 23.0815H32.8368C32.8368 13.7377 25.2622 6.16309 15.9184 6.16309V8.16309ZM1 23.0815C1 14.8423 7.67919 8.16309 15.9184 8.16309V6.16309C6.57462 6.16309 -1 13.7377 -1 23.0815H1ZM3.69132 31.6312C1.99518 29.2103 1 26.2636 1 23.0815H-1C-1 26.6874 0.129241 30.0326 2.05334 32.7788L3.69132 31.6312ZM2.4768 31.1297C2.31955 31.287 2.17926 31.4533 2.05605 31.6274L3.68861 32.7827C3.74495 32.7031 3.81182 32.6231 3.891 32.544L2.4768 31.1297ZM9.68279 24.7221L2.51953 31.0895L3.84826 32.5843L11.0115 26.2169L9.68279 24.7221ZM6.57504 19.2665C6.79394 20.5799 7.32878 22.0619 7.896 23.2994C8.18221 23.9239 8.48477 24.5038 8.77353 24.9873C9.05169 25.4531 9.35126 25.8878 9.64005 26.1766L11.0543 24.7624C10.9451 24.6532 10.7472 24.3915 10.4906 23.9619C10.2446 23.55 9.97511 23.0355 9.71413 22.4661C9.18695 21.3159 8.72689 20.0121 8.54783 18.9377L6.57504 19.2665ZM23.2603 14.5449L7.34192 18.1265L7.78095 20.0778L23.6994 16.4961L23.2603 14.5449ZM20.8738 31.6584L24.4555 15.74L22.5042 15.301L18.9226 31.2194L20.8738 31.6584ZM12.9308 29.4532C14.6252 30.724 17.1592 31.9962 19.7338 32.4253L20.0626 30.4525C17.8617 30.0857 15.6201 28.9701 14.1308 27.8532L12.9308 29.4532ZM7.91091 36.4808L14.2782 29.3175L12.7834 27.9888L6.41609 35.1521L7.91091 36.4808ZM7.41491 36.9256C7.57136 36.8049 7.72336 36.6708 7.8706 36.5236L6.45639 35.1094C6.3665 35.1992 6.27847 35.2763 6.19306 35.3422L7.41491 36.9256ZM15.9184 37.9999C12.74 37.9999 9.79648 37.007 7.37722 35.3145L6.23075 36.9533C8.97516 38.8733 12.3167 39.9999 15.9184 39.9999V37.9999Z" fill="#070710" mask="url(#path-4-inside-2_613_1171)"></path><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M8.82725 8.82627C10.9627 7.76182 13.371 7.16309 15.9192 7.16309C24.7107 7.16309 31.8376 14.29 31.8376 23.0815C31.8376 25.6296 31.2389 28.038 30.1744 30.1734C28.0389 31.2379 25.6306 31.8366 23.0825 31.8366C14.291 31.8366 7.16406 24.7097 7.16406 15.9182C7.16406 13.3701 7.76279 10.9617 8.82725 8.82627Z" fill="#7130C3"></path>',8)]))}const LR=ye(DR,[["render",xR]]),VR={name:"the-header",components:{HeaderLogo:LR},props:{currentRoute:{type:String,required:!1,default:"Home"}},data(){return{isScrolled:!1}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.isScrolled=window.scrollY>80}}},MR={class:"header__container"},FR={class:"header__nav"};function $R(t,e,n,s,r,i){const o=ne("HeaderLogo"),c=ne("router-link");return M(),Y("div",{class:se(["header",{"-scrolled":r.isScrolled}])},[_("div",MR,[X(o),_("div",FR,[X(c,{to:"/",class:se(["header__link",{"-active":n.currentRoute==="Home"}])},{default:$t(()=>e[0]||(e[0]=[Ve("ANASAYFA")])),_:1,__:[0]},8,["class"]),X(c,{to:"/coin-list",class:se(["header__link",{"-active":n.currentRoute==="Coins"}])},{default:$t(()=>e[1]||(e[1]=[Ve("COİN LİSTESİ")])),_:1,__:[1]},8,["class"]),X(c,{to:"/orders",class:se(["header__link",{"-active":n.currentRoute==="Orders"}])},{default:$t(()=>e[2]||(e[2]=[Ve("EMİR TAKİBİ")])),_:1,__:[2]},8,["class"]),X(c,{to:"/order-book",class:se(["header__link",{"-active":n.currentRoute==="Book"}])},{default:$t(()=>e[3]||(e[3]=[Ve("ORDER BOOK")])),_:1,__:[3]},8,["class"]),X(c,{to:"/future-list",class:se(["header__link",{"-active":n.currentRoute==="Future"}])},{default:$t(()=>e[4]||(e[4]=[Ve("VADELİ COİNLER")])),_:1,__:[4]},8,["class"]),X(c,{to:"/spot-list",class:se(["header__link",{"-active":n.currentRoute==="Spot"}])},{default:$t(()=>e[5]||(e[5]=[Ve("SPOT COİNLER")])),_:1,__:[5]},8,["class"])])])],2)}const Xs=ye(VR,[["render",$R],["__scopeId","data-v-bff9fcc7"]]),UR={name:"home-banner",data(){return{}},components:{},created(){},methods:{showCoins(){this.$router.push({name:"Coins"})}}},BR={class:"banner"},jR={class:"banner__buttons"};function HR(t,e,n,s,r,i){const o=ne("router-link");return M(),Y("div",BR,[e[2]||(e[2]=_("div",{class:"banner__text"},"COIN ACTIONS İle Takipte Kalın",-1)),_("div",jR,[X(o,{to:"/",class:"banner__button"},{default:$t(()=>e[1]||(e[1]=[Ve("Hemen Premium Al")])),_:1,__:[1]}),_("span",{onClick:e[0]||(e[0]=c=>i.showCoins()),class:"banner__button"},"Tüm Coinler")])])}const qR=ye(UR,[["render",HR],["__scopeId","data-v-e26fd3ac"]]),zR={name:"x-mark-icon"},WR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function KR(t,e,n,s,r,i){return M(),Y("svg",WR,e[0]||(e[0]=[_("path",{d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"},null,-1)]))}const GR=ye(zR,[["render",KR],["__scopeId","data-v-0e420d21"]]),QR={name:"home-banner",data(){return{}},components:{XMark:GR,Warning:n_},created(){},methods:{}},YR={class:"modal"},JR={class:"modal__overlay"},XR={class:"modal__wrapper"},ZR={class:"modal__header"},e3={class:"modal__body"},t3={class:"modal__footer"};function n3(t,e,n,s,r,i){const o=ne("XMark"),c=ne("Warning"),l=ne("router-link");return M(),Y("div",YR,[_("div",JR,[_("div",XR,[_("div",ZR,[X(o,{class:"modal__close",onClick:e[0]||(e[0]=u=>t.$emit("close-modal"))})]),_("div",e3,[X(c,{class:"modal__icon"}),e[1]||(e[1]=_("div",{class:"modal__information"},[_("p",{class:"modal__text"},"Bu Özellik Premium Bir Özelliktir"),_("p",{class:"modal__subtext"},"Hemen Premium Sahibi Olmak İçin Tıklayın")],-1))]),_("div",t3,[X(l,{class:"modal__button"},{default:$t(()=>e[2]||(e[2]=[Ve("Premium Ol")])),_:1,__:[2]})])])])])}const Jy=ye(QR,[["render",n3],["__scopeId","data-v-67d540cf"]]),s3={name:"userIcon"},r3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"};function i3(t,e,n,s,r,i){return M(),Y("svg",r3,e[0]||(e[0]=[_("path",{d:"M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"},null,-1)]))}const hc=ye(s3,[["render",i3],["__scopeId","data-v-d840df75"]]),o3={name:"userIcon"},a3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function c3(t,e,n,s,r,i){return M(),Y("svg",a3,e[0]||(e[0]=[_("path",{d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM151.2 217.4c-4.6 4.2-7.2 10.1-7.2 16.4c0 12.3 10 22.3 22.3 22.3l41.7 0 0 96c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-96 41.7 0c12.3 0 22.3-10 22.3-22.3c0-6.2-2.6-12.1-7.2-16.4l-91-84c-3.8-3.5-8.7-5.4-13.9-5.4s-10.1 1.9-13.9 5.4l-91 84z"},null,-1)]))}const Wr=ye(o3,[["render",c3],["__scopeId","data-v-911b98b1"]]),l3={name:"arrow-down"},u3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function h3(t,e,n,s,r,i){return M(),Y("svg",u3,e[0]||(e[0]=[_("path",{d:"M256 464a208 208 0 1 1 0-416 208 208 0 1 1 0 416zM256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM376.9 294.6c4.5-4.2 7.1-10.1 7.1-16.3c0-12.3-10-22.3-22.3-22.3L304 256l0-96c0-17.7-14.3-32-32-32l-32 0c-17.7 0-32 14.3-32 32l0 96-57.7 0C138 256 128 266 128 278.3c0 6.2 2.6 12.1 7.1 16.3l107.1 99.9c3.8 3.5 8.7 5.5 13.8 5.5s10.1-2 13.8-5.5l107.1-99.9z"},null,-1)]))}const Kr=ye(l3,[["render",h3],["__scopeId","data-v-7d11299c"]]),d3={name:"home-list",data(){return{}},components:{Modal:Jy,DollarIcon:hc,ArrowUp:Wr,ArrowDown:Kr},created(){},methods:{showCoins(){this.$router.push({name:"Coins"})}},computed:{coins(){return this.$store.getters["coins/coinsData"]}}},f3={class:"list"},p3={class:"list__table"},m3={class:"list__number"},_3={class:"list__name"},g3={class:"list__symbol"},y3=["src"],v3={class:"list__price"},T3={class:"list__currency"},E3={class:"list__change"},w3={class:"list__span"},I3={class:"list__buttonArea"};function b3(t,e,n,s,r,i){const o=ne("DollarIcon"),c=ne("ArrowUp"),l=ne("ArrowDown");return M(),Y("div",f3,[e[2]||(e[2]=_("div",{class:"list__header"},[_("h2",{class:"list__title"},"TREND COINLER")],-1)),_("table",p3,[e[1]||(e[1]=_("thead",null,[_("tr",null,[_("th",{class:"list__number"},"#"),_("th",{class:"list__name"},"Coin"),_("th",{class:"list__price"},"Fiyat"),_("th",{class:"list__change"},"24s Değişim")])],-1)),_("tbody",null,[(M(!0),Y(ot,null,sn(i.coins,(u,h)=>(M(),Y("tr",{class:se(["list__item",u.changeClass]),key:h},[_("td",m3,le(h+1),1),_("td",_3,[_("span",g3,[_("img",{class:"list__img",src:u.logoUrl,alt:""},null,8,y3),Ve(le(u.symbol),1)])]),_("td",v3,[_("span",T3,[X(o),Ve(le(u.lastPrice),1)])]),_("td",E3,[_("span",w3,[_("span",{class:se(["list__colored",{"-up":u.priceChangePercent>0,"-down":u.priceChangePercent<0}])},[u.priceChangePercent>0?(M(),$e(c,{key:0})):(M(),$e(l,{key:1})),Ve(" "+le(u.priceChangePercent),1)],2)])])],2))),128))])]),_("div",I3,[_("span",{onClick:e[0]||(e[0]=u=>i.showCoins()),class:"list__button"},"Daha Fazla Coin Gör")])])}const S3=ye(d3,[["render",b3],["__scopeId","data-v-a6d1adcf"]]),jt="/food-generator/assets/divider-BTH9ZJun.svg",A3={name:"home",data(){return{isModalShow:!1}},components:{Banner:qR,List:S3,Modal:Jy},created(){this.$store.dispatch("coins/connectWebSocketForHome")},beforeUnmount(){this.$store.dispatch("coins/disconnectWebSocketForHome")},methods:{openModal(){this.isModalShow=!0},closeModal(){this.isModalShow=!1}}},C3={class:"home"},R3={class:"home__section"};function P3(t,e,n,s,r,i){const o=ne("Banner"),c=ne("List"),l=ne("Modal");return M(),Y("div",C3,[e[0]||(e[0]=_("img",{class:"home__divider",src:jt,alt:""},null,-1)),_("div",R3,[X(o,{onOpenModal:i.openModal},null,8,["onOpenModal"]),X(c,{onOpenModal:i.openModal},null,8,["onOpenModal"])]),e[1]||(e[1]=_("img",{class:"home__divider",src:jt,alt:""},null,-1)),r.isModalShow?(M(),$e(l,{key:0,onCloseModal:i.closeModal},null,8,["onCloseModal"])):Gt("",!0)])}const k3=ye(A3,[["render",P3],["__scopeId","data-v-ac505314"]]),O3={name:"telegram-icon"},D3={viewBox:"0 0 20 16",xmlns:"http://www.w3.org/2000/svg"};function N3(t,e,n,s,r,i){return M(),Y("svg",D3,e[0]||(e[0]=[_("path",{d:"M12.1817 2.34636C10.5036 3.04236 7.14877 4.48456 2.11879 6.67146C1.30201 6.99576 0.873436 7.31296 0.834656 7.62286C0.768491 8.14806 1.42705 8.35476 2.32148 8.63456C2.44372 8.67336 2.57025 8.71206 2.69969 8.75516C3.58123 9.04066 4.76611 9.37506 5.38149 9.38796C5.9409 9.39946 6.56497 9.16986 7.25381 8.69916C11.9531 5.53206 14.379 3.93206 14.5314 3.89756C14.6393 3.87316 14.7888 3.84166 14.8894 3.93206C14.9901 4.02106 14.9801 4.19036 14.97 4.23626C14.9038 4.51326 12.3241 6.90826 10.9868 8.14806C10.5698 8.53416 10.2749 8.80826 10.2146 8.87136C10.0794 9.01056 9.94141 9.14396 9.80908 9.27176C8.98941 10.0581 8.37683 10.6494 9.84356 11.6137C10.5482 12.0772 11.1119 12.4604 11.6741 12.8421C12.2882 13.2597 12.9008 13.6758 13.6945 14.1953C13.8959 14.3273 14.0886 14.4636 14.2769 14.5971C14.9916 15.1065 15.6343 15.5628 16.4281 15.4911C16.8883 15.448 17.3656 15.0161 17.6072 13.726C18.1781 10.6752 19.3026 4.06836 19.5629 1.34476C19.5788 1.11856 19.5691 0.891358 19.5341 0.667358C19.5132 0.486458 19.425 0.320058 19.2868 0.201058C19.0812 0.0331581 18.7619 -0.002742 18.6182 0.000158001C17.9696 0.011558 16.9746 0.357458 12.1817 2.34636Z"},null,-1)]))}const x3=ye(O3,[["render",N3],["__scopeId","data-v-03940b75"]]),L3={name:"whatsapp-icon"},V3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function M3(t,e,n,s,r,i){return M(),Y("svg",V3,e[0]||(e[0]=[_("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},null,-1)]))}const F3=ye(L3,[["render",M3],["__scopeId","data-v-c3164d6d"]]),$3={name:"the-footer",components:{Telegram:x3,Whatsapp:F3},computed:{}},U3={class:"footer"},B3={class:"footer__informations"},j3={class:"footer__socials"},H3={class:"footer__icons"},q3={class:"footer__link",href:""},z3={class:"footer__link",href:""},W3={class:"footer__premium"};function K3(t,e,n,s,r,i){const o=ne("Telegram"),c=ne("Whatsapp"),l=ne("router-link");return M(),Y("div",U3,[_("div",B3,[_("div",j3,[e[0]||(e[0]=_("h4",{class:"footer__title"},"SOSYAL PLATFORMLAR",-1)),_("div",H3,[_("a",q3,[X(o)]),_("a",z3,[X(c)])])]),e[3]||(e[3]=_("div",{class:"footer__communication"},[_("h4",{class:"footer__title"},"İLETİŞİM"),_("p",{class:"footer__text"},"+ 90 539 822 6918"),_("p",{class:"footer__text"},"gokturk.dogan@hotmail.com")],-1)),_("div",W3,[e[2]||(e[2]=_("h4",{class:"footer__title"},"ARAMIZA KATIL",-1)),X(l,{class:"footer__button",to:"/"},{default:$t(()=>e[1]||(e[1]=[Ve("Premium Ol")])),_:1,__:[1]})])]),e[4]||(e[4]=_("span",{class:"footer__copyrights"},"Copyright© 2025 CoinActions. All rights reserved.",-1))])}const Zs=ye($3,[["render",K3],["__scopeId","data-v-9ada8c4c"]]),G3={name:"main-layout",data(){return{}},components:{TheHeader:Xs,Home:k3,TheFooter:Zs},created(){},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name}}},Q3={class:"main"};function Y3(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("Home"),l=ne("TheFooter");return M(),Y("div",Q3,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),X(c),X(l)])}const J3=ye(G3,[["render",Y3],["__scopeId","data-v-a4df333a"]]),X3={name:"login-form",data(){return{email:"",password:"",formValid:!1}},watch:{email:"validateForm",password:"validateForm"},components:{},created(){},methods:{validateForm(){this.formValid=this.email.trim()!==""&&this.password.trim()!==""},async login(){this.formValid&&this.$store.dispatch("login/login",{email:this.email,password:this.password})},resetForm(){this.email="",this.password=""}}},Z3={class:"form"},eP={class:"form__header"},tP={class:"form__body"},nP={class:"form__group"},sP={class:"form__group"},rP={class:"form__actions"},iP={class:"form__action"},oP={class:"form__action"},aP={class:"form__footer"};function cP(t,e,n,s,r,i){const o=ne("router-link");return M(),Y("div",Z3,[_("div",eP,[e[5]||(e[5]=_("h2",{class:"form__title"},"Lütfen Giriş Yapınız",-1)),e[6]||(e[6]=_("h4",{class:"form__subTitle"},"Lütfen bilgilerinizi giriniz.",-1)),X(o,{to:"/register",class:"form__headerBtn"},{default:$t(()=>e[4]||(e[4]=[Ve("Hesabın Yok Mu ?")])),_:1,__:[4]})]),_("div",tP,[_("div",nP,[e[7]||(e[7]=_("label",{class:"form__inputTitle"},"Email*",-1)),ln(_("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.email=c),type:"text",class:"form__input",placeholder:"example@example.com"},null,512),[[un,r.email]])]),_("div",sP,[e[8]||(e[8]=_("label",{class:"form__inputTitle"},"Şifre*",-1)),ln(_("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.password=c),type:"password",class:"form__input",placeholder:"*******"},null,512),[[un,r.password]])]),_("div",rP,[_("div",iP,[_("button",{onClick:e[2]||(e[2]=c=>i.resetForm()),class:"form__reset"},"Formu Sıfırla")]),_("div",oP,[e[10]||(e[10]=_("label",{class:"form__inputTitle"},"Şifremi unuttum",-1)),X(o,{to:"/reset-password",class:"form__link"},{default:$t(()=>e[9]||(e[9]=[Ve("Sıfırla")])),_:1,__:[9]})])])]),_("div",aP,[_("button",{class:se([{"-disabled":!r.formValid},"form__btn"]),onClick:e[3]||(e[3]=c=>i.login())},"Giriş Yap",2)])])}const lP=ye(X3,[["render",cP],["__scopeId","data-v-128eeb8c"]]),uP={name:"login",data(){return{}},components:{Form:lP},created(){},methods:{}},hP={class:"login"},dP={class:"login__container"};function fP(t,e,n,s,r,i){const o=ne("Form");return M(),Y("div",hP,[_("div",dP,[X(o)])])}const pP=ye(uP,[["render",fP],["__scopeId","data-v-7a5a0acc"]]),mP={name:"login-layout",data(){return{}},components:{Login:pP},created(){},methods:{}};function _P(t,e,n,s,r,i){const o=ne("Login",!0);return M(),Y("div",null,[X(o)])}const gP=ye(mP,[["render",_P]]),yP={name:"register-form",data(){return{displayName:"",email:"",password:"",formValid:!1}},watch:{email:"validateForm",password:"validateForm",disyplayName:"validateForm"},components:{},created(){},methods:{validateForm(){this.formValid=this.email.trim()!==""&&this.password.trim()!==""&&this.displayName.trim()!==""},register(){this.formValid&&this.$store.dispatch("register/register",{email:this.email,password:this.password,displayName:this.displayName})}}},vP={class:"form"},TP={class:"form__header"},EP={class:"form__body"},wP={class:"form__group"},IP={class:"form__group"},bP={class:"form__group"},SP={class:"form__footer"};function AP(t,e,n,s,r,i){const o=ne("router-link");return M(),Y("div",vP,[_("div",TP,[e[5]||(e[5]=_("h2",{class:"form__title"},"Yeni Hesap Oluştur",-1)),e[6]||(e[6]=_("h4",{class:"form__subTitle"},"Lütfen bilgilerinizi giriniz.",-1)),X(o,{to:"/login",class:"form__headerBtn"},{default:$t(()=>e[4]||(e[4]=[Ve("Zaten Üye Misin ?")])),_:1,__:[4]})]),_("div",EP,[_("div",wP,[e[7]||(e[7]=_("label",{class:"form__inputTitle"},"Ad Soyad*",-1)),ln(_("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.displayName=c),type:"text",class:"form__input",placeholder:"Ad Soyad"},null,512),[[un,r.displayName]])]),_("div",IP,[e[8]||(e[8]=_("label",{class:"form__inputTitle"},"Email*",-1)),ln(_("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.email=c),type:"text",class:"form__input",placeholder:"example@example.com"},null,512),[[un,r.email]])]),_("div",bP,[e[9]||(e[9]=_("label",{class:"form__inputTitle"},"Şifre*",-1)),ln(_("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>r.password=c),type:"password",class:"form__input",placeholder:"*******"},null,512),[[un,r.password]])])]),_("div",SP,[_("button",{class:se([{"-disabled":!r.formValid},"form__btn"]),onClick:e[3]||(e[3]=c=>i.register())},"Kayıt Ol",2)])])}const CP=ye(yP,[["render",AP],["__scopeId","data-v-70db40a2"]]),RP={name:"register",data(){return{}},components:{Form:CP},created(){},methods:{}},PP={class:"register"},kP={class:"register__container"};function OP(t,e,n,s,r,i){const o=ne("Form");return M(),Y("div",PP,[_("div",kP,[X(o)])])}const DP=ye(RP,[["render",OP],["__scopeId","data-v-24bc2e26"]]),NP={name:"register-layout",data(){return{}},components:{Register:DP},created(){},methods:{}};function xP(t,e,n,s,r,i){const o=ne("Register",!0);return M(),Y("div",null,[X(o)])}const LP=ye(NP,[["render",xP]]),VP={name:"login-form",data(){return{email:"",formValid:!1}},watch:{email:"validateForm"},components:{},created(){},methods:{validateForm(){this.formValid=this.email.trim()!==""},reset(){this.formValid&&this.$store.dispatch("login/reset",this.email)}}},MP={class:"form"},FP={class:"form__header"},$P={class:"form__body"},UP={class:"form__group"},BP={class:"form__footer"};function jP(t,e,n,s,r,i){const o=ne("router-link");return M(),Y("div",MP,[_("div",FP,[e[3]||(e[3]=_("h2",{class:"form__title"},"Şifre Sıfırlama",-1)),e[4]||(e[4]=_("h4",{class:"form__subTitle"},"Lütfen email adresinizi giriniz.",-1)),X(o,{to:"/login",class:"form__headerBtn"},{default:$t(()=>e[2]||(e[2]=[Ve("Giriş Ekranına Dön")])),_:1,__:[2]})]),_("div",$P,[_("div",UP,[e[5]||(e[5]=_("label",{class:"form__inputTitle"},"Email*",-1)),ln(_("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.email=c),type:"text",class:"form__input",placeholder:"example@example.com"},null,512),[[un,r.email]])])]),_("div",BP,[_("button",{class:se([{"-disabled":!r.formValid},"form__btn"]),onClick:e[1]||(e[1]=c=>i.reset())},"Sıfırla",2)])])}const HP=ye(VP,[["render",jP],["__scopeId","data-v-13c75549"]]),qP={name:"forgot",data(){return{}},components:{Form:HP},created(){},methods:{}},zP={class:"login"},WP={class:"login__container"};function KP(t,e,n,s,r,i){const o=ne("Form");return M(),Y("div",zP,[_("div",WP,[X(o)])])}const GP=ye(qP,[["render",KP],["__scopeId","data-v-9268ce3d"]]),QP={name:"forgot-layout",data(){return{}},components:{Forgot:GP},created(){},methods:{}};function YP(t,e,n,s,r,i){const o=ne("Forgot",!0);return M(),Y("div",null,[X(o)])}const JP=ye(QP,[["render",YP]]),XP={name:"arrow-down"},ZP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"};function e4(t,e,n,s,r,i){return M(),Y("svg",ZP,e[0]||(e[0]=[_("path",{d:"M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L128 109.3l0 293.5L86.6 361.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7l0-293.5 41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z"},null,-1)]))}const mh=ye(XP,[["render",e4],["__scopeId","data-v-fae98fc8"]]),t4={name:"telegram-icon"},n4={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function s4(t,e,n,s,r,i){return M(),Y("svg",n4,e[0]||(e[0]=[_("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)]))}const ho=ye(t4,[["render",s4],["__scopeId","data-v-a8de7ad6"]]),r4={name:"home-list",data(){return{inputFocused:!1,searchText:""}},components:{DollarIcon:hc,ArrowUp:Wr,ArrowDown:Kr,UpDown:mh,Search:ho},created(){},methods:{order(t){this.$store.dispatch("coins/setOrderBy",{type:t.type,isUp:!t.isUp})},async goDetail(t){await this.$store.dispatch("coinDetail/openCoinDetail",t.symbol),this.$router.push({name:"CoinDetail",params:{symbol:t.symbol}})}},computed:{coins(){return this.searchText?this.$store.getters["coins/coinsDataList"].filter(t=>t.symbol.toLowerCase().includes(this.searchText.toLowerCase())):this.$store.getters["coins/coinsDataList"]},orders(){return this.$store.getters["coins/orders"]},activeOrderType(){const t=this.orders.find(e=>e.isActive);return t?t.type:null}}},i4={class:"list"},o4={class:"list__header"},a4={class:"list__tabs"},c4=["onClick"],l4={class:"list__tabText"},u4={class:"list__tabICon"},h4={class:"list__table"},d4=["onClick"],f4={class:"list__number"},p4={class:"list__name"},m4={class:"list__symbol"},_4=["src"],g4={class:"list__symbol"},y4={class:"list__name"},v4={class:"list__symbol"},T4={class:"list__symbol"},E4={class:"list__price"},w4={class:"list__currency -withSpan"},I4={class:"list__currency"},b4={class:"list__span"};function S4(t,e,n,s,r,i){const o=ne("Search"),c=ne("UpDown"),l=ne("ArrowUp"),u=ne("ArrowDown"),h=ne("DollarIcon");return M(),Y("div",i4,[_("div",o4,[_("div",{class:se(["list__input",{"-focused":r.inputFocused||r.searchText}])},[ln(_("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=d=>r.searchText=d),placeholder:"Coin Ara",onFocus:e[1]||(e[1]=d=>r.inputFocused=!0),onBlur:e[2]||(e[2]=d=>r.inputFocused=!1)},null,544),[[un,r.searchText]]),X(o)],2),e[3]||(e[3]=_("h2",{class:"list__title"},"TÜM COINLER",-1)),_("div",a4,[(M(!0),Y(ot,null,sn(i.orders,(d,m)=>(M(),Y("div",{key:m,class:se(["list__tab",{"-active":d.isActive}]),onClick:g=>i.order(d)},[_("span",l4,le(d.text),1),_("span",u4,[d.isActive?d.isUp?(M(),$e(l,{key:1})):(M(),$e(u,{key:2})):(M(),$e(c,{key:0}))])],10,c4))),128))])]),_("table",h4,[_("thead",null,[_("tr",null,[e[4]||(e[4]=_("th",{class:"list__number"},"#",-1)),e[5]||(e[5]=_("th",{class:"list__name"},"Coin",-1)),_("th",{class:se(["list__name",{"-active":i.activeOrderType==="lastPrice"}])},"Fiyat",2),e[6]||(e[6]=_("th",{class:"list__name"},"Spot Hacim (Adet)",-1)),_("th",{class:se(["list__name",{"-active":i.activeOrderType==="totalQuoteVolume"}])},"Spot Hacim (Usd)",2),e[7]||(e[7]=_("th",{class:"list__price"},"Vadeli Hacim (Adet)",-1)),_("th",{class:se(["list__price",{"-active":i.activeOrderType==="futuresQuoteVolume"}])},"Vadeli Hacim (Usd)",2),_("th",{class:se(["list__change",{"-active":i.activeOrderType==="priceChangePercent"}])}," Değişim 24s",2)])]),_("tbody",null,[(M(!0),Y(ot,null,sn(i.coins,(d,m)=>(M(),Y("tr",{class:se(["list__item",d.changeClass]),key:m,onClick:g=>i.goDetail(d)},[_("td",f4,le(m+1),1),_("td",p4,[_("span",m4,[_("img",{class:"list__img",src:d.logoUrl,alt:""},null,8,_4),Ve(le(d.symbol),1)])]),_("td",{class:se([{"-active":i.activeOrderType==="lastPrice"},"list__name"])},[_("span",g4,[X(h),Ve(le(d.lastPrice),1)])],2),_("td",y4,[_("span",v4,[Ve(le(d.totalVolume)+" ",1),_("span",{class:se(["list__cur",{"-up":d.priceChangePercent>0,"-down":d.priceChangePercent<0}])}," ("+le(d.symbol)+")",3)])]),_("td",{class:se([{"-active":i.activeOrderType==="totalQuoteVolume"},"list__price"])},[_("span",T4,[X(h),Ve(le(d.totalQuoteVolume),1)])],2),_("td",E4,[_("span",w4,le(d.futuresVolume)+"("+le(d.symbol)+") ",1)]),_("td",{class:se([{"-active":i.activeOrderType==="futuresQuoteVolume"},"list__price"])},[_("span",I4,[X(h),Ve(le(d.futuresQuoteVolume),1)])],2),_("td",{class:se(["list__change",{"-active":i.activeOrderType==="priceChangePercent"}])},[_("span",b4,[_("span",{class:se(["list__colored",{"-up":d.priceChangePercent>0,"-down":d.priceChangePercent<0}])},[d.priceChangePercent>0?(M(),$e(l,{key:0})):(M(),$e(u,{key:1})),Ve(" "+le(d.priceChangePercent),1)],2)])],2)],10,d4))),128))])])])}const A4=ye(r4,[["render",S4],["__scopeId","data-v-e74b3840"]]),C4={name:"list",data(){return{}},components:{List:A4},created(){this.$store.dispatch("coins/connectWebSocketForList")},beforeUnmount(){this.$store.dispatch("coins/disconnectWebSocketForList")},methods:{}},R4={class:"list"},P4={class:"list__section"};function k4(t,e,n,s,r,i){const o=ne("List",!0);return M(),Y("div",R4,[e[0]||(e[0]=_("img",{class:"list__divider",src:jt,alt:""},null,-1)),_("div",P4,[X(o)]),e[1]||(e[1]=_("img",{class:"list__divider",src:jt,alt:""},null,-1))])}const O4=ye(C4,[["render",k4],["__scopeId","data-v-83d382a6"]]),D4={name:"main-list",data(){return{}},components:{TheHeader:Xs,List:O4,TheFooter:Zs},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name}}},N4={class:"main"};function x4(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("List",!0),l=ne("TheFooter");return M(),Y("div",N4,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),X(c),X(l)])}const L4=ye(D4,[["render",x4],["__scopeId","data-v-ce272aaa"]]),V4={name:"detail-header",data(){return{isReady:!1}},props:{coinSymbol:{type:String,required:!0},tickerData:{type:Object,required:!0},oldVolumes:{type:Object,required:!0}},components:{},created(){setTimeout(()=>{this.isReady=!0},3e3)},methods:{formatNumber(t,e=4){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}}},M4={class:"header"},F4={class:"header__item -symbol"},$4={class:"header__item -symbol"},U4={class:"header__item"},B4={class:"header__text"},j4={class:"header__item"},H4={class:"header__text"},q4={class:"header__item"},z4={class:"header__text"},W4={class:"header__item"},K4={class:"header__text"},G4={class:"header__item"},Q4={class:"header__text"},Y4={class:"header__item"},J4={class:"header__text"};function X4(t,e,n,s,r,i){return M(),Y("div",M4,[_("div",F4,le(n.coinSymbol)+" / USD",1),_("div",$4," $"+le(i.formatNumber(n.tickerData.lastPrice,2)),1),_("div",{class:se(["header__item",{"-up":n.tickerData.changePercent>0,"-down":n.tickerData.changePercent<0}])},[e[0]||(e[0]=_("span",{class:"header__title"}," 24 saatlik Değişim ",-1)),_("span",{class:se(["header__text",{"-up":n.tickerData.changePercent>0,"-down":n.tickerData.changePercent<0}])},le(n.tickerData.changePercent)+" % "+le(n.tickerData.changeAmount)+" $ ",3)],2),_("div",U4,[e[1]||(e[1]=_("span",{class:"header__title"}," 24s En Yüksek ",-1)),_("span",B4," $"+le(i.formatNumber(n.tickerData.high24h,2)),1)]),_("div",j4,[e[2]||(e[2]=_("span",{class:"header__title"}," 24s En Düşük ",-1)),_("span",H4," $"+le(i.formatNumber(n.tickerData.low24h,2)),1)]),_("div",q4,[e[3]||(e[3]=_("span",{class:"header__title"}," 24s Hacim ",-1)),_("span",z4," $"+le(i.formatNumber(n.tickerData.volume24h,2)),1)]),_("div",W4,[e[4]||(e[4]=_("span",{class:"header__title"}," Haftalık Hacim ",-1)),_("span",K4," $"+le(i.formatNumber(n.oldVolumes.weekly,2)),1)]),_("div",G4,[e[5]||(e[5]=_("span",{class:"header__title"}," Aylık Hacim ",-1)),_("span",Q4," $"+le(i.formatNumber(n.oldVolumes.monthly,2)),1)]),_("div",Y4,[e[6]||(e[6]=_("span",{class:"header__title"}," 3 Aylık Hacim ",-1)),_("span",J4," $"+le(i.formatNumber(n.oldVolumes.quarterly,2)),1)])])}const Z4=ye(V4,[["render",X4],["__scopeId","data-v-855b241c"]]),ek={name:"detail-order",data(){return{}},props:{depthData:{type:Object,required:!0},lastPrice:{type:String,required:!0}},components:{},created(){},methods:{formatNumber(t,e=4){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}}},tk={class:"orders"},nk={class:"orders__section"},sk={class:"orders__text --price --buy"},rk={class:"orders__text"},ik={class:"orders__text --amount"},ok={class:"orders__price"},ak={class:"orders__section"},ck={class:"orders__text --price --sell"},lk={class:"orders__text"},uk={class:"orders__text"};function hk(t,e,n,s,r,i){return M(),Y("div",tk,[_("div",nk,[e[0]||(e[0]=_("div",{class:"orders__title"},[_("div",{class:"orders__text"},"Fiyat"),_("div",{class:"orders__text"},"Miktar"),_("div",{class:"orders__text"},"Tutar")],-1)),(M(!0),Y(ot,null,sn(n.depthData.bids,(o,c)=>(M(),Y("div",{class:"orders__item --buy",key:c},[_("div",sk,le(i.formatNumber(o[0],4)),1),_("div",rk,le(i.formatNumber(o[1],4)),1),_("div",ik,"$ "+le(i.formatNumber(o[0]*o[1],4)),1)]))),128))]),_("div",ok,le(i.formatNumber(n.lastPrice,4))+" $ ",1),_("div",ak,[(M(!0),Y(ot,null,sn(n.depthData.asks,(o,c)=>(M(),Y("div",{class:"orders__item --sell",key:c},[_("div",ck,le(i.formatNumber(o[0],4)),1),_("div",lk,le(i.formatNumber(o[1],4)),1),_("div",uk,"$ "+le(i.formatNumber(o[0]*o[1],4)),1)]))),128))])])}const dk=ye(ek,[["render",hk],["__scopeId","data-v-6a0bbc41"]]),Gr="/food-generator/assets/spinner-DYxqkpVE.gif",fk={name:"detail-trade",data(){return{timeStampForSpot:0,loaderForSpot:!1}},props:{trades:{type:Array,required:!0},symbol:{type:String,required:!1,default:"BTC"}},components:{},created(){},methods:{formatNumber(t,e=4){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")},formatTime(t){return new Date(t).toLocaleTimeString("tr-TR")},async setTime(t){this.loaderForSpot||(this.loaderForSpot=!0,this.timeStampForSpot=t,await this.$store.dispatch("coinDetail/fetchHistoricalTradesByRange",{symbol:this.symbol,hours:t}),this.loaderForSpot=!1)},async removeTime(){this.timeStampForSpot=0,this.loaderForSpot=!0,await this.$store.dispatch("coinDetail/connectTradesSocket",this.symbol),this.loaderForSpot=!1}}},pk={class:"trades"},mk={class:"trades__section"},_k={class:"trades__title"},gk={key:0},yk={key:1,class:"trades__spinner",src:Gr,alt:"spinner"},vk={key:0},Tk={key:1,class:"trades__spinner",src:Gr,alt:"spinner"},Ek={key:0},wk={key:1,class:"trades__spinner",src:Gr,alt:"spinner"},Ik={key:0},bk={key:1,class:"trades__spinner",src:Gr,alt:"spinner"},Sk={class:"trades__title"},Ak={class:"trades__text"},Ck={class:"trades__text"},Rk={class:"trades__text"};function Pk(t,e,n,s,r,i){return M(),Y("div",pk,[_("div",mk,[_("div",_k,[_("div",{class:se(["trades__text -button",{"-active":r.timeStampForSpot===1,"-disabled":r.loaderForSpot}]),onClick:e[0]||(e[0]=o=>i.setTime(1))},[r.loaderForSpot?(M(),Y("img",yk)):(M(),Y("span",gk,"1s"))],2),_("div",{class:se(["trades__text -button",{"-active":r.timeStampForSpot===12,"-disabled":r.loaderForSpot}]),onClick:e[1]||(e[1]=o=>i.setTime(12))},[r.loaderForSpot?(M(),Y("img",Tk)):(M(),Y("span",vk,"12s"))],2),_("div",{class:se(["trades__text -button",{"-active":r.timeStampForSpot===24,"-disabled":r.loaderForSpot}]),onClick:e[2]||(e[2]=o=>i.setTime(24))},[r.loaderForSpot?(M(),Y("img",wk)):(M(),Y("span",Ek,"24s"))],2),_("div",{class:se(["trades__text -button",{"-active":r.timeStampForSpot===0,"-disabled":r.loaderForSpot}]),onClick:e[3]||(e[3]=o=>i.removeTime())},[r.loaderForSpot?(M(),Y("img",bk)):(M(),Y("span",Ik,"Genel"))],2)]),_("div",Sk,[e[4]||(e[4]=_("div",{class:"trades__text"},"Fiyat",-1)),e[5]||(e[5]=_("div",{class:"trades__text"},"Tutar ($)",-1)),_("div",Ak,"Tutar ("+le(n.symbol)+")",1),e[6]||(e[6]=_("div",{class:"trades__text"},"Zaman",-1))]),(M(!0),Y(ot,null,sn(n.trades,(o,c)=>(M(),Y("div",{class:se(["trades__item",{"-buy":o.type==="buy","-sell":o.type==="sell"}]),key:c},[_("div",{class:se(["trades__text --price",{"-buy":o.type==="buy","-sell":o.type==="sell"}])},"$"+le(i.formatNumber(o.price,2)),3),_("div",{class:se(["trades__text --price",{"-buy":o.type==="buy","-sell":o.type==="sell"}])},"$"+le(i.formatNumber(o.qty*o.price,2)),3),_("div",Ck,le(i.formatNumber(o.qty,5)),1),_("div",Rk,le(o.time),1)],2))),128))])])}const kk=ye(fk,[["render",Pk],["__scopeId","data-v-6ea52650"]]),Ok={name:"list",data(){return{}},components:{Header:Z4,Orders:dk,Trades:kk},props:{symbol:{type:String,required:!0}},created(){},beforeUnmount(){this.$store.dispatch("coinDetail/closeCoinDetail")},methods:{},computed:{coinSymbol(){return this.$store.getters["coinDetail/coinSymbol"]},tickerData(){return this.$store.getters["coinDetail/tickerData"]},depthData(){return this.$store.getters["coinDetail/depthData"]},oldVolumes(){return this.$store.getters["coinDetail/historicalVolumes"]},klineData(){return this.$store.getters["coinDetail/klineData"]},trades(){return this.$store.getters["coinDetail/trades"]}}},Dk={class:"detail"},Nk={class:"detail__header"},xk={class:"detail__content"};function Lk(t,e,n,s,r,i){const o=ne("Header"),c=ne("Orders"),l=ne("Trades");return M(),Y("div",Dk,[e[0]||(e[0]=_("img",{class:"detail__divider",src:jt,alt:""},null,-1)),_("div",Nk,[i.tickerData&&i.oldVolumes?(M(),$e(o,{key:0,"coin-symbol":i.coinSymbol,"ticker-data":i.tickerData,"old-volumes":i.oldVolumes},null,8,["coin-symbol","ticker-data","old-volumes"])):Gt("",!0)]),_("div",xk,[i.depthData&&i.tickerData?(M(),$e(c,{key:0,"depth-data":i.depthData,"last-price":i.tickerData.lastPrice},null,8,["depth-data","last-price"])):Gt("",!0),i.trades?(M(),$e(l,{key:1,trades:i.trades,symbol:i.coinSymbol},null,8,["trades","symbol"])):Gt("",!0)]),e[1]||(e[1]=_("img",{class:"detail__divider",src:jt,alt:""},null,-1))])}const Vk=ye(Ok,[["render",Lk],["__scopeId","data-v-7a286a31"]]),Mk={name:"detail-layout",data(){return{}},components:{TheHeader:Xs,Detail:Vk,TheFooter:Zs},props:{symbol:{type:String}},created(){},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name}}},Fk={class:"detail"};function $k(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("Detail",!0),l=ne("TheFooter");return M(),Y("div",Fk,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),n.symbol?(M(),$e(c,{key:0,symbol:n.symbol},null,8,["symbol"])):Gt("",!0),X(l)])}const Uk=ye(Mk,[["render",$k],["__scopeId","data-v-84b638ab"]]),Bk={name:"orders-list",components:{ArrowUp:Wr,ArrowDown:Kr,Search:ho},data(){return{inputFocused:!1,searchText:"",debounceTimer:null}},watch:{searchText(t){const e=t.trim().toUpperCase();e?this.$store.dispatch("orderList/watchCoin",e):this.$store.dispatch("orderList/initOrderList")}},created(){this.$store.dispatch("orderList/initOrderList")},methods:{formatNumber(t,e=4){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")},onSearchInput(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{const t=this.searchText.trim().toUpperCase();t.length>=2&&this.$store.dispatch("orderList/watchCoin",t)},600)},async goDetail(t){await this.$store.dispatch("coinDetail/openCoinDetail",t.symbol),this.$router.push({name:"CoinDetail",params:{symbol:t.symbol}})}},computed:{orders(){return this.$store.state.orderList.orders}}},jk={class:"list"},Hk={class:"list__header"},qk={class:"list__table"},zk=["onClick"],Wk={class:"list__number"},Kk={class:"list__name"},Gk={class:"list__symbol"},Qk={class:"list__name"},Yk={class:"list__name"},Jk={class:"list__change"},Xk={class:"list__currency"},Zk={class:"list__change"},e6={class:"list__span"},t6={class:"list__change"},n6={class:"list__currency"};function s6(t,e,n,s,r,i){const o=ne("Search"),c=ne("ArrowUp"),l=ne("ArrowDown");return M(),Y("div",jk,[_("div",Hk,[_("div",{class:se(["list__input",{"-focused":r.inputFocused||r.searchText}])},[ln(_("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=u=>r.searchText=u),placeholder:"Coin Ara",onFocus:e[1]||(e[1]=u=>r.inputFocused=!0),onBlur:e[2]||(e[2]=u=>r.inputFocused=!1),onInput:e[3]||(e[3]=(...u)=>i.onSearchInput&&i.onSearchInput(...u))},null,544),[[un,r.searchText]]),X(o)],2),e[4]||(e[4]=_("h2",{class:"list__title"},"EMİR TAKİBİ",-1))]),_("table",qk,[e[5]||(e[5]=_("thead",null,[_("tr",null,[_("th",{class:"list__number"},"#"),_("th",{class:"list__name"},"Coin"),_("th",{class:"list__name"},"Emir Tutarı"),_("th",{class:"list__name"},"Miktar"),_("th",{class:"list__change"},"Fiyat"),_("th",{class:"list__change"},"24s %"),_("th",{class:"list__change"},"Hacim 24s")])],-1)),_("tbody",null,[(M(!0),Y(ot,null,sn(i.orders,(u,h)=>(M(),Y("tr",{class:se(["list__item",{"-up":u.type==="buy","-down":u.type==="sell"}]),key:h,onClick:d=>i.goDetail(u)},[_("td",Wk,le(h+1),1),_("td",Kk,[_("span",Gk,le(u.symbol),1)]),_("td",Qk,[_("span",{class:se(["list__symbol -colored",{"-buy":u.type==="buy","-sell":u.type==="sell"}])}," $"+le(i.formatNumber(u.usdValue,2)),3)]),_("td",Yk,[_("span",{class:se(["list__symbol -colored",{"-buy":u.type==="buy","-sell":u.type==="sell"}])},le(u.qty),3)]),_("td",Jk,[_("span",Xk,le(i.formatNumber(u.lastPrice,4)),1)]),_("td",Zk,[_("span",e6,[_("span",{class:se(["list__colored",{"-up":u.changePercent>0,"-down":u.changePercent<0}])},[u.changePercent>0?(M(),$e(c,{key:0})):(M(),$e(l,{key:1})),Ve(" "+le(u.changePercent),1)],2)])]),_("td",t6,[_("span",n6,"$"+le(i.formatNumber(u.volume24h,3)),1)])],10,zk))),128))])])])}const r6=ye(Bk,[["render",s6],["__scopeId","data-v-fbf7bf2b"]]),i6={name:"orders",data(){return{}},components:{List:r6},created(){this.$store.dispatch("orderList/initOrderList")},beforeUnmount(){this.$store.dispatch("orderList/stopOrderList")},computed:{orders(){return this.$store.getters["orderList/allOrders"]}}},o6={class:"orders"},a6={class:"orders__content"};function c6(t,e,n,s,r,i){const o=ne("List");return M(),Y("div",o6,[e[0]||(e[0]=_("img",{class:"orders__divider",src:jt,alt:""},null,-1)),_("div",a6,[i.orders?(M(),$e(o,{key:0})):Gt("",!0)]),e[1]||(e[1]=_("img",{class:"orders__divider",src:jt,alt:""},null,-1))])}const l6=ye(i6,[["render",c6],["__scopeId","data-v-a62f7be7"]]),u6={name:"orders-layout",data(){return{}},components:{TheHeader:Xs,Orders:l6,TheFooter:Zs},props:{symbol:{type:String}},created(){this.$store.dispatch("orderList/initOrderList")},beforeUnmount(){this.$store.dispatch("orderList/stopOrderList")},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name},allOrders(){return this.$store.getters["orderList/allOrders"]}}},h6={class:"orders"};function d6(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("Orders",!0),l=ne("TheFooter");return M(),Y("div",h6,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),X(c),X(l)])}const f6=ye(u6,[["render",d6],["__scopeId","data-v-74517959"]]),p6={name:"UpIconV2"},m6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"};function _6(t,e,n,s,r,i){return M(),Y("svg",m6,e[0]||(e[0]=[_("path",{d:"M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"},null,-1)]))}const g6=ye(p6,[["render",_6],["__scopeId","data-v-cb386c57"]]),y6={name:"UpIconV2"},v6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"};function T6(t,e,n,s,r,i){return M(),Y("svg",v6,e[0]||(e[0]=[_("path",{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},null,-1)]))}const E6=ye(y6,[["render",T6],["__scopeId","data-v-8d9e7756"]]),w6={name:"orders-list",components:{ArrowUp:Wr,ArrowDown:Kr,Search:ho,UpIcon:g6,DownIcon:E6},data(){return{inputFocused:!1,searchText:"",debounceTimer:null,filterType:"mix",minTotal:0,sortDescending:!0}},watch:{searchText(t){const e=t.trim().toUpperCase();e?this.$store.dispatch("orderBook/watchCoin",e):this.$store.dispatch("orderBook/initOrderBooks")}},methods:{formatNumber(t,e=4){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")},onSearchInput(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{const t=this.searchText.trim().toUpperCase();t.length>=2&&this.$store.dispatch("orderBook/watchCoin",t)},600)},async goDetail(t){await this.$store.dispatch("coinDetail/openCoinDetail",t.symbol),this.$router.push({name:"CoinDetail",params:{symbol:t.symbol}})},changeFilter(t){this.filterType=t},changeRange(t){if(t===this.minTotal){this.minTotal=0;return}this.minTotal=t},changeOrder(){this.sortDescending=!this.sortDescending}},computed:{orderBooks(){let t=this.$store.getters["orderBook/allOrderBookOrders"];return this.filterType!=="mix"&&(t=t.filter(e=>e.type===this.filterType)),this.minTotal>0&&(t=t.filter(e=>e.total>=this.minTotal)),t.sort((e,n)=>this.sortDescending?n.total-e.total:e.total-n.total)}}},I6={class:"list"},b6={class:"list__header"},S6={class:"list__filter"},A6={class:"list__tabs"},C6={class:"list__quickFilters"},R6={class:"list__table"},P6=["onClick"],k6={class:"list__number"},O6={class:"list__name"},D6={class:"list__symbol"},N6={class:"list__name"},x6={class:"list__name"},L6={class:"list__change"},V6={class:"list__currency"},M6={class:"list__change"},F6={class:"list__span"},$6={class:"list__change"},U6={class:"list__currency"};function B6(t,e,n,s,r,i){const o=ne("Search"),c=ne("UpIcon"),l=ne("DownIcon"),u=ne("ArrowUp"),h=ne("ArrowDown");return M(),Y("div",I6,[_("div",b6,[_("div",S6,[_("div",{class:se(["list__input",{"-focused":r.inputFocused||r.searchText}])},[ln(_("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=d=>r.searchText=d),placeholder:"Coin Ara",onFocus:e[1]||(e[1]=d=>r.inputFocused=!0),onBlur:e[2]||(e[2]=d=>r.inputFocused=!1),onInput:e[3]||(e[3]=(...d)=>i.onSearchInput&&i.onSearchInput(...d))},null,544),[[un,r.searchText]]),X(o)],2),_("div",A6,[_("div",{class:se(["list__tab",{"-active":r.filterType==="buy"}]),onClick:e[4]||(e[4]=d=>i.changeFilter("buy"))},e[11]||(e[11]=[_("span",{class:"list__tabText"},"Alış",-1)]),2),_("div",{class:se(["list__tab",{"-active":r.filterType==="sell"}]),onClick:e[5]||(e[5]=d=>i.changeFilter("sell"))},e[12]||(e[12]=[_("span",{class:"list__tabText"},"Satış",-1)]),2),_("div",{class:se(["list__tab",{"-active":r.filterType==="mix"}]),onClick:e[6]||(e[6]=d=>i.changeFilter("mix"))},e[13]||(e[13]=[_("span",{class:"list__tabText"},"Hepsi",-1)]),2)])]),e[17]||(e[17]=_("h2",{class:"list__title"},"ORDER BOOK",-1)),_("div",C6,[_("div",{class:"list__tab -sort",onClick:e[7]||(e[7]=d=>i.changeOrder())},[r.sortDescending?(M(),$e(c,{key:0})):(M(),$e(l,{key:1}))]),_("div",{class:se(["list__tab",{"-active":r.minTotal===1e4}]),onClick:e[8]||(e[8]=d=>i.changeRange(1e4))},e[14]||(e[14]=[_("span",{class:"list__tabText"},"10,000$",-1)]),2),_("div",{class:se(["list__tab",{"-active":r.minTotal===1e5}]),onClick:e[9]||(e[9]=d=>i.changeRange(1e5))},e[15]||(e[15]=[_("span",{class:"list__tabText"},"100,000$",-1)]),2),_("div",{class:se(["list__tab",{"-active":r.minTotal===5e5}]),onClick:e[10]||(e[10]=d=>i.changeRange(5e5))},e[16]||(e[16]=[_("span",{class:"list__tabText"},"500,000$",-1)]),2)])]),_("table",R6,[e[18]||(e[18]=_("thead",null,[_("tr",null,[_("th",{class:"list__number"},"#"),_("th",{class:"list__name"},"Coin"),_("th",{class:"list__name"},"Emir Tutarı"),_("th",{class:"list__name"},"Miktar"),_("th",{class:"list__change"},"Fiyat"),_("th",{class:"list__change"},"24s %"),_("th",{class:"list__change"},"Hacim 24s")])],-1)),_("tbody",null,[(M(!0),Y(ot,null,sn(i.orderBooks,(d,m)=>(M(),Y("tr",{class:se(["list__item",{"-up":d.type==="buy","-down":d.type==="sell"}]),key:m,onClick:g=>i.goDetail(d)},[_("td",k6,le(m+1),1),_("td",O6,[_("span",D6,le(d.symbol),1)]),_("td",N6,[_("span",{class:se(["list__symbol -colored",{"-buy":d.type==="buy","-sell":d.type==="sell"}])}," $"+le(i.formatNumber(d.total,2)),3)]),_("td",x6,[_("span",{class:se(["list__symbol -colored",{"-buy":d.type==="buy","-sell":d.type==="sell"}])},le(d.qty),3)]),_("td",L6,[_("span",V6," $"+le(i.formatNumber(d.price,2)),1)]),_("td",M6,[_("span",F6,[_("span",{class:se(["list__colored",{"-up":d.changePercent>0,"-down":d.changePercent<0}])},[d.changePercent>0?(M(),$e(u,{key:0})):(M(),$e(h,{key:1})),Ve(" "+le(d.changePercent),1)],2)])]),_("td",$6,[_("span",U6,"$"+le(i.formatNumber(d.volume24h,3)),1)])],10,P6))),128))])])])}const j6=ye(w6,[["render",B6],["__scopeId","data-v-97daf1ed"]]),H6={name:"book",data(){return{}},components:{List:j6},created(){this.$store.dispatch("orderBook/initOrderBooks")},beforeUnmount(){this.$store.dispatch("orderBook/stopOrderBooks")},computed:{orders(){return this.$store.getters["orderBook/allOrderBookOrders"]}}},q6={class:"book"},z6={class:"book__content"};function W6(t,e,n,s,r,i){const o=ne("List");return M(),Y("div",q6,[e[0]||(e[0]=_("img",{class:"book__divider",src:jt,alt:""},null,-1)),_("div",z6,[i.orders?(M(),$e(o,{key:0})):Gt("",!0)]),e[1]||(e[1]=_("img",{class:"book__divider",src:jt,alt:""},null,-1))])}const K6=ye(H6,[["render",W6],["__scopeId","data-v-dc75519f"]]),G6={name:"book-layout",data(){return{}},components:{TheHeader:Xs,Book:K6,TheFooter:Zs},created(){},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name}}},Q6={class:"book"};function Y6(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("Book",!0),l=ne("TheFooter");return M(),Y("div",Q6,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),X(c),X(l)])}const J6=ye(G6,[["render",Y6],["__scopeId","data-v-52dd448c"]]),Xy={methods:{symbolFormatter(t){return typeof t!="string"?t:t.replace(/USDT$/,"")},formatDecimal(t){return t==null||isNaN(t)?"0":parseFloat(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})}}},X6={name:"home-list",data(){return{inputFocused:!1,searchText:""}},components:{DollarIcon:hc,ArrowUp:Wr,ArrowDown:Kr,UpDown:mh,Search:ho},created(){},mixins:[Xy],methods:{order(t){this.$store.commit("futureList/setOrder",{type:t.type,isUp:!t.isUp})},async getVolume(t){await this.$store.dispatch("futureVolume/fetch1hVolume",t)},formatNumber(t,e=1){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}},computed:{volumes(){const t=Object.values(this.$store.getters["futureList/allCoins"]),e=this.searchText.trim().toLowerCase();return e?t.filter(n=>n.symbol.toLowerCase().includes(e)):t},orders(){return this.$store.getters["futureList/getOrders"]},activeOrderType(){const t=this.orders.find(e=>e.isActive);return t?t.type:null}}},Z6={class:"list"},e9={class:"list__header"},t9={class:"list__tabs"},n9=["onClick"],s9={class:"list__tabText"},r9={class:"list__tabICon"},i9={class:"list__table"},o9=["onClick"],a9={class:"list__name"},c9={class:"list__symbol"},l9={class:"list__name"},u9={class:"list__symbol"},h9={class:"list__price"},d9={class:"list__currency"},f9={class:"list__price"},p9={class:"list__currency"},m9={class:"list__price"},_9={class:"list__currency"},g9={class:"list__currency"},y9={key:0,class:"list__currency"},v9={key:1,class:"list__spinner",src:Gr,alt:"spinner"},T9={class:"list__span"};function E9(t,e,n,s,r,i){const o=ne("Search"),c=ne("UpDown"),l=ne("ArrowUp"),u=ne("ArrowDown"),h=ne("DollarIcon");return M(),Y("div",Z6,[_("div",e9,[_("div",{class:se(["list__input",{"-focused":r.inputFocused||r.searchText}])},[ln(_("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=d=>r.searchText=d),placeholder:"Coin Ara",onFocus:e[1]||(e[1]=d=>r.inputFocused=!0),onBlur:e[2]||(e[2]=d=>r.inputFocused=!1)},null,544),[[un,r.searchText]]),X(o)],2),e[3]||(e[3]=_("h2",{class:"list__title"},"VADELİ COİN LİSTESİ",-1)),_("div",t9,[(M(!0),Y(ot,null,sn(i.orders,(d,m)=>(M(),Y("div",{key:m,class:se(["list__tab",{"-active":d.isActive}]),onClick:g=>i.order(d)},[_("span",s9,le(d.text),1),_("span",r9,[d.isActive?d.isUp?(M(),$e(l,{key:1})):(M(),$e(u,{key:2})):(M(),$e(c,{key:0}))])],10,n9))),128))])]),_("table",i9,[_("thead",null,[_("tr",null,[e[4]||(e[4]=_("th",{class:"list__name"},"#",-1)),e[5]||(e[5]=_("th",{class:"list__name"},"Coin",-1)),_("th",{class:se([{"-active":i.activeOrderType==="lastPrice"},"list__name"])},"Fiyat",2),e[6]||(e[6]=_("th",{class:"list__price"},"En Yüksek Fiyat 24s",-1)),e[7]||(e[7]=_("th",{class:"list__change"},"En Düşük Fiyat 24s",-1)),e[8]||(e[8]=_("th",{class:"list__change"},"Ortalama Fiyat 24s",-1)),_("th",{class:se([{"-active":i.activeOrderType==="quoteVolume"},"list__change"])},"Vadeli Hacim 24s",2),_("th",{class:se([{"-active":i.activeOrderType==="quoteVolume1h"},"list__change"])},"Vadeli Hacim 1s",2),_("th",{class:se([{"-active":i.activeOrderType==="priceChangePercent"},"list__change"])},"Değişim 24s",2)])]),_("tbody",null,[(M(!0),Y(ot,null,sn(i.volumes,(d,m)=>(M(),Y("tr",{class:se(["list__item",d.changeClass]),key:m,onClick:g=>i.getVolume(d.symbol)},[_("td",a9,[_("span",c9,le(m+1),1)]),_("td",l9,[_("span",u9,le(t.symbolFormatter(d.symbol)),1)]),_("td",{class:se(["list__name",{"-active":i.activeOrderType==="lastPrice"}])},[_("span",{class:se(["list__symbol",d.changeClass])},[X(h),Ve(le(t.formatDecimal(d.lastPrice)),1)],2)],2),_("td",h9,[_("span",d9,[X(h),Ve(le(t.formatDecimal(d.highPrice)),1)])]),_("td",f9,[_("span",p9,[X(h),Ve(le(t.formatDecimal(d.lowPrice)),1)])]),_("td",m9,[_("span",_9,[X(h),Ve(le(t.formatDecimal(d.weightedAvgPrice)),1)])]),_("td",{class:se(["list__price",{"-active":i.activeOrderType==="quoteVolume"}])},[_("span",g9,[X(h),Ve(le(t.formatDecimal(d.quoteVolume)),1)])],2),_("td",{class:se(["list__price",{"-active":i.activeOrderType==="quoteVolume1h"}])},[d.quoteVolume1h?(M(),Y("span",y9,[X(h),Ve(le(t.formatDecimal(d.quoteVolume1h)),1)])):(M(),Y("img",v9))],2),_("td",{class:se(["list__change",{"-active":i.activeOrderType==="priceChangePercent"}])},[_("span",T9,[_("span",{class:se(["list__colored",{"-up":d.priceChangePercent>0,"-down":d.priceChangePercent<0}])},[d.priceChangePercent>0?(M(),$e(l,{key:0})):(M(),$e(u,{key:1})),Ve(" "+le(i.formatNumber(d.priceChangePercent))+"% ",1)],2)])],2)],10,o9))),128))])])])}const w9=ye(X6,[["render",E9],["__scopeId","data-v-8e6e7b67"]]),I9={name:"volume",data(){return{}},components:{List:w9},created(){this.$store.dispatch("futureList/connectWebSocket")},beforeUnmount(){this.$store.dispatch("futureList/disconnectWebSocket")},computed:{volumes(){return this.$store.getters["futureList/allCoins"]}}},b9={class:"volume"},S9={class:"volume__content"};function A9(t,e,n,s,r,i){const o=ne("List");return M(),Y("div",b9,[e[0]||(e[0]=_("img",{class:"volume__divider",src:jt,alt:""},null,-1)),_("div",S9,[i.volumes?(M(),$e(o,{key:0})):Gt("",!0)]),e[1]||(e[1]=_("img",{class:"volume__divider",src:jt,alt:""},null,-1))])}const C9=ye(I9,[["render",A9],["__scopeId","data-v-17c13020"]]),R9={name:"future-layout",data(){return{}},components:{TheHeader:Xs,Future:C9,TheFooter:Zs},created(){},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name}}},P9={class:"volume"};function k9(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("Future",!0),l=ne("TheFooter");return M(),Y("div",P9,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),X(c),X(l)])}const O9=ye(R9,[["render",k9],["__scopeId","data-v-48334117"]]),D9={name:"spot-list",data(){return{inputFocused:!1,searchText:""}},components:{DollarIcon:hc,ArrowUp:Wr,ArrowDown:Kr,UpDown:mh,Search:ho},created(){},mixins:[Xy],methods:{order(t){this.$store.commit("spotList/setOrder",{type:t.type,isUp:!t.isUp})},async getVolume(t){await this.$store.dispatch("spotList/fetch1hVolume",t)},formatNumber(t,e=1){if(isNaN(t))return t;const n=Number(t).toFixed(e).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}},computed:{volumes(){const t=Object.values(this.$store.getters["spotList/allCoins"]),e=this.searchText.trim().toLowerCase();return e?t.filter(n=>n.symbol.toLowerCase().includes(e)):t},orders(){return this.$store.getters["spotList/getOrders"]},activeOrderType(){const t=this.orders.find(e=>e.isActive);return t?t.type:null}}},N9={class:"list"},x9={class:"list__header"},L9={class:"list__tabs"},V9=["onClick"],M9={class:"list__tabText"},F9={class:"list__tabICon"},$9={class:"list__table"},U9=["onClick"],B9={class:"list__name"},j9={class:"list__symbol"},H9={class:"list__name"},q9={class:"list__symbol"},z9={class:"list__price"},W9={class:"list__currency"},K9={class:"list__price"},G9={class:"list__currency"},Q9={class:"list__price"},Y9={class:"list__currency"},J9={class:"list__currency"},X9={key:0,class:"list__currency"},Z9={key:1,class:"list__spinner",src:Gr,alt:"spinner"},eO={class:"list__span"};function tO(t,e,n,s,r,i){const o=ne("Search"),c=ne("UpDown"),l=ne("ArrowUp"),u=ne("ArrowDown"),h=ne("DollarIcon");return M(),Y("div",N9,[_("div",x9,[_("div",{class:se(["list__input",{"-focused":r.inputFocused||r.searchText}])},[ln(_("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=d=>r.searchText=d),placeholder:"Coin Ara",onFocus:e[1]||(e[1]=d=>r.inputFocused=!0),onBlur:e[2]||(e[2]=d=>r.inputFocused=!1)},null,544),[[un,r.searchText]]),X(o)],2),e[3]||(e[3]=_("h2",{class:"list__title"},"SPOT COİN LİSTESİ",-1)),_("div",L9,[(M(!0),Y(ot,null,sn(i.orders,(d,m)=>(M(),Y("div",{key:m,class:se(["list__tab",{"-active":d.isActive}]),onClick:g=>i.order(d)},[_("span",M9,le(d.text),1),_("span",F9,[d.isActive?d.isUp?(M(),$e(l,{key:1})):(M(),$e(u,{key:2})):(M(),$e(c,{key:0}))])],10,V9))),128))])]),_("table",$9,[_("thead",null,[_("tr",null,[e[4]||(e[4]=_("th",{class:"list__name"},"#",-1)),e[5]||(e[5]=_("th",{class:"list__name"},"Coin",-1)),_("th",{class:se([{"-active":i.activeOrderType==="lastPrice"},"list__name"])},"Fiyat",2),e[6]||(e[6]=_("th",{class:"list__price"},"En Yüksek Fiyat 24s",-1)),e[7]||(e[7]=_("th",{class:"list__change"},"En Düşük Fiyat 24s",-1)),e[8]||(e[8]=_("th",{class:"list__change"},"Ortalama Fiyat 24s",-1)),_("th",{class:se([{"-active":i.activeOrderType==="quoteVolume"},"list__change"])},"Spot Hacim 24s",2),_("th",{class:se([{"-active":i.activeOrderType==="quoteVolume1h"},"list__change"])},"Spot Hacim 1s",2),_("th",{class:se([{"-active":i.activeOrderType==="priceChangePercent"},"list__change"])},"Değişim 24s",2)])]),_("tbody",null,[(M(!0),Y(ot,null,sn(i.volumes,(d,m)=>(M(),Y("tr",{class:se(["list__item",d.changeClass]),key:m,onClick:g=>i.getVolume(d.symbol)},[_("td",B9,[_("span",j9,le(m+1),1)]),_("td",H9,[_("span",q9,le(t.symbolFormatter(d.symbol)),1)]),_("td",{class:se(["list__name",{"-active":i.activeOrderType==="lastPrice"}])},[_("span",{class:se(["list__symbol",d.changeClass])},[X(h),Ve(le(t.formatDecimal(d.lastPrice)),1)],2)],2),_("td",z9,[_("span",W9,[X(h),Ve(le(t.formatDecimal(d.highPrice)),1)])]),_("td",K9,[_("span",G9,[X(h),Ve(le(t.formatDecimal(d.lowPrice)),1)])]),_("td",Q9,[_("span",Y9,[X(h),Ve(le(t.formatDecimal(d.weightedAvgPrice)),1)])]),_("td",{class:se(["list__price",{"-active":i.activeOrderType==="quoteVolume"}])},[_("span",J9,[X(h),Ve(le(t.formatDecimal(d.quoteVolume)),1)])],2),_("td",{class:se(["list__price",{"-active":i.activeOrderType==="quoteVolume1h"}])},[d.quoteVolume1h?(M(),Y("span",X9,[X(h),Ve(le(t.formatDecimal(d.quoteVolume1h)),1)])):(M(),Y("img",Z9))],2),_("td",{class:se(["list__change",{"-active":i.activeOrderType==="priceChangePercent"}])},[_("span",eO,[_("span",{class:se(["list__colored",{"-up":d.priceChangePercent>0,"-down":d.priceChangePercent<0}])},[d.priceChangePercent>0?(M(),$e(l,{key:0})):(M(),$e(u,{key:1})),Ve(" "+le(i.formatNumber(d.priceChangePercent))+"% ",1)],2)])],2)],10,U9))),128))])])])}const nO=ye(D9,[["render",tO],["__scopeId","data-v-94e6785d"]]),sO={name:"volume",data(){return{}},components:{List:nO},created(){this.$store.dispatch("spotList/connectWebSocket")},beforeUnmount(){this.$store.dispatch("spotList/disconnectWebSocket")},computed:{volumes(){return this.$store.getters["spotList/allCoins"]}}},rO={class:"volume"},iO={class:"volume__content"};function oO(t,e,n,s,r,i){const o=ne("List");return M(),Y("div",rO,[e[0]||(e[0]=_("img",{class:"volume__divider",src:jt,alt:""},null,-1)),_("div",iO,[i.volumes?(M(),$e(o,{key:0})):Gt("",!0)]),e[1]||(e[1]=_("img",{class:"volume__divider",src:jt,alt:""},null,-1))])}const aO=ye(sO,[["render",oO],["__scopeId","data-v-c027c562"]]),cO={name:"spot-layout",data(){return{}},components:{TheHeader:Xs,Spot:aO,TheFooter:Zs},created(){},methods:{},computed:{currentRoute(){return this.$router.currentRoute._value.name}}},lO={class:"volume"};function uO(t,e,n,s,r,i){const o=ne("TheHeader"),c=ne("Spot",!0),l=ne("TheFooter");return M(),Y("div",lO,[X(o,{"current-route":i.currentRoute},null,8,["current-route"]),X(c),X(l)])}const hO=ye(cO,[["render",uO],["__scopeId","data-v-212b713b"]]),dO=[{path:"/coin-actions/",name:"Home",component:J3,meta:{requiresAuth:!1}},{path:"/coin-actions/login",name:"Login",component:gP,meta:{guestOnly:!0}},{path:"/coin-actions/register",name:"Register",component:LP,meta:{guestOnly:!0}},{path:"/coin-actions/reset-password",name:"Forgot",component:JP,meta:{guestOnly:!0}},{path:"/coin-actions/coin-list",name:"Coins",component:L4,meta:{requiresAuth:!1}},{path:"/coin-actions/coin-detail/:symbol",name:"CoinDetail",component:Uk,props:!0,meta:{requiresAuth:!1}},{path:"/coin-actions/orders",name:"Orders",component:f6,meta:{requiresAuth:!1}},{path:"/coin-actions/order-book",name:"Book",component:J6,meta:{requiresAuth:!1}},{path:"/coin-actions/future-list",name:"Future",component:O9,meta:{requiresAuth:!1}},{path:"/coin-actions/spot-list",name:"Spot",component:hO,meta:{requiresAuth:!1}}],_h=kR({history:iR(),routes:dO});_h.beforeEach(async(t,e,n)=>{const s=await b1.dispatch("login/checkLogin");t.meta.requiresAuth&&!s?n({name:"Login"}):t.meta.guestOnly&&s?n({name:"Home"}):n()});const fO={namespaced:!0,state:()=>({login:{},user:null,isLogin:!1}),mutations:{SET_LOGIN_INFO(t,e){t.login=e},SET_USER(t,e){t.user=e,t.isLogin=!!e},SET_IS_LOGIN(t,e){t.isLogin=e}},actions:{async login({commit:t,dispatch:e},{email:n,password:s}){t("SET_LOGIN_INFO",{email:n,password:s}),t("SET_IS_LOGIN",!1);try{const i=(await j2(xs,n,s)).user;if(!i.emailVerified){await Jc(xs),e("notify/openNotify",{type:"warning",message:"Lütfen önce e-posta adresinizi doğrulayın."},{root:!0});return}const o=Wl(Kl,"users",i.uid),c=await _p(o);let l={...i};if(c.exists()){const u=c.data();l.isPremium=u.isPremium??!1}t("SET_USER",l),t("SET_IS_LOGIN",!0),_h.push({name:"Home"})}catch(r){let i="";throw r.message==="Firebase: Error (auth/invalid-email)."?i="Geçersiz E-posta, Lütfen Kontrol Edip Tekrar Deneyiniz":r.message==="Firebase: Error (auth/invalid-credential)."?i="Giriş Bilgilerinizi Kontrol Edip Tekrar Deneyiniz":i="Bir Hata Oluştu Lütfen Daha Sonra Tekrar Deneyin",t("SET_IS_LOGIN",!1),e("notify/openNotify",{type:"error",message:i},{root:!0}),r}},async logout({commit:t}){try{await Jc(xs),t("SET_USER",null),t("SET_IS_LOGIN",!1)}catch(e){throw e}},checkLogin({commit:t}){return new Promise(e=>{G2(xs,n=>{if(!n)t("SET_USER",null),t("SET_IS_LOGIN",!1),e(!1);else if(!n.emailVerified)Jc(xs).then(()=>{t("SET_USER",null),t("SET_IS_LOGIN",!1),e(!1)});else{const s=Wl(Kl,"users",n.uid);_p(s).then(r=>{let i={...n};if(r.exists()){const o=r.data();i.isPremium=o.isPremium??!1}t("SET_USER",i),t("SET_IS_LOGIN",!0),e(!0)}).catch(()=>{t("SET_USER",n),t("SET_IS_LOGIN",!0),e(!0)})}})})},async reset({dispatch:t},e){try{await U2(xs,e),t("notify/openNotify",{type:"success",message:"Parola Sıfırlama Bağlantısı E postanıza Gönderildi, Lütfen Spam Kutunuzu Kontrol Edin"},{root:!0})}catch(n){throw t("notify/openNotify",{type:"warning",message:"Geçersiz E-posta, Lütfen Kontrol Edip Tekrar Deneyiniz"},{root:!0}),n}}},getters:{isLogin(t){return t.isLogin},currentUser(t){return t.user}}},pO={namespaced:!0,state:()=>({}),mutations:{},actions:{async register({commit:t},{email:e,password:n,displayName:s}){try{const i=(await B2(xs,e,n)).user;await z2(i,{displayName:s}),await H2(i),await IC(Wl(Kl,"users",i.uid),{email:e,displayName:s,isPremium:!1,createdAt:new Date})}catch(r){throw console.error("Register failed:",r),r}}},getters:{}},mO={state:()=>({notify:{type:"",message:"",isShow:!1}}),mutations:{SET_NOTIFY(t,e){t.notify=e}},actions:{async openNotify({commit:t,dispatch:e},n){await t("SET_NOTIFY",{type:n.type,message:n.message,isShow:!0}),setTimeout(()=>{e("closeNotify")},4e3)},closeNotify({commit:t}){t("SET_NOTIFY",{type:"",message:"",isShow:!1})}},getters:{getNotify:t=>t.notify},namespaced:!0};function Zy(t,e){return function(){return t.apply(e,arguments)}}const{toString:_O}=Object.prototype,{getPrototypeOf:gh}=Object,{iterator:dc,toStringTag:e1}=Symbol,fc=(t=>e=>{const n=_O.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=t=>(t=t.toLowerCase(),e=>fc(e)===t),pc=t=>e=>typeof e===t,{isArray:Qr}=Array,Ji=pc("undefined");function gO(t){return t!==null&&!Ji(t)&&t.constructor!==null&&!Ji(t.constructor)&&Ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const t1=pn("ArrayBuffer");function yO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t1(t.buffer),e}const vO=pc("string"),Ut=pc("function"),n1=pc("number"),mc=t=>t!==null&&typeof t=="object",TO=t=>t===!0||t===!1,ea=t=>{if(fc(t)!=="object")return!1;const e=gh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(e1 in t)&&!(dc in t)},EO=pn("Date"),wO=pn("File"),IO=pn("Blob"),bO=pn("FileList"),SO=t=>mc(t)&&Ut(t.pipe),AO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ut(t.append)&&((e=fc(t))==="formdata"||e==="object"&&Ut(t.toString)&&t.toString()==="[object FormData]"))},CO=pn("URLSearchParams"),[RO,PO,kO,OO]=["ReadableStream","Request","Response","Headers"].map(pn),DO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Qr(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(s=0;s<o;s++)c=i[s],e.call(null,t[c],c,t)}}function s1(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r1=t=>!Ji(t)&&t!==Vs;function Jl(){const{caseless:t}=r1(this)&&this||{},e={},n=(s,r)=>{const i=t&&s1(e,r)||r;ea(e[i])&&ea(s)?e[i]=Jl(e[i],s):ea(s)?e[i]=Jl({},s):Qr(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&fo(arguments[s],n);return e}const NO=(t,e,n,{allOwnKeys:s}={})=>(fo(e,(r,i)=>{n&&Ut(r)?t[i]=Zy(r,n):t[i]=r},{allOwnKeys:s}),t),xO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),LO=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},VO=(t,e,n,s)=>{let r,i,o;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&gh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},MO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},FO=t=>{if(!t)return null;if(Qr(t))return t;let e=t.length;if(!n1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},$O=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gh(Uint8Array)),UO=(t,e)=>{const s=(t&&t[dc]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},BO=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},jO=pn("HTMLFormElement"),HO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),xp=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qO=pn("RegExp"),i1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};fo(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},zO=t=>{i1(t,(e,n)=>{if(Ut(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Ut(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WO=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Qr(t)?s(t):s(String(t).split(e)),n},KO=()=>{},GO=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function QO(t){return!!(t&&Ut(t.append)&&t[e1]==="FormData"&&t[dc])}const YO=t=>{const e=new Array(10),n=(s,r)=>{if(mc(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Qr(s)?[]:{};return fo(s,(o,c)=>{const l=n(o,r+1);!Ji(l)&&(i[c]=l)}),e[r]=void 0,i}}return s};return n(t,0)},JO=pn("AsyncFunction"),XO=t=>t&&(mc(t)||Ut(t))&&Ut(t.then)&&Ut(t.catch),o1=((t,e)=>t?setImmediate:e?((n,s)=>(Vs.addEventListener("message",({source:r,data:i})=>{r===Vs&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Vs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ut(Vs.postMessage)),ZO=typeof queueMicrotask<"u"?queueMicrotask.bind(Vs):typeof process<"u"&&process.nextTick||o1,eD=t=>t!=null&&Ut(t[dc]),N={isArray:Qr,isArrayBuffer:t1,isBuffer:gO,isFormData:AO,isArrayBufferView:yO,isString:vO,isNumber:n1,isBoolean:TO,isObject:mc,isPlainObject:ea,isReadableStream:RO,isRequest:PO,isResponse:kO,isHeaders:OO,isUndefined:Ji,isDate:EO,isFile:wO,isBlob:IO,isRegExp:qO,isFunction:Ut,isStream:SO,isURLSearchParams:CO,isTypedArray:$O,isFileList:bO,forEach:fo,merge:Jl,extend:NO,trim:DO,stripBOM:xO,inherits:LO,toFlatObject:VO,kindOf:fc,kindOfTest:pn,endsWith:MO,toArray:FO,forEachEntry:UO,matchAll:BO,isHTMLForm:jO,hasOwnProperty:xp,hasOwnProp:xp,reduceDescriptors:i1,freezeMethods:zO,toObjectSet:WO,toCamelCase:HO,noop:KO,toFiniteNumber:GO,findKey:s1,global:Vs,isContextDefined:r1,isSpecCompliantForm:QO,toJSONObject:YO,isAsyncFn:JO,isThenable:XO,setImmediate:o1,asap:ZO,isIterable:eD};function De(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}N.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const a1=De.prototype,c1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{c1[t]={value:t}});Object.defineProperties(De,c1);Object.defineProperty(a1,"isAxiosError",{value:!0});De.from=(t,e,n,s,r,i)=>{const o=Object.create(a1);return N.toFlatObject(t,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),De.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const tD=null;function Xl(t){return N.isPlainObject(t)||N.isArray(t)}function l1(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Lp(t,e,n){return t?t.concat(e).map(function(r,i){return r=l1(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function nD(t){return N.isArray(t)&&!t.some(Xl)}const sD=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function _c(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,P){return!N.isUndefined(P[R])});const s=n.metaTokens,r=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(r))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(N.isDate(b))return b.toISOString();if(!l&&N.isBlob(b))throw new De("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(b)||N.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,R,P){let F=b;if(b&&!P&&typeof b=="object"){if(N.endsWith(R,"{}"))R=s?R:R.slice(0,-2),b=JSON.stringify(b);else if(N.isArray(b)&&nD(b)||(N.isFileList(b)||N.endsWith(R,"[]"))&&(F=N.toArray(b)))return R=l1(R),F.forEach(function($,z){!(N.isUndefined($)||$===null)&&e.append(o===!0?Lp([R],z,i):o===null?R:R+"[]",u($))}),!1}return Xl(b)?!0:(e.append(Lp(P,R,i),u(b)),!1)}const d=[],m=Object.assign(sD,{defaultVisitor:h,convertValue:u,isVisitable:Xl});function g(b,R){if(!N.isUndefined(b)){if(d.indexOf(b)!==-1)throw Error("Circular reference detected in "+R.join("."));d.push(b),N.forEach(b,function(F,L){(!(N.isUndefined(F)||F===null)&&r.call(e,F,N.isString(L)?L.trim():L,R,m))===!0&&g(F,R?R.concat(L):[L])}),d.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Vp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function yh(t,e){this._pairs=[],t&&_c(t,this,e)}const u1=yh.prototype;u1.append=function(e,n){this._pairs.push([e,n])};u1.toString=function(e){const n=e?function(s){return e.call(this,s,Vp)}:Vp;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function rD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function h1(t,e,n){if(!e)return t;const s=n&&n.encode||rD;N.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=N.isURLSearchParams(e)?e.toString():new yh(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Mp{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(s){s!==null&&e(s)})}}const d1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iD=typeof URLSearchParams<"u"?URLSearchParams:yh,oD=typeof FormData<"u"?FormData:null,aD=typeof Blob<"u"?Blob:null,cD={isBrowser:!0,classes:{URLSearchParams:iD,FormData:oD,Blob:aD},protocols:["http","https","file","blob","url","data"]},vh=typeof window<"u"&&typeof document<"u",Zl=typeof navigator=="object"&&navigator||void 0,lD=vh&&(!Zl||["ReactNative","NativeScript","NS"].indexOf(Zl.product)<0),uD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hD=vh&&window.location.href||"http://localhost",dD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vh,hasStandardBrowserEnv:lD,hasStandardBrowserWebWorkerEnv:uD,navigator:Zl,origin:hD},Symbol.toStringTag,{value:"Module"})),Pt={...dD,...cD};function fD(t,e){return _c(t,new Pt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Pt.isNode&&N.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function pD(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mD(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function f1(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=n.length;return o=!o&&N.isArray(r)?r.length:o,l?(N.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!c):((!r[o]||!N.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&N.isArray(r[o])&&(r[o]=mD(r[o])),!c)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(s,r)=>{e(pD(s),r,n,0)}),n}return null}function _D(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const po={transitional:d1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=N.isObject(e);if(i&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return r?JSON.stringify(f1(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return fD(e,this.formSerializer).toString();if((c=N.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _c(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),_D(e)):e}],transformResponse:[function(e){const n=this.transitional||po.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?De.from(c,De.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{po.headers[t]={}});const gD=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yD=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&gD[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Fp=Symbol("internals");function fi(t){return t&&String(t).trim().toLowerCase()}function ta(t){return t===!1||t==null?t:N.isArray(t)?t.map(ta):String(t)}function vD(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const TD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ol(t,e,n,s,r){if(N.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!N.isString(e)){if(N.isString(s))return e.indexOf(s)!==-1;if(N.isRegExp(s))return s.test(e)}}function ED(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function wD(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}let Bt=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(c,l,u){const h=fi(l);if(!h)throw new Error("header name must be a non-empty string");const d=N.findKey(r,h);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=ta(c))}const o=(c,l)=>N.forEach(c,(u,h)=>i(u,h,l));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(N.isString(e)&&(e=e.trim())&&!TD(e))o(yD(e),n);else if(N.isObject(e)&&N.isIterable(e)){let c={},l,u;for(const h of e){if(!N.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[u=h[0]]=(l=c[u])?N.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(c,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=fi(e),e){const s=N.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return vD(r);if(N.isFunction(n))return n.call(this,r,s);if(N.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fi(e),e){const s=N.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||ol(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=fi(o),o){const c=N.findKey(s,o);c&&(!n||ol(s,s[c],c,n))&&(delete s[c],r=!0)}}return N.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||ol(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return N.forEach(this,(r,i)=>{const o=N.findKey(s,i);if(o){n[o]=ta(r),delete n[i];return}const c=e?ED(i):String(i).trim();c!==i&&delete n[i],n[c]=ta(r),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&N.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Fp]=this[Fp]={accessors:{}}).accessors,r=this.prototype;function i(o){const c=fi(o);s[c]||(wD(r,o),s[c]=!0)}return N.isArray(e)?e.forEach(i):i(e),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Bt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});N.freezeMethods(Bt);function al(t,e){const n=this||po,s=e||n,r=Bt.from(s.headers);let i=s.data;return N.forEach(t,function(c){i=c.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function p1(t){return!!(t&&t.__CANCEL__)}function Yr(t,e,n){De.call(this,t??"canceled",De.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Yr,De,{__CANCEL__:!0});function m1(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ID(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function bD(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=s[i];o||(o=u),n[r]=l,s[r]=u;let d=i,m=0;for(;d!==r;)m+=n[d++],d=d%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),u-o<e)return;const g=h&&u-h;return g?Math.round(m*1e3/g):void 0}}function SD(t,e){let n=0,s=1e3/e,r,i;const o=(u,h=Date.now())=>{n=h,r=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=s?o(u,h):(r=u,i||(i=setTimeout(()=>{i=null,o(r)},s-d)))},()=>r&&o(r)]}const xa=(t,e,n=3)=>{let s=0;const r=bD(50,250);return SD(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-s,u=r(l),h=o<=c;s=o;const d={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&h?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(d)},n)},$p=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Up=t=>(...e)=>N.asap(()=>t(...e)),AD=Pt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Pt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Pt.origin),Pt.navigator&&/(msie|trident)/i.test(Pt.navigator.userAgent)):()=>!0,CD=Pt.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];N.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),N.isString(s)&&o.push("path="+s),N.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PD(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _1(t,e,n){let s=!RD(e);return t&&(s||n==!1)?PD(t,e):e}const Bp=t=>t instanceof Bt?{...t}:t;function zs(t,e){e=e||{};const n={};function s(u,h,d,m){return N.isPlainObject(u)&&N.isPlainObject(h)?N.merge.call({caseless:m},u,h):N.isPlainObject(h)?N.merge({},h):N.isArray(h)?h.slice():h}function r(u,h,d,m){if(N.isUndefined(h)){if(!N.isUndefined(u))return s(void 0,u,d,m)}else return s(u,h,d,m)}function i(u,h){if(!N.isUndefined(h))return s(void 0,h)}function o(u,h){if(N.isUndefined(h)){if(!N.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function c(u,h,d){if(d in e)return s(u,h);if(d in t)return s(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,h,d)=>r(Bp(u),Bp(h),d,!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||r,m=d(t[h],e[h],h);N.isUndefined(m)&&d!==c||(n[h]=m)}),n}const g1=t=>{const e=zs({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=Bt.from(o),e.url=h1(_1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(N.isFormData(n)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Pt.hasStandardBrowserEnv&&(s&&N.isFunction(s)&&(s=s(e)),s||s!==!1&&AD(e.url))){const u=r&&i&&CD.read(i);u&&o.set(r,u)}return e},kD=typeof XMLHttpRequest<"u",OD=kD&&function(t){return new Promise(function(n,s){const r=g1(t);let i=r.data;const o=Bt.from(r.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=r,h,d,m,g,b;function R(){g&&g(),b&&b(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let P=new XMLHttpRequest;P.open(r.method.toUpperCase(),r.url,!0),P.timeout=r.timeout;function F(){if(!P)return;const $=Bt.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),he={data:!c||c==="text"||c==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:$,config:t,request:P};m1(function(C){n(C),R()},function(C){s(C),R()},he),P=null}"onloadend"in P?P.onloadend=F:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(F)},P.onabort=function(){P&&(s(new De("Request aborted",De.ECONNABORTED,t,P)),P=null)},P.onerror=function(){s(new De("Network Error",De.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let z=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const he=r.transitional||d1;r.timeoutErrorMessage&&(z=r.timeoutErrorMessage),s(new De(z,he.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,t,P)),P=null},i===void 0&&o.setContentType(null),"setRequestHeader"in P&&N.forEach(o.toJSON(),function(z,he){P.setRequestHeader(he,z)}),N.isUndefined(r.withCredentials)||(P.withCredentials=!!r.withCredentials),c&&c!=="json"&&(P.responseType=r.responseType),u&&([m,b]=xa(u,!0),P.addEventListener("progress",m)),l&&P.upload&&([d,g]=xa(l),P.upload.addEventListener("progress",d),P.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(h=$=>{P&&(s(!$||$.type?new Yr(null,t,P):$),P.abort(),P=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const L=ID(r.url);if(L&&Pt.protocols.indexOf(L)===-1){s(new De("Unsupported protocol "+L+":",De.ERR_BAD_REQUEST,t));return}P.send(i||null)})},DD=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(u){if(!r){r=!0,c();const h=u instanceof Error?u:this.reason;s.abort(h instanceof De?h:new Yr(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>N.asap(c),l}},ND=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},xD=async function*(t,e){for await(const n of LD(t))yield*ND(n,e)},LD=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},jp=(t,e,n,s)=>{const r=xD(t,e);let i=0,o,c=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await r.next();if(u){c(),l.close();return}let d=h.byteLength;if(n){let m=i+=d;n(m)}l.enqueue(new Uint8Array(h))}catch(u){throw c(u),u}},cancel(l){return c(l),r.return()}},{highWaterMark:2})},gc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",y1=gc&&typeof ReadableStream=="function",VD=gc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),v1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MD=y1&&v1(()=>{let t=!1;const e=new Request(Pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Hp=64*1024,eu=y1&&v1(()=>N.isReadableStream(new Response("").body)),La={stream:eu&&(t=>t.body)};gc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!La[e]&&(La[e]=N.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,s)})})})(new Response);const FD=async t=>{if(t==null)return 0;if(N.isBlob(t))return t.size;if(N.isSpecCompliantForm(t))return(await new Request(Pt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(N.isArrayBufferView(t)||N.isArrayBuffer(t))return t.byteLength;if(N.isURLSearchParams(t)&&(t=t+""),N.isString(t))return(await VD(t)).byteLength},$D=async(t,e)=>{const n=N.toFiniteNumber(t.getContentLength());return n??FD(e)},UD=gc&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:h,withCredentials:d="same-origin",fetchOptions:m}=g1(t);u=u?(u+"").toLowerCase():"text";let g=DD([r,i&&i.toAbortSignal()],o),b;const R=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let P;try{if(l&&MD&&n!=="get"&&n!=="head"&&(P=await $D(h,s))!==0){let he=new Request(e,{method:"POST",body:s,duplex:"half"}),fe;if(N.isFormData(s)&&(fe=he.headers.get("content-type"))&&h.setContentType(fe),he.body){const[C,v]=$p(P,xa(Up(l)));s=jp(he.body,Hp,C,v)}}N.isString(d)||(d=d?"include":"omit");const F="credentials"in Request.prototype;b=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:s,duplex:"half",credentials:F?d:void 0});let L=await fetch(b);const $=eu&&(u==="stream"||u==="response");if(eu&&(c||$&&R)){const he={};["status","statusText","headers"].forEach(w=>{he[w]=L[w]});const fe=N.toFiniteNumber(L.headers.get("content-length")),[C,v]=c&&$p(fe,xa(Up(c),!0))||[];L=new Response(jp(L.body,Hp,C,()=>{v&&v(),R&&R()}),he)}u=u||"text";let z=await La[N.findKey(La,u)||"text"](L,t);return!$&&R&&R(),await new Promise((he,fe)=>{m1(he,fe,{data:z,headers:Bt.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:b})})}catch(F){throw R&&R(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,t,b),{cause:F.cause||F}):De.from(F,F&&F.code,t,b)}}),tu={http:tD,xhr:OD,fetch:UD};N.forEach(tu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const qp=t=>`- ${t}`,BD=t=>N.isFunction(t)||t===null||t===!1,T1={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!BD(n)&&(s=tu[(o=String(n)).toLowerCase()],s===void 0))throw new De(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(qp).join(`
`):" "+qp(i[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:tu};function cl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yr(null,t)}function zp(t){return cl(t),t.headers=Bt.from(t.headers),t.data=al.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),T1.getAdapter(t.adapter||po.adapter)(t).then(function(s){return cl(t),s.data=al.call(t,t.transformResponse,s),s.headers=Bt.from(s.headers),s},function(s){return p1(s)||(cl(t),s&&s.response&&(s.response.data=al.call(t,t.transformResponse,s.response),s.response.headers=Bt.from(s.response.headers))),Promise.reject(s)})}const E1="1.9.0",yc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yc[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Wp={};yc.transitional=function(e,n,s){function r(i,o){return"[Axios v"+E1+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(e===!1)throw new De(r(o," has been removed"+(n?" in "+n:"")),De.ERR_DEPRECATED);return n&&!Wp[o]&&(Wp[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,c):!0}};yc.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function jD(t,e,n){if(typeof t!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const c=t[i],l=c===void 0||o(c,i,t);if(l!==!0)throw new De("option "+i+" must be "+l,De.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new De("Unknown option "+i,De.ERR_BAD_OPTION)}}const na={assertOptions:jD,validators:yc},_n=na.validators;let Fs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Mp,response:new Mp}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zs(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&na.assertOptions(s,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),r!=null&&(N.isFunction(r)?n.paramsSerializer={serialize:r}:na.assertOptions(r,{encode:_n.function,serialize:_n.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),na.assertOptions(n,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[n.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Bt.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(l=l&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const u=[];this.interceptors.response.forEach(function(R){u.push(R.fulfilled,R.rejected)});let h,d=0,m;if(!l){const b=[zp.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,u),m=b.length,h=Promise.resolve(n);d<m;)h=h.then(b[d++],b[d++]);return h}m=c.length;let g=n;for(d=0;d<m;){const b=c[d++],R=c[d++];try{g=b(g)}catch(P){R.call(this,P);break}}try{h=zp.call(this,g)}catch(b){return Promise.reject(b)}for(d=0,m=u.length;d<m;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=zs(this.defaults,e);const n=_1(e.baseURL,e.url,e.allowAbsoluteUrls);return h1(n,e.params,e.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(e){Fs.prototype[e]=function(n,s){return this.request(zs(s||{},{method:e,url:n,data:(s||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,c){return this.request(zs(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Fs.prototype[e]=n(),Fs.prototype[e+"Form"]=n(!0)});let HD=class w1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,c){s.reason||(s.reason=new Yr(i,o,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new w1(function(r){e=r}),cancel:e}}};function qD(t){return function(n){return t.apply(null,n)}}function zD(t){return N.isObject(t)&&t.isAxiosError===!0}const nu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nu).forEach(([t,e])=>{nu[e]=t});function I1(t){const e=new Fs(t),n=Zy(Fs.prototype.request,e);return N.extend(n,Fs.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return I1(zs(t,r))},n}const Qe=I1(po);Qe.Axios=Fs;Qe.CanceledError=Yr;Qe.CancelToken=HD;Qe.isCancel=p1;Qe.VERSION=E1;Qe.toFormData=_c;Qe.AxiosError=De;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=qD;Qe.isAxiosError=zD;Qe.mergeConfig=zs;Qe.AxiosHeaders=Bt;Qe.formToJSON=t=>f1(N.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=T1.getAdapter;Qe.HttpStatusCode=nu;Qe.default=Qe;const{Axios:i5,AxiosError:o5,CanceledError:a5,isCancel:c5,CancelToken:l5,VERSION:u5,all:h5,Cancel:d5,isAxiosError:f5,spread:p5,toFormData:m5,AxiosHeaders:_5,HttpStatusCode:g5,formToJSON:y5,getAdapter:v5,mergeConfig:T5}=Qe,WD={namespaced:!0,state:()=>({coinsData:[],socket:null,futuresSocket:null,logos:{},previousPrices:{},coinsDataList:[],socketList:null,logosList:{},previousPricesList:{},futuresDataMap:{},orders:[{text:"Temizle",type:"default",isUp:!1,isActive:!0},{text:"Fiyat",type:"lastPrice",isUp:!1,isActive:!1},{text:"Spot Hacim",type:"totalQuoteVolume",isUp:!1,isActive:!1},{text:"Vadeli Hacim",type:"futuresQuoteVolume",isUp:!1,isActive:!1},{text:"24s Değişim",type:"priceChangePercent",isUp:!1,isActive:!1}]}),mutations:{setCoinsData(t,e){t.coinsData=e},setPreviousPrices(t,e){t.previousPrices=e},setSocket(t,e){t.socket=e},setFuturesSocket(t,e){t.futuresSocket=e},setLogos(t,e){t.logos=e},setCoinsDataList(t,e){t.coinsDataList=e},setPreviousPricesList(t,e){t.previousPricesList=e},setSocketList(t,e){t.socketList=e},setLogosList(t,e){t.logosList=e},setFuturesDataMap(t,e){t.futuresDataMap=e},setOrders(t,e){t.orders=e}},actions:{async fetchLogos({commit:t}){const e="bitcoin,ethereum,binancecoin,solana,ripple";try{const n=await Qe.get("https://api.coingecko.com/api/v3/coins/markets",{params:{vs_currency:"usd",ids:e}}),s={};n.data.forEach(r=>{let i="";switch(r.id){case"bitcoin":i="BTCUSDT";break;case"ethereum":i="ETHUSDT";break;case"binancecoin":i="BNBUSDT";break;case"solana":i="SOLUSDT";break;case"ripple":i="XRPUSDT";break}i&&(s[i]=r.image)}),t("setLogos",s)}catch(n){console.error("Logo fetch hatası:",n)}},async connectWebSocketForHome({commit:t,state:e,dispatch:n}){if(e.socket)return;await n("fetchLogos");const s=new WebSocket("wss://stream.binance.com:9443/ws/!ticker@arr");s.onmessage=r=>{const i=JSON.parse(r.data),o=["BTCUSDT","ETHUSDT","SOLUSDT","XRPUSDT","BNBUSDT"],c=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT"],l=e.logos,u=e.previousPrices,h={};e.coinsData.forEach(g=>{h[g.symbol]=g}),i.filter(g=>o.includes(g.s)).forEach(g=>{const b=g.s.replace("USDT",""),R=Number(g.c),P=u[b];let F="";P!==void 0&&(R>P?F="-up":R<P&&(F="-down")),h[b]={symbol:b,lastPrice:R.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),priceChangePercent:Number(g.P).toFixed(2),logoUrl:l[g.s]||"",changeClass:F}});const d=Object.values(h).sort((g,b)=>c.indexOf(g.symbol+"USDT")-c.indexOf(b.symbol+"USDT")),m={};d.forEach(g=>{m[g.symbol]=Number(g.lastPrice.replace(/,/g,""))}),t("setPreviousPrices",m),t("setCoinsData",d),setTimeout(()=>{const g=d.map(b=>({...b,changeClass:""}));t("setCoinsData",g)},1500)},s.onerror=r=>{console.error("WebSocket hata:",r)},s.onclose=()=>{console.log("WebSocket kapandı"),t("setSocket",null)},t("setSocket",s)},disconnectWebSocketForHome({state:t,commit:e}){t.socket&&(t.socket.close(),e("setSocket",null))},async fetchLogosForList({commit:t}){try{const e=await Qe.get("https://api.coingecko.com/api/v3/coins/markets",{params:{vs_currency:"usd",order:"market_cap_desc",per_page:250,page:1}}),n={};e.data.forEach(s=>{n[s.symbol.toUpperCase()+"USDT"]=s.image}),t("setLogosList",n)}catch(e){console.error("Logo listesi fetch hatası:",e)}},async connectWebSocketForList({commit:t,state:e,dispatch:n}){if(e.socketList)return;await n("fetchLogosForList"),await n("connectFuturesWebSocket");const s=new WebSocket("wss://stream.binance.com:9443/ws/!ticker@arr");s.onmessage=r=>{const i=JSON.parse(r.data),o=e.logosList,c=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","DOGEUSDT"],l=i.filter(R=>R.s.endsWith("USDT")),u={};e.coinsDataList.forEach(R=>{u[R.symbol]=R}),l.forEach(R=>{var fe;const P=R.s.replace("USDT",""),F=Number(R.c),L=F.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:10}),$=e.previousPricesList[P];let z="";$!==void 0&&(F>$?z="-up":F<$&&(z="-down"));const he=((fe=e.futuresDataMap)==null?void 0:fe[R.s])||{};u[P]={symbol:P,lastPrice:L,priceChangePercent:Number(R.P).toFixed(2),logoUrl:o[R.s]||"",changeClass:z,totalVolume:Number(R.v).toFixed(3),totalQuoteVolume:Number(R.q).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),futuresVolume:he.futuresVolume?Number(he.futuresVolume).toFixed(3):"0.00000",futuresQuoteVolume:he.futuresQuoteVolume?Number(he.futuresQuoteVolume).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}});let h=Object.values(u);const d=e.orders.find(R=>R.isActive),m=d==null?void 0:d.type,g=d==null?void 0:d.isUp;m!=="default"?h.sort((R,P)=>{const F=Number((R[m]||"0").toString().replace(/,/g,"")),L=Number((P[m]||"0").toString().replace(/,/g,""));return g?L-F:F-L}):h.sort((R,P)=>{const F=c.indexOf(R.symbol+"USDT"),L=c.indexOf(P.symbol+"USDT"),$=F===-1?c.length:F,z=L===-1?c.length:L;return $-z});const b={};h.forEach(R=>{b[R.symbol]=Number(R.lastPrice.replace(/,/g,""))}),t("setPreviousPricesList",b),t("setCoinsDataList",[...h]),setTimeout(()=>{const R=e.coinsDataList.map(P=>({...P,changeClass:""}));t("setCoinsDataList",R)},1500)},s.onerror=r=>console.error("WebSocket list hatası:",r),s.onclose=()=>{console.log("WebSocket list kapandı"),t("setSocketList",null)},t("setSocketList",s)},disconnectWebSocketForList({state:t,commit:e}){t.socketList&&(t.socketList.close(),e("setSocketList",null)),t.futuresSocket&&(t.futuresSocket.close(),e("setFuturesSocket",null))},connectFuturesWebSocket({commit:t,state:e}){if(e.futuresSocket)return;const n=new WebSocket("wss://fstream.binance.com/ws/!ticker@arr");n.onmessage=s=>{const r=JSON.parse(s.data),i={...e.futuresDataMap};r.forEach(o=>{i[o.s]={futuresVolume:Number(o.v),futuresQuoteVolume:Number(o.q)}}),t("setFuturesDataMap",i)},n.onerror=s=>console.error("Futures socket error:",s),n.onclose=()=>t("setFuturesSocket",null),t("setFuturesSocket",n)},setOrderBy({state:t,commit:e},{type:n,isUp:s}){const r=t.orders.map(i=>i.type===n?{...i,isActive:!0,isUp:s}:{...i,isActive:!1});e("setOrders",r)}},getters:{coinsData:t=>t.coinsData,coinsDataList:t=>t.coinsDataList,orders:t=>t.orders.filter(e=>e.type!=="default"),activeOrder:t=>t.orders.find(e=>e.isActive)}};function KD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sa={exports:{}},GD=sa.exports,Kp;function QD(){return Kp||(Kp=1,function(t,e){(function(n,s){t.exports=s()})(GD,function(){var n=1e3,s=6e4,r=36e5,i="millisecond",o="second",c="minute",l="hour",u="day",h="week",d="month",m="quarter",g="year",b="date",R="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,F=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var re=["th","st","nd","rd"],G=de%100;return"["+de+(re[(G-20)%10]||re[G]||re[0])+"]"}},$=function(de,re,G){var Q=String(de);return!Q||Q.length>=re?de:""+Array(re+1-Q.length).join(G)+de},z={s:$,z:function(de){var re=-de.utcOffset(),G=Math.abs(re),Q=Math.floor(G/60),q=G%60;return(re<=0?"+":"-")+$(Q,2,"0")+":"+$(q,2,"0")},m:function de(re,G){if(re.date()<G.date())return-de(G,re);var Q=12*(G.year()-re.year())+(G.month()-re.month()),q=re.clone().add(Q,d),me=G-q<0,ge=re.clone().add(Q+(me?-1:1),d);return+(-(Q+(G-q)/(me?q-ge:ge-q))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:d,y:g,w:h,d:u,D:b,h:l,m:c,s:o,ms:i,Q:m}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},he="en",fe={};fe[he]=L;var C="$isDayjsObject",v=function(de){return de instanceof k||!(!de||!de[C])},w=function de(re,G,Q){var q;if(!re)return he;if(typeof re=="string"){var me=re.toLowerCase();fe[me]&&(q=me),G&&(fe[me]=G,q=me);var ge=re.split("-");if(!q&&ge.length>1)return de(ge[0])}else{var xe=re.name;fe[xe]=re,q=xe}return!Q&&q&&(he=q),q||!Q&&he},S=function(de,re){if(v(de))return de.clone();var G=typeof re=="object"?re:{};return G.date=de,G.args=arguments,new k(G)},A=z;A.l=w,A.i=v,A.w=function(de,re){return S(de,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var k=function(){function de(G){this.$L=w(G.locale,null,!0),this.parse(G),this.$x=this.$x||G.x||{},this[C]=!0}var re=de.prototype;return re.parse=function(G){this.$d=function(Q){var q=Q.date,me=Q.utc;if(q===null)return new Date(NaN);if(A.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var ge=q.match(P);if(ge){var xe=ge[2]-1||0,Ae=(ge[7]||"0").substring(0,3);return me?new Date(Date.UTC(ge[1],xe,ge[3]||1,ge[4]||0,ge[5]||0,ge[6]||0,Ae)):new Date(ge[1],xe,ge[3]||1,ge[4]||0,ge[5]||0,ge[6]||0,Ae)}}return new Date(q)}(G),this.init()},re.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},re.$utils=function(){return A},re.isValid=function(){return this.$d.toString()!==R},re.isSame=function(G,Q){var q=S(G);return this.startOf(Q)<=q&&q<=this.endOf(Q)},re.isAfter=function(G,Q){return S(G)<this.startOf(Q)},re.isBefore=function(G,Q){return this.endOf(Q)<S(G)},re.$g=function(G,Q,q){return A.u(G)?this[Q]:this.set(q,G)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(G,Q){var q=this,me=!!A.u(Q)||Q,ge=A.p(G),xe=function(Z,ie){var Ne=A.w(q.$u?Date.UTC(q.$y,ie,Z):new Date(q.$y,ie,Z),q);return me?Ne:Ne.endOf(u)},Ae=function(Z,ie){return A.w(q.toDate()[Z].apply(q.toDate("s"),(me?[0,0,0,0]:[23,59,59,999]).slice(ie)),q)},ke=this.$W,Je=this.$M,et=this.$D,rt="set"+(this.$u?"UTC":"");switch(ge){case g:return me?xe(1,0):xe(31,11);case d:return me?xe(1,Je):xe(0,Je+1);case h:var V=this.$locale().weekStart||0,ce=(ke<V?ke+7:ke)-V;return xe(me?et-ce:et+(6-ce),Je);case u:case b:return Ae(rt+"Hours",0);case l:return Ae(rt+"Minutes",1);case c:return Ae(rt+"Seconds",2);case o:return Ae(rt+"Milliseconds",3);default:return this.clone()}},re.endOf=function(G){return this.startOf(G,!1)},re.$set=function(G,Q){var q,me=A.p(G),ge="set"+(this.$u?"UTC":""),xe=(q={},q[u]=ge+"Date",q[b]=ge+"Date",q[d]=ge+"Month",q[g]=ge+"FullYear",q[l]=ge+"Hours",q[c]=ge+"Minutes",q[o]=ge+"Seconds",q[i]=ge+"Milliseconds",q)[me],Ae=me===u?this.$D+(Q-this.$W):Q;if(me===d||me===g){var ke=this.clone().set(b,1);ke.$d[xe](Ae),ke.init(),this.$d=ke.set(b,Math.min(this.$D,ke.daysInMonth())).$d}else xe&&this.$d[xe](Ae);return this.init(),this},re.set=function(G,Q){return this.clone().$set(G,Q)},re.get=function(G){return this[A.p(G)]()},re.add=function(G,Q){var q,me=this;G=Number(G);var ge=A.p(Q),xe=function(Je){var et=S(me);return A.w(et.date(et.date()+Math.round(Je*G)),me)};if(ge===d)return this.set(d,this.$M+G);if(ge===g)return this.set(g,this.$y+G);if(ge===u)return xe(1);if(ge===h)return xe(7);var Ae=(q={},q[c]=s,q[l]=r,q[o]=n,q)[ge]||1,ke=this.$d.getTime()+G*Ae;return A.w(ke,this)},re.subtract=function(G,Q){return this.add(-1*G,Q)},re.format=function(G){var Q=this,q=this.$locale();if(!this.isValid())return q.invalidDate||R;var me=G||"YYYY-MM-DDTHH:mm:ssZ",ge=A.z(this),xe=this.$H,Ae=this.$m,ke=this.$M,Je=q.weekdays,et=q.months,rt=q.meridiem,V=function(ie,Ne,T,E){return ie&&(ie[Ne]||ie(Q,me))||T[Ne].slice(0,E)},ce=function(ie){return A.s(xe%12||12,ie,"0")},Z=rt||function(ie,Ne,T){var E=ie<12?"AM":"PM";return T?E.toLowerCase():E};return me.replace(F,function(ie,Ne){return Ne||function(T){switch(T){case"YY":return String(Q.$y).slice(-2);case"YYYY":return A.s(Q.$y,4,"0");case"M":return ke+1;case"MM":return A.s(ke+1,2,"0");case"MMM":return V(q.monthsShort,ke,et,3);case"MMMM":return V(et,ke);case"D":return Q.$D;case"DD":return A.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return V(q.weekdaysMin,Q.$W,Je,2);case"ddd":return V(q.weekdaysShort,Q.$W,Je,3);case"dddd":return Je[Q.$W];case"H":return String(xe);case"HH":return A.s(xe,2,"0");case"h":return ce(1);case"hh":return ce(2);case"a":return Z(xe,Ae,!0);case"A":return Z(xe,Ae,!1);case"m":return String(Ae);case"mm":return A.s(Ae,2,"0");case"s":return String(Q.$s);case"ss":return A.s(Q.$s,2,"0");case"SSS":return A.s(Q.$ms,3,"0");case"Z":return ge}return null}(ie)||ge.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(G,Q,q){var me,ge=this,xe=A.p(Q),Ae=S(G),ke=(Ae.utcOffset()-this.utcOffset())*s,Je=this-Ae,et=function(){return A.m(ge,Ae)};switch(xe){case g:me=et()/12;break;case d:me=et();break;case m:me=et()/3;break;case h:me=(Je-ke)/6048e5;break;case u:me=(Je-ke)/864e5;break;case l:me=Je/r;break;case c:me=Je/s;break;case o:me=Je/n;break;default:me=Je}return q?me:A.a(me)},re.daysInMonth=function(){return this.endOf(d).$D},re.$locale=function(){return fe[this.$L]},re.locale=function(G,Q){if(!G)return this.$L;var q=this.clone(),me=w(G,Q,!0);return me&&(q.$L=me),q},re.clone=function(){return A.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},de}(),I=k.prototype;return S.prototype=I,[["$ms",i],["$s",o],["$m",c],["$H",l],["$W",u],["$M",d],["$y",g],["$D",b]].forEach(function(de){I[de[1]]=function(re){return this.$g(re,de[0],de[1])}}),S.extend=function(de,re){return de.$i||(de(re,k,S),de.$i=!0),S},S.locale=w,S.isDayjs=v,S.unix=function(de){return S(1e3*de)},S.en=fe[he],S.Ls=fe,S.p={},S})}(sa)),sa.exports}var YD=QD();const Gp=KD(YD),JD={namespaced:!0,state:()=>({coinSymbol:null,tickerData:null,depthData:{bids:[],asks:[]},historicalVolumes:{weekly:null,monthly:null,quarterly:null},klineData:[],trades:[],socketTicker:null,socketDepth:null,socketTrades:null}),mutations:{setCoinSymbol(t,e){t.coinSymbol=e},setTickerData(t,e){t.tickerData=e},setDepthData(t,{bids:e,asks:n}){t.depthData={bids:[...e],asks:[...n]}},setHistoricalVolumes(t,{weekly:e,monthly:n,quarterly:s}){t.historicalVolumes={weekly:e,monthly:n,quarterly:s}},setKlineData(t,e){t.klineData=e},setTrades(t,e){t.trades=e},setSocketTicker(t,e){t.socketTicker=e},setSocketDepth(t,e){t.socketDepth=e},setSocketTrades(t,e){t.socketTrades=e},clearSockets(t){t.socketTicker&&t.socketTicker.close(),t.socketDepth&&t.socketDepth.close(),t.socketTrades&&t.socketTrades.close(),t.socketTicker=null,t.socketDepth=null,t.socketTrades=null},clearSocketTrades(t){t.socketTrades&&(t.socketTrades.close(),t.socketTrades=null)}},actions:{async openCoinDetail({commit:t,dispatch:e},n){t("clearSockets"),t("setCoinSymbol",n),await Promise.all([e("fetchHistoricalVolumes",n),e("fetchKlineData",n)]),e("connectTickerSocket",n),e("connectDepthSocket",n),e("connectTradesSocket",n)},async fetchHistoricalVolumes({commit:t},e){const n=`${e.toUpperCase()}USDT`;try{const r=(await Qe.get("https://api.binance.com/api/v3/klines",{params:{symbol:n,interval:"1d",limit:90}})).data.map(l=>parseFloat(l[7])),i=r.slice(-7).reduce((l,u)=>l+u,0),o=r.slice(-30).reduce((l,u)=>l+u,0),c=r.reduce((l,u)=>l+u,0);t("setHistoricalVolumes",{weekly:i.toFixed(2),monthly:o.toFixed(2),quarterly:c.toFixed(2)})}catch(s){console.error("Historical volume fetch error:",s)}},async fetchKlineData({commit:t},e){const n=`${e.toUpperCase()}USDT`;try{const r=(await Qe.get("https://api.binance.com/api/v3/klines",{params:{symbol:n,interval:"1h",limit:100}})).data.map(i=>({time:i[0],open:parseFloat(i[1]),high:parseFloat(i[2]),low:parseFloat(i[3]),close:parseFloat(i[4]),volume:parseFloat(i[5])}));t("setKlineData",r)}catch(s){console.error("Kline data fetch error:",s)}},async fetchHistoricalTradesByRange({commit:t},{symbol:e,hours:n}){t("clearSocketTrades");const s=`${e.toUpperCase()}USDT`,r=Date.now(),i=[];for(let c=n;c>0;c--){const l=r-(c-1)*60*60*1e3,u=l-60*60*1e3;try{const d=(await Qe.get("https://api.binance.com/api/v3/aggTrades",{params:{symbol:s,startTime:u,endTime:l,limit:1e3}})).data.map(m=>{const g=parseFloat(m.p),b=parseFloat(m.q),R=g*b;return{price:g.toFixed(2),qty:b.toFixed(4),total:R,time:Gp(m.T).format("HH:mm:ss"),type:m.m?"sell":"buy"}});i.push(...d)}catch(h){console.error(`${n} saatlik trade verisi (saat ${c}) alınırken hata:`,h)}}const o=i.sort((c,l)=>l.total-c.total).slice(0,40);t("setTrades",o)},connectTickerSocket({commit:t},e){const n=new WebSocket(`wss://stream.binance.com:9443/ws/${e.toLowerCase()}usdt@ticker`);n.onmessage=s=>{const r=JSON.parse(s.data);t("setTickerData",{lastPrice:parseFloat(r.c).toFixed(2),changePercent:parseFloat(r.P).toFixed(2),changeAmount:Number(r.p).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4}),volume24h:parseFloat(r.q).toFixed(2),high24h:parseFloat(r.h).toFixed(2),low24h:parseFloat(r.l).toFixed(2)})},n.onerror=s=>console.error("Ticker socket error:",s),t("setSocketTicker",n)},connectDepthSocket({commit:t,state:e},n){const s=new WebSocket(`wss://stream.binance.com:9443/ws/${n.toLowerCase()}usdt@depth20@100ms`);s.onmessage=r=>{try{const i=JSON.parse(r.data),o=i.bids,c=i.asks;t("setDepthData",{bids:o,asks:c})}catch(i){console.error("Depth data error:",i)}},s.onerror=r=>console.error("Depth socket error:",r),t("setSocketDepth",s)},connectTradesSocket({commit:t},e){const n=new WebSocket(`wss://stream.binance.com:9443/ws/${e.toLowerCase()}usdt@trade`),s=[];n.onmessage=r=>{const i=JSON.parse(r.data);s.unshift({price:parseFloat(i.p).toFixed(2),qty:parseFloat(i.q).toFixed(4),time:Gp(i.T).format("HH:mm:ss"),type:i.m?"sell":"buy"}),s.length>40&&s.pop(),t("setTrades",[...s])},n.onerror=r=>console.error("Trades socket error:",r),t("setSocketTrades",n)},closeCoinDetail({commit:t}){t("clearSockets"),console.log("detail Socket kapandı")}},getters:{coinSymbol:t=>t.coinSymbol,tickerData:t=>t.tickerData,depthData:t=>t.depthData,historicalVolumes:t=>t.historicalVolumes,klineData:t=>t.klineData,trades:t=>t.trades}},XD={namespaced:!0,state:()=>({orders:[],sockets:[],tickers:{}}),mutations:{addOrder(t,e){t.orders.unshift(e),t.orders.length>100&&t.orders.pop()},addSocket(t,e){t.sockets.push(e)},clearSockets(t){t.sockets.forEach(e=>e.close()),t.sockets=[]},clearOrders(t){t.orders=[]},updateTicker(t,{symbol:e,data:n}){t.tickers[e]=n}},actions:{async initOrderList({commit:t,dispatch:e}){t("clearSockets"),t("clearOrders");const n=["BTC","ETH","BNB","SOL","ADA","XRP","AVAX","DOGE","DOT","MATIC","LTC","SHIB","LINK","BCH","XLM","NEAR","FIL","ATOM","APT","ICP"];await e("connectTradeSocket","BTC"),await e("connectTickerSocket","BTC");const s=n.filter(r=>r!=="BTC");for(let r=0;r<s.length;r++){const i=s[r];await new Promise(o=>setTimeout(o,500)),e("connectTradeSocket",i),e("connectTickerSocket",i),console.log("açıldı",i)}},watchCoin({commit:t,dispatch:e},n){const s=n.toUpperCase();s&&(t("clearSockets"),t("clearOrders"),e("connectTradeSocket",s),e("connectTickerSocket",s))},connectTradeSocket({commit:t,state:e},n){const s=n.toLowerCase()+"usdt",r=new WebSocket(`wss://stream.binance.com:9443/ws/${s}@trade`);r.onmessage=i=>{const o=JSON.parse(i.data),c=parseFloat(o.p),l=parseFloat(o.q),u=c*l,h=e.tickers[n]||{},d={symbol:n.toUpperCase(),price:c.toFixed(4),qty:l.toFixed(4),total:u.toFixed(4),usdValue:u,type:o.m?"sell":"buy",lastPrice:h.lastPrice||null,changePercent:h.changePercent||null,changeAmount:h.changeAmount||null,volume24h:h.volume24h||null};t("addOrder",d)},r.onerror=i=>{console.error(`Trade socket error for ${n}:`,i)},t("addSocket",r)},connectTickerSocket({commit:t},e){const n=e.toLowerCase()+"usdt",s=new WebSocket(`wss://stream.binance.com:9443/ws/${n}@ticker`);s.onmessage=r=>{const i=JSON.parse(r.data),o={lastPrice:parseFloat(i.c).toFixed(2),changePercent:parseFloat(i.P).toFixed(2),changeAmount:parseFloat(i.p).toFixed(2),volume24h:parseFloat(i.q).toFixed(2)};t("updateTicker",{symbol:e,data:o})},s.onerror=r=>{console.error(`Ticker socket error for ${e}:`,r)},t("addSocket",s)},stopOrderList({commit:t}){t("clearSockets"),t("clearOrders")}},getters:{allOrders:t=>t.orders}},ZD={namespaced:!0,state:()=>({orderBookOrders:[],sockets:[],tickers:{}}),mutations:{setOrderBookOrders(t,e){t.orderBookOrders=e},addSocket(t,e){t.sockets.push(e)},clearSockets(t){t.sockets.forEach(e=>e.close()),t.sockets=[]},updateTicker(t,{symbol:e,data:n}){t.tickers[e]=n}},actions:{async initOrderBooks({commit:t,dispatch:e}){t("clearSockets"),t("setOrderBookOrders",[]);const n=["BTC","ETH","BNB","SOL","ADA","XRP","AVAX","DOGE","DOT","MATIC","LTC","SHIB","LINK","BCH","XLM","NEAR","FIL","ATOM","APT","ICP"];e("connectDepthSocket","BTC"),e("connectTickerSocket","BTC");const s=n.filter(r=>r!=="BTC");for(let r=0;r<s.length;r++){const i=s[r];await new Promise(o=>setTimeout(o,500)),e("connectDepthSocket",i),e("connectTickerSocket",i)}},watchCoin({commit:t,dispatch:e},n){const s=n.toUpperCase();s&&(t("clearSockets"),t("setOrderBookOrders",[]),e("connectDepthSocket",s),e("connectTickerSocket",s))},connectDepthSocket({commit:t,state:e},n){const s=n.toLowerCase()+"usdt",r=new WebSocket(`wss://stream.binance.com:9443/ws/${s}@depth`);r.onmessage=i=>{const o=JSON.parse(i.data),c=o.b.map(d=>{var m,g;return{symbol:n,price:parseFloat(d[0]),qty:parseFloat(d[1]),total:parseFloat(d[0])*parseFloat(d[1]),type:"buy",changePercent:((m=e.tickers[n])==null?void 0:m.changePercent)||null,volume24h:((g=e.tickers[n])==null?void 0:g.volume24h)||null}}).filter(d=>d.qty>0),l=o.a.map(d=>{var m,g;return{symbol:n,price:parseFloat(d[0]),qty:parseFloat(d[1]),total:parseFloat(d[0])*parseFloat(d[1]),type:"sell",changePercent:((m=e.tickers[n])==null?void 0:m.changePercent)||null,volume24h:((g=e.tickers[n])==null?void 0:g.volume24h)||null}}).filter(d=>d.qty>0),h=[...e.orderBookOrders.filter(d=>d.symbol!==n),...c,...l].sort((d,m)=>m.total-d.total);t("setOrderBookOrders",h)},r.onerror=i=>{console.error(`Depth socket error for ${n}:`,i)},t("addSocket",r)},connectTickerSocket({commit:t},e){const n=e.toLowerCase()+"usdt",s=new WebSocket(`wss://stream.binance.com:9443/ws/${n}@ticker`);s.onmessage=r=>{const i=JSON.parse(r.data),o={changePercent:parseFloat(i.P).toFixed(2),volume24h:parseFloat(i.q).toFixed(2)};t("updateTicker",{symbol:e,data:o})},s.onerror=r=>{console.error(`Ticker socket error for ${e}:`,r)},t("addSocket",s)},stopOrderBooks({commit:t}){t("clearSockets"),t("setOrderBookOrders",[])}},getters:{allOrderBookOrders:t=>t.orderBookOrders}},e5={namespaced:!0,state:()=>({coins:[],previousPrices:{},socket:null,volumeFetched:{},defaultOrderList:["BTC","XRP","BCH","ETH","MATIC","SOL","BNB","1000BONK","BSW","GUN","MYRO","1000FLOKI","ACX","WIF","BOME","UNI","TURBO","ZEN","ACH","MOODENG","NEIRO","POPCAT","TON","DOGE","RAYSOL","1MBABYDOGE","GOAT","PNUT","EIGEN","SYN","RSR","SUPER","CFX","1000PEPE","WOO","JUP","APE","TWT","BID","FUN","SPX","ARK","LOKA","ALPA","BIGTIME","HMSTR","MASK","ARB","ALT","AUCTION","PENGU","PENDLE","KAVA","APT","YFI","W","SEI","SUI","JTO","TRUMP","TAO","BANANA","IOST","MYX"],orders:[{text:"Temizle",type:"default",isUp:!1,isActive:!1},{text:"Fiyat",type:"lastPrice",isUp:!1,isActive:!1},{text:"24s Hacim",type:"quoteVolume",isUp:!1,isActive:!1},{text:"1s Hacim",type:"quoteVolume1h",isUp:!1,isActive:!1},{text:"Yüzde",type:"priceChangePercent",isUp:!1,isActive:!1}]}),mutations:{setSocket(t,e){t.socket=e},clearSocket(t){t.socket=null},setCoinData(t,e){const n={};t.coins.forEach(o=>{n[o.symbol]=o}),e.forEach(o=>{const c=o.s;if(!c.endsWith("USDT"))return;const l=c.replace("USDT",""),u=parseFloat(o.c),h=t.previousPrices[l];let d="";h!==void 0&&(u>h?d="-up":u<h&&(d="-down")),n[l]={...n[l],symbol:l,fullSymbol:c,priceChangePercent:parseFloat(o.P),weightedAvgPrice:parseFloat(o.w),lastPrice:u,highPrice:parseFloat(o.h),lowPrice:parseFloat(o.l),quoteVolume:parseFloat(o.q),changeClass:d}});const s=t.orders.find(o=>o.isActive),r=Object.values(n);let i=[];if(!s||s.type==="default"){const o=[];t.defaultOrderList.forEach(l=>{const u=r.find(h=>h.symbol===l);u&&o.push(u)});const c=r.filter(l=>!t.defaultOrderList.includes(l.symbol));c.sort((l,u)=>l.symbol.localeCompare(u.symbol)),i=[...o,...c]}else{const o=s.type,c=s.isUp;i=r.filter(u=>u[o]!==void 0),i.sort((u,h)=>{const d=u[o]||0,m=h[o]||0;return c?m-d:d-m});const l=r.filter(u=>u[o]===void 0);i=[...i,...l]}t.coins=i},setQuoteVolume1h(t,{symbol:e,quoteVolume1h:n}){const s=t.coins.find(r=>r.symbol===e);s&&(s.quoteVolume1h=n.toFixed(2))},markVolumeFetched(t,e){t.volumeFetched[e]=!0},setPreviousPrices(t,e){t.previousPrices={...e}},clearChangeClass(t){t.coins=t.coins.map(e=>({...e,changeClass:""}))},setOrder(t,{type:e,isUp:n}){t.orders=t.orders.map(s=>s.type===e?{...s,isActive:!0,isUp:n}:{...s,isActive:!1})}},actions:{connectWebSocket({commit:t,state:e,dispatch:n}){if(e.socket)return;const s=new WebSocket("wss://fstream.binance.com/ws/!ticker@arr");s.onmessage=r=>{const i=JSON.parse(r.data);if(!Array.isArray(i))return;const o=i.filter(m=>m.s.endsWith("USDT"));t("setCoinData",o);const c=o.map(m=>m.s.replace("USDT","")),l=e.defaultOrderList.filter(m=>c.includes(m)),u=c.filter(m=>!e.defaultOrderList.includes(m)),h=[...l,...u];n("fetch1hVolumesWithDelay",h);const d={};o.forEach(m=>{d[m.s.replace("USDT","")]=parseFloat(m.c)}),t("setPreviousPrices",d),setTimeout(()=>{t("clearChangeClass")},1500)},s.onerror=r=>{console.error("[futureList] WebSocket Error:",r)},s.onclose=()=>{console.log("[futureList] WebSocket Closed"),t("clearSocket")},t("setSocket",s)},disconnectWebSocket({state:t,commit:e}){t.socket&&(t.socket.close(),e("clearSocket"))},async fetch1hVolume({commit:t,state:e},n){const s=`volume1h_${n}`,r=30*60*1e3;try{const i=localStorage.getItem(s);if(i){const d=JSON.parse(i);if(Date.now()-d.timestamp<r){t("setQuoteVolume1h",{symbol:n,quoteVolume1h:d.quoteVolume1h}),t("markVolumeFetched",n);return}else localStorage.removeItem(s)}const c=(await Qe.get("https://fapi.binance.com/fapi/v1/klines",{params:{symbol:n+"USDT",interval:"1h",limit:1}})).data[0],l=parseFloat(c[4]),u=parseFloat(c[5]),h=l*u;t("setQuoteVolume1h",{symbol:n,quoteVolume1h:h}),t("markVolumeFetched",n),localStorage.setItem(s,JSON.stringify({quoteVolume1h:h,timestamp:Date.now()}))}catch(i){console.error(`1h volume fetch failed for ${n}`,i)}},async fetch1hVolumesWithDelay({dispatch:t,state:e},n){for(const s of n)e.volumeFetched[s]||(await t("fetch1hVolume",s),await new Promise(r=>setTimeout(r,500)))}},getters:{allCoins:t=>t.coins,getCoin:t=>e=>t.coins.find(n=>n.symbol===e)||null,getOrders:t=>t.orders.filter(e=>e.type!=="default")}},t5={namespaced:!0,state:()=>({coins:[],previousPrices:{},socket:null,volumeFetched:{},defaultOrderList:["BTC","XRP","BCH","ETH","MATIC","SOL","BNB","1000BONK","BSW","GUN","MYRO","1000FLOKI","ACX","WIF","BOME","UNI","TURBO","ZEN","ACH","MOODENG","NEIRO","POPCAT","TON","DOGE","RAYSOL","1MBABYDOGE","GOAT","PNUT","EIGEN","SYN","RSR","SUPER","CFX","1000PEPE","WOO","JUP","APE","TWT","BID","FUN","SPX","ARK","LOKA","ALPA","BIGTIME","HMSTR","MASK","ARB","ALT","AUCTION","PENGU","PENDLE","KAVA","APT","YFI","W","SEI","SUI","JTO","TRUMP","TAO","BANANA","IOST","MYX"],orders:[{text:"Temizle",type:"default",isUp:!1,isActive:!1},{text:"Fiyat",type:"lastPrice",isUp:!1,isActive:!1},{text:"24s Hacim",type:"quoteVolume",isUp:!1,isActive:!1},{text:"1s Hacim",type:"quoteVolume1h",isUp:!1,isActive:!1},{text:"Yüzde",type:"priceChangePercent",isUp:!1,isActive:!1}]}),mutations:{setSocket(t,e){t.socket=e},clearSocket(t){t.socket=null},setCoinData(t,e){const n={};t.coins.forEach(o=>{n[o.symbol]=o}),e.forEach(o=>{const c=o.s;if(!c.endsWith("USDT"))return;const l=c.replace("USDT",""),u=parseFloat(o.c),h=t.previousPrices[l];let d="";h!==void 0&&(u>h?d="-up":u<h&&(d="-down")),n[l]={...n[l],symbol:l,fullSymbol:c,priceChangePercent:parseFloat(o.P),weightedAvgPrice:parseFloat(o.w),lastPrice:u,highPrice:parseFloat(o.h),lowPrice:parseFloat(o.l),quoteVolume:parseFloat(o.q),changeClass:d}});const s=t.orders.find(o=>o.isActive),r=Object.values(n);let i=[];if(!s||s.type==="default"){const o=[];t.defaultOrderList.forEach(l=>{const u=r.find(h=>h.symbol===l);u&&o.push(u)});const c=r.filter(l=>!t.defaultOrderList.includes(l.symbol));c.sort((l,u)=>l.symbol.localeCompare(u.symbol)),i=[...o,...c]}else{const o=s.type,c=s.isUp;i=r.filter(u=>u[o]!==void 0),i.sort((u,h)=>{const d=u[o]||0,m=h[o]||0;return c?m-d:d-m});const l=r.filter(u=>u[o]===void 0);i=[...i,...l]}t.coins=i},setQuoteVolume1h(t,{symbol:e,quoteVolume1h:n}){const s=t.coins.find(r=>r.symbol===e);s&&(s.quoteVolume1h=n.toFixed(2))},markVolumeFetched(t,e){t.volumeFetched[e]=!0},setPreviousPrices(t,e){t.previousPrices={...e}},clearChangeClass(t){t.coins=t.coins.map(e=>({...e,changeClass:""}))},setOrder(t,{type:e,isUp:n}){t.orders=t.orders.map(s=>s.type===e?{...s,isActive:!0,isUp:n}:{...s,isActive:!1})}},actions:{connectWebSocket({commit:t,state:e,dispatch:n}){if(e.socket)return;const s=new WebSocket("wss://stream.binance.com:9443/ws/!ticker@arr");s.onmessage=r=>{const i=JSON.parse(r.data);if(!Array.isArray(i))return;const o=i.filter(m=>m.s.endsWith("USDT"));t("setCoinData",o);const c=o.map(m=>m.s.replace("USDT","")),l=e.defaultOrderList.filter(m=>c.includes(m)),u=c.filter(m=>!e.defaultOrderList.includes(m)),h=[...l,...u];n("fetch1hVolumesWithDelay",h);const d={};o.forEach(m=>{d[m.s.replace("USDT","")]=parseFloat(m.c)}),t("setPreviousPrices",d),setTimeout(()=>{t("clearChangeClass")},1500)},s.onerror=r=>{console.error("[spotList] WebSocket Error:",r)},s.onclose=()=>{console.log("[spotList] WebSocket Closed"),t("clearSocket")},t("setSocket",s)},disconnectWebSocket({state:t,commit:e}){t.socket&&(t.socket.close(),e("clearSocket"))},async fetch1hVolume({commit:t,state:e},n){const s=`spot_volume1h_${n}`,r=30*60*1e3;try{const i=localStorage.getItem(s);if(i){const d=JSON.parse(i);if(Date.now()-d.timestamp<r){t("setQuoteVolume1h",{symbol:n,quoteVolume1h:d.quoteVolume1h}),t("markVolumeFetched",n);return}else localStorage.removeItem(s)}const c=(await Qe.get("https://api.binance.com/api/v3/klines",{params:{symbol:n+"USDT",interval:"1h",limit:1}})).data[0],l=parseFloat(c[4]),u=parseFloat(c[5]),h=l*u;t("setQuoteVolume1h",{symbol:n,quoteVolume1h:h}),t("markVolumeFetched",n),localStorage.setItem(s,JSON.stringify({quoteVolume1h:h,timestamp:Date.now()}))}catch(i){console.error(`[spotList] 1h volume fetch failed for ${n}`,i)}},async fetch1hVolumesWithDelay({dispatch:t,state:e},n){for(const s of n)e.volumeFetched[s]||(await t("fetch1hVolume",s),await new Promise(r=>setTimeout(r,500)))}},getters:{allCoins:t=>t.coins,getCoin:t=>e=>t.coins.find(n=>n.symbol===e)||null,getOrders:t=>t.orders.filter(e=>e.type!=="default")}},b1=sE({modules:{login:fO,register:pO,notify:mO,coins:WD,coinDetail:JD,orderList:XD,orderBook:ZD,futureList:e5,spotList:t5}});hT(OT).use(b1).use(_h).mount("#app");
